{"version":3,"file":"main.js","mappings":"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e;AAC7C;AACA;AACA,YAAY;AACZ;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA,4BAA4B,gBAAgB;AAC5C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,YAAY;AACZ;AACA;;;;;;;ACzCa;AACb;AACA,8CAA6C,EAAE,aAAa,EAAC;AAC7D,YAAY;AACZ,gBAAgB,mBAAO,CAAC,CAAO;AAC/B,kBAAkB,mBAAO,CAAC,EAAS;AACnC,gBAAgB,mBAAO,CAAC,EAAiB;AACzC,sBAAsB,mBAAO,CAAC,EAAe;AAC7C,wBAAwB,mBAAO,CAAC,EAAiB;AACjD,0BAA0B,mBAAO,CAAC,EAAmB;AACrD,4BAA4B,mBAAO,CAAC,EAAqB;AACzD,yBAAyB,mBAAO,CAAC,EAAkB;AACnD,sBAAsB,mBAAO,CAAC,EAAe;AAC7C,wBAAwB,mBAAO,CAAC,EAAiB;AACjD,yBAAyB,mBAAO,CAAC,EAAkB;AACnD;AACA;AACA,YAAY;AACZ;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA,4BAA4B,gBAAgB;AAC5C;AACA;AACA;AACA,4BAA4B,gBAAgB;AAC5C;AACA;AACA;AACA,4BAA4B,2BAA2B;AACvD;AACA;AACA;AACA,4BAA4B,YAAY;AACxC;AACA;AACA;AACA;AACA,gCAAgC,uBAAuB;AACvD;AACA;AACA;AACA;AACA;AACA;AACA;AACA,6DAA6D,gBAAgB;AAC7E,gCAAgC,kBAAkB;AAClD;AACA;AACA;AACA,4BAA4B,gBAAgB;AAC5C;AACA;AACA;AACA,+FAA+F,gBAAgB;AAC/G,gCAAgC,oBAAoB;AACpD;AACA;AACA;AACA,4BAA4B,gBAAgB;AAC5C;AACA;AACA;AACA,sGAAsG,eAAe;AACrH;AACA;AACA;AACA,0FAA0F,eAAe;AACzG;AACA;AACA;AACA,8EAA8E,eAAe;AAC7F;AACA;AACA;AACA,sFAAsF,eAAe;AACrG;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,YAAY;AACZ;AACA;;;;;;;AC/Ga;AACb;AACA,8CAA6C,EAAE,aAAa,EAAC;AAC7D,gBAAgB;AAChB,gBAAgB,mBAAO,CAAC,CAAO;AAC/B,kBAAkB,mBAAO,CAAC,EAAS;AACnC,sBAAsB,mBAAO,CAAC,EAAe;AAC7C;AACA;AACA,gBAAgB;AAChB;AACA;AACA;AACA;AACA;AACA,4BAA4B,cAAc;AAC1C;AACA;AACA;AACA,4BAA4B,gBAAgB;AAC5C;AACA;AACA;AACA,4BAA4B,eAAe;AAC3C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAgB;AAChB;AACA;;;;;;;ACxCa;AACb;AACA,8CAA6C,EAAE,aAAa,EAAC;AAC7D,kBAAkB;AAClB,gBAAgB,mBAAO,CAAC,CAAO;AAC/B,kBAAkB,mBAAO,CAAC,EAAS;AACnC,sBAAsB,mBAAO,CAAC,EAAe;AAC7C;AACA;AACA,kBAAkB;AAClB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,4BAA4B,gCAAgC;AAC5D;AACA;AACA;AACA,qFAAqF,qBAAqB;AAC1G,gCAAgC,gBAAgB;AAChD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,kBAAkB;AAClB;AACA;;;;;;;AC7Ca;AACb;AACA,8CAA6C,EAAE,aAAa,EAAC;AAC7D,eAAe;AACf,gBAAgB,mBAAO,CAAC,CAAO;AAC/B,kBAAkB,mBAAO,CAAC,EAAS;AACnC,sBAAsB,mBAAO,CAAC,EAAe;AAC7C,sBAAsB,mBAAO,CAAC,EAAe;AAC7C;AACA;AACA,eAAe;AACf;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,kFAAkF,qBAAqB;AACvG,gCAAgC,gBAAgB;AAChD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gCAAgC,kBAAkB;AAClD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe;AACf;AACA;;;;;;;AC/Ca;AACb;AACA,8CAA6C,EAAE,aAAa,EAAC;AAC7D,YAAY;AACZ,gBAAgB,mBAAO,CAAC,CAAO;AAC/B,kBAAkB,mBAAO,CAAC,EAAS;AACnC,sBAAsB,mBAAO,CAAC,EAAe;AAC7C,sBAAsB,mBAAO,CAAC,EAAe;AAC7C;AACA;AACA,YAAY;AACZ;AACA;AACA;AACA;AACA;AACA,+EAA+E,qBAAqB;AACpG,gCAAgC,gBAAgB;AAChD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gCAAgC,iBAAiB;AACjD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,YAAY;AACZ;AACA;AACA;;;;;;;ACxCa;AACb;AACA,8CAA6C,EAAE,aAAa,EAAC;AAC7D,cAAc;AACd,gBAAgB,mBAAO,CAAC,CAAO;AAC/B,kBAAkB,mBAAO,CAAC,EAAS;AACnC,gBAAgB,mBAAO,CAAC,EAAiB;AACzC,sBAAsB,mBAAO,CAAC,EAAe;AAC7C,sBAAsB,mBAAO,CAAC,EAAe;AAC7C;AACA;AACA,cAAc;AACd;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA,oCAAoC,gBAAgB;AACpD;AACA;AACA;AACA,iFAAiF,qBAAqB;AACtG,gCAAgC,gBAAgB;AAChD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gCAAgC,oBAAoB;AACpD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,cAAc;AACd;AACA;;;;;;;ACnDa;AACb;AACA,8CAA6C,EAAE,aAAa,EAAC;AAC7D,eAAe;AACf,gBAAgB,mBAAO,CAAC,CAAO;AAC/B,kBAAkB,mBAAO,CAAC,EAAS;AACnC,gBAAgB,mBAAO,CAAC,EAAiB;AACzC,sBAAsB,mBAAO,CAAC,EAAe;AAC7C,sBAAsB,mBAAO,CAAC,EAAe;AAC7C,2BAA2B,mBAAO,CAAC,EAAoB;AACvD,iCAAiC,mBAAO,CAAC,EAA0B;AACnE,4BAA4B,mBAAO,CAAC,EAAqB;AACzD,4BAA4B,mBAAO,CAAC,EAAqB;AACzD;AACA;AACA,eAAe;AACf;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,oCAAoC,gBAAgB;AACpD;AACA;AACA;AACA,oCAAoC,gBAAgB;AACpD;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA,4BAA4B,8BAA8B;AAC1D;AACA;AACA;AACA,4BAA4B,8BAA8B;AAC1D;AACA;AACA;AACA;AACA,gCAAgC,uBAAuB;AACvD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gCAAgC,qBAAqB;AACrD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,sBAAsB,+CAA+C;AACrE,6BAA6B,4CAA4C;AACzE,KAAK;AACL;AACA;AACA;AACA,qGAAqG,eAAe;AACpH;AACA;AACA;AACA,0GAA0G,eAAe;AACzH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe;AACf;AACA;;;;;;;ACrGa;AACb;AACA,8CAA6C,EAAE,aAAa,EAAC;AAC7D,iBAAiB;AACjB,gBAAgB,mBAAO,CAAC,CAAO;AAC/B,kBAAkB,mBAAO,CAAC,EAAS;AACnC,gBAAgB,mBAAO,CAAC,EAAiB;AACzC,yBAAyB,mBAAO,CAAC,EAAkB;AACnD;AACA;AACA,iBAAiB;AACjB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,oCAAoC,gBAAgB;AACpD;AACA;AACA;AACA,4BAA4B,cAAc;AAC1C;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA,4BAA4B,yBAAyB;AACrD;AACA;AACA;AACA,gGAAgG,qBAAqB;AACrH,gCAAgC,mBAAmB;AACnD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiB;AACjB;AACA;;;;;;;AC1Da;AACb;AACA,8CAA6C,EAAE,aAAa,EAAC;AAC7D,sBAAsB;AACtB,gBAAgB,mBAAO,CAAC,CAAO;AAC/B,kBAAkB,mBAAO,CAAC,EAAS;AACnC,yBAAyB,mBAAO,CAAC,EAAkB;AACnD,2BAA2B,mBAAO,CAAC,EAAoB;AACvD,sBAAsB,mBAAO,CAAC,EAAe;AAC7C;AACA;AACA,sBAAsB;AACtB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,4CAA4C,gBAAgB;AAC5D;AACA;AACA;AACA,qGAAqG,qBAAqB;AAC1H,gCAAgC,mBAAmB;AACnD;AACA;AACA;AACA;AACA;AACA;AACA;AACA,mEAAmE,gBAAgB;AACnF,gCAAgC,qBAAqB;AACrD;AACA;AACA;AACA,4BAA4B,gBAAgB;AAC5C;AACA;AACA;AACA;AACA,gCAAgC,qBAAqB;AACrD;AACA;AACA;AACA;AACA;AACA;AACA;AACA,4BAA4B,gBAAgB;AAC5C;AACA;AACA;AACA,4BAA4B,gBAAgB;AAC5C;AACA;AACA;AACA;AACA;AACA;AACA,sBAAsB;AACtB;AACA;;;;;;;ACjEa;AACb;AACA,8CAA6C,EAAE,aAAa,EAAC;AAC7D,kBAAkB;AAClB,gBAAgB,mBAAO,CAAC,CAAO;AAC/B,kBAAkB,mBAAO,CAAC,EAAS;AACnC,yBAAyB,mBAAO,CAAC,EAAkB;AACnD,sBAAsB,mBAAO,CAAC,EAAe;AAC7C;AACA;AACA,kBAAkB;AAClB;AACA;AACA;AACA;AACA;AACA,4BAA4B,aAAa;AACzC;AACA;AACA;AACA,oCAAoC,gBAAgB;AACpD;AACA;AACA;AACA,4BAA4B,6BAA6B;AACzD;AACA;AACA;AACA,4BAA4B,6BAA6B;AACzD;AACA;AACA;AACA,4BAA4B,6BAA6B;AACzD;AACA;AACA;AACA;AACA,gCAAgC,mBAAmB;AACnD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gCAAgC,uBAAuB;AACvD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,kBAAkB;AAClB;AACA;;;;;;;AC3Da;AACb;AACA,8CAA6C,EAAE,aAAa,EAAC;AAC7D,kBAAkB;AAClB,gBAAgB,mBAAO,CAAC,CAAO;AAC/B,kBAAkB,mBAAO,CAAC,EAAS;AACnC,gBAAgB,mBAAO,CAAC,EAAiB;AACzC,yBAAyB,mBAAO,CAAC,EAAkB;AACnD,sBAAsB,mBAAO,CAAC,EAAe;AAC7C;AACA;AACA,kBAAkB;AAClB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA,gCAAgC,mBAAmB;AACnD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gCAAgC,yBAAyB;AACzD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gCAAgC,uBAAuB;AACvD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,kBAAkB;AAClB;AACA;;;;;;;ACjEa;AACb;AACA,8CAA6C,EAAE,aAAa,EAAC;AAC7D,cAAc;AACd,gBAAgB,mBAAO,CAAC,CAAO;AAC/B,kBAAkB,mBAAO,CAAC,EAAS;AACnC,gBAAgB,mBAAO,CAAC,EAAiB;AACzC,sBAAsB,mBAAO,CAAC,EAAe;AAC7C,yBAAyB,mBAAO,CAAC,EAAkB;AACnD;AACA;AACA,cAAc;AACd;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA,4BAA4B,yBAAyB;AACrD;AACA;AACA;AACA,4BAA4B,gBAAgB;AAC5C;AACA;AACA;AACA,4BAA4B,gBAAgB;AAC5C;AACA;AACA;AACA,oCAAoC,gBAAgB;AACpD;AACA;AACA;AACA;AACA,gCAAgC,qBAAqB;AACrD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gCAAgC,qBAAqB;AACrD;AACA;AACA;AACA;AACA;AACA;AACA;AACA,+DAA+D,gBAAgB;AAC/E,gCAAgC,mBAAmB;AACnD;AACA;AACA;AACA,4BAA4B,gBAAgB;AAC5C;AACA;AACA;AACA;AACA;AACA;AACA,cAAc;AACd;AACA;;;;;;;ACxEa;AACb;AACA,8CAA6C,EAAE,aAAa,EAAC;AAC7D,gBAAgB;AAChB,gBAAgB,mBAAO,CAAC,CAAO;AAC/B,kBAAkB,mBAAO,CAAC,EAAS;AACnC,sBAAsB,mBAAO,CAAC,EAAe;AAC7C;AACA;AACA,gBAAgB;AAChB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,4BAA4B,gBAAgB;AAC5C;AACA;AACA;AACA,qCAAqC,gBAAgB;AACrD;AACA;AACA;AACA,qCAAqC,gBAAgB;AACrD;AACA;AACA;AACA,4BAA4B,gBAAgB;AAC5C;AACA;AACA;AACA,4BAA4B,gBAAgB;AAC5C;AACA;AACA;AACA;AACA,gCAAgC,iBAAiB;AACjD;AACA;AACA;AACA,4BAA4B,gBAAgB;AAC5C;AACA;AACA;AACA;AACA;AACA;AACA,gBAAgB;AAChB;AACA;;;;;;;ACzDa;AACb;AACA,8CAA6C,EAAE,aAAa,EAAC;AAC7D,mBAAmB;AACnB,gBAAgB,mBAAO,CAAC,CAAO;AAC/B,iBAAiB,mBAAO,CAAC,CAAgB;AACzC,cAAc,mBAAO,CAAC,EAAa;AACnC,kBAAkB,mBAAO,CAAC,CAAiB;AAC3C,kBAAkB,mBAAO,CAAC,EAAS;AACnC,oCAAoC,mBAAO,CAAC,EAAQ;AACpD,eAAe,mBAAO,CAAC,EAAM;AAC7B,mBAAmB,mBAAO,CAAC,EAAgB;AAC3C,gBAAgB,mBAAO,CAAC,EAAoB;AAC5C,wBAAwB,mBAAO,CAAC,EAAwB;AACxD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,qBAAqB,OAAO;AAC5B;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,0BAA0B;AAC1B;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;AACA;AACA,qBAAqB,0BAA0B;AAC/C,SAAS;AACT;AACA;AACA;AACA;AACA;AACA,qBAAqB,+BAA+B;AACpD,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA,yBAAyB,8CAA8C;AACvE,SAAS;AACT,0BAA0B;AAC1B;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;AACA;AACA,qBAAqB,kBAAkB;AACvC,SAAS;AACT;AACA,qBAAqB;AACrB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT,iBAAiB;AACjB;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT,iBAAiB;AACjB;AACA;AACA;AACA,qBAAqB,YAAY;AACjC;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,qBAAqB,YAAY;AACjC;AACA,SAAS;AACT;AACA;AACA;AACA,iCAAiC;AACjC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,qBAAqB,YAAY;AACjC;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA,yBAAyB,0DAA0D;AACnF,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,qBAAqB,YAAY;AACjC,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT,iBAAiB;AACjB;AACA;AACA,mBAAmB;AACnB,mBAAmB;AACnB;AACA;AACA;AACA;AACA;;;;;;;ACpOA,mC;;;;;;ACAA,iC;;;;;;ACAa;AACb;AACA,8CAA6C,EAAE,aAAa,EAAC;AAC7D,oBAAoB;AACpB,gBAAgB,mBAAO,CAAC,CAAO;AAC/B,iBAAiB,mBAAO,CAAC,CAAgB;AACzC,kBAAkB,mBAAO,CAAC,CAAiB;AAC3C,kBAAkB,mBAAO,CAAC,EAAS;AACnC,mBAAmB,mBAAO,CAAC,EAAgB;AAC3C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA,gBAAgB,gFAAgF;AAChG;AACA;AACA;AACA;AACA;AACA,sEAAsE,YAAY;AAClF;AACA;AACA,kEAAkE,YAAY,OAAO,IAAI;AACzF;AACA;AACA,gEAAgE,SAAS;AACzE;AACA;AACA,6MAA6M,YAAY,OAAO,IAAI;AACpO;AACA;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,qBAAqB,sBAAsB;AAC3C;AACA,qBAAqB,mBAAmB;AACxC,SAAS;AACT;AACA;AACA;AACA,qBAAqB,SAAS;AAC9B,qBAAqB,mBAAmB;AACxC;AACA,SAAS;AACT;AACA;AACA,oBAAoB;AACpB,oBAAoB;AACpB;AACA;AACA;AACA;;;;;;;AClFa;AACb;AACA,8CAA6C,EAAE,aAAa,EAAC;AAC7D,sBAAsB;AACtB,gBAAgB,mBAAO,CAAC,CAAO;AAC/B,iBAAiB,mBAAO,CAAC,CAAgB;AACzC,mBAAmB,mBAAO,CAAC,EAAkB;AAC7C,kBAAkB,mBAAO,CAAC,CAAiB;AAC3C,uBAAuB,mBAAO,CAAC,EAAgB;AAC/C,cAAc,mBAAO,CAAC,EAAO;AAC7B,iBAAiB,mBAAO,CAAC,EAAqB;AAC9C,qBAAqB,mBAAO,CAAC,EAAyB;AACtD,mBAAmB,mBAAO,CAAC,EAAgB;AAC3C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,sBAAsB;AACtB;AACA;AACA;AACA;AACA,kCAAkC,uBAAuB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,aAAa;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,yBAAyB,8CAA8C;AACvE,aAAa;AACb;AACA;AACA;AACA,yBAAyB,+BAA+B;AACxD,aAAa;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA,yBAAyB,8CAA8C;AACvE,SAAS;AACT;AACA;AACA;AACA,gBAAgB,8DAA8D;AAC9E;AACA;AACA;AACA;AACA;AACA,6DAA6D,UAAU,KAAK,IAAI;AAChF;AACA;AACA,+DAA+D,WAAW,MAAM,IAAI;AACpF;AACA;AACA,iEAAiE,UAAU;AAC3E;AACA;AACA,yDAAyD,QAAQ;AACjE;AACA;AACA,6DAA6D,QAAQ;AACrE;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,qBAAqB,IAAI;AACzB;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA,qBAAqB,IAAI;AACzB;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,yBAAyB,4BAA4B;AACrD,aAAa;AACb;AACA;AACA;AACA;AACA;AACA;AACA,yBAAyB,4BAA4B;AACrD,aAAa;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA,qBAAqB,IAAI;AACzB;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA,qBAAqB,+CAA+C;AACpE,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA,8BAA8B,wBAAwB;AACtD,yBAAyB,iCAAiC;AAC1D,SAAS;AACT;AACA;AACA;AACA,yDAAyD,SAAS,MAAM;AACxE;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT,iBAAiB;AACjB;AACA;AACA,yDAAyD,SAAS,MAAM;AACxE;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT,iBAAiB;AACjB;AACA;AACA;AACA;AACA;AACA,gBAAgB,gEAAgE;AAChF;AACA;AACA;AACA,oBAAoB;AACpB,oBAAoB;AACpB;AACA;AACA;AACA;AACA;AACA;;;;;;;AC7Na;AACb;AACA,8CAA6C,EAAE,aAAa,EAAC;AAC7D,uBAAuB;AACvB,gBAAgB,mBAAO,CAAC,CAAO;AAC/B,iBAAiB,mBAAO,CAAC,CAAgB;AACzC,kBAAkB,mBAAO,CAAC,CAAiB;AAC3C,wBAAwB,mBAAO,CAAC,EAAiB;AACjD,cAAc,mBAAO,CAAC,EAAO;AAC7B,iBAAiB,mBAAO,CAAC,EAAqB;AAC9C,qBAAqB,mBAAO,CAAC,EAAyB;AACtD,gBAAgB,mBAAO,CAAC,EAAoB;AAC5C,mBAAmB,mBAAO,CAAC,EAAgB;AAC3C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,2CAA2C,gCAAgC;AAC3E;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,uBAAuB;AACvB;AACA;AACA;AACA,kCAAkC,2CAA2C;AAC7E,iCAAiC,uDAAuD;AACxF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,kCAAkC,kCAAkC;AACpE,iCAAiC,0DAA0D;AAC3F;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,kCAAkC,oCAAoC;AACtE,iCAAiC,0DAA0D;AAC3F;AACA;AACA;AACA;AACA;AACA;AACA,kCAAkC,iDAAiD;AACnF,iCAAiC,0DAA0D;AAC3F;AACA;AACA;AACA;AACA;AACA;AACA;AACA,kCAAkC,2BAA2B;AAC7D,iCAAiC,yDAAyD;AAC1F,iCAAiC,4CAA4C;AAC7E;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,kCAAkC,qCAAqC;AACvE,iCAAiC,uDAAuD;AACxF,iCAAiC,4CAA4C;AAC7E;AACA;AACA;AACA;AACA;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AsB;AAC3D;AACA;AACA,qBAAqB;AACrB,qBAAqB;AACrB;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;;;;;;;ACnBa;AACb;AACA,8CAA6C,EAAE,aAAa,EAAC;AAC7D,sBAAsB;AACtB,gBAAgB,mBAAO,CAAC,CAAO;AAC/B,iBAAiB,mBAAO,CAAC,CAAgB;AACzC,kBAAkB,mBAAO,CAAC,CAAiB;AAC3C,kBAAkB,mBAAO,CAAC,EAAS;AACnC,mBAAmB,mBAAO,CAAC,EAAgB;AAC3C,wBAAwB,mBAAO,CAAC,EAAwB;AACxD;AACA;AACA;AACA;AACA;AACA;AACA;AACA,qBAAqB,4BAA4B;AACjD,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA,gBAAgB,+CAA+C;AAC/D;AACA;AACA;AACA;AACA,+DAA+D,UAAU,KAAK,IAAI;AAClF;AACA;AACA,mEAAmE,YAAY,OAAO,IAAI;AAC1F;AACA;AACA,mEAAmE,UAAU;AAC7E;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,qBAAqB,IAAI;AACzB;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA,6DAA6D,SAAS,MAAM;AAC5E;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,yBAAyB,4BAA4B;AACrD,aAAa;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA,qBAAqB,IAAI;AACzB;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,8BAA8B,mBAAmB;AACjD,SAAS;AACT,iBAAiB;AACjB;AACA;AACA,sBAAsB;AACtB,sBAAsB;AACtB;AACA;AACA;AACA;;;;;;;AC/Ha;AACb;AACA,8CAA6C,EAAE,aAAa,EAAC;AAC7D,yBAAyB;AACzB,gBAAgB,m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AAkB,mBAAO,CAAC,EAAS;AACnC,mBAAmB,mBAAO,CAAC,EAAgB;AAC3C,wBAAwB,mBAAO,CAAC,EAAwB;AACxD,gBAAgB,mBAAO,CAAC,EAAoB;AAC5C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,yBAAyB,8BAA8B;AACvD,aAAa;AACb;AACA;AACA;AACA;AACA,gBAAgB,kCAAkC;AAClD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA,6GAA6G,2BAA2B;AACxI;AACA;AACA;AACA;AACA;AACA;AACA;AACA,yBAAyB,kDAAkD;AAC3E,SAAS;AACT;AACA;AACA;AACA,gBAAgB,gJAAgJ;AAChK;AACA;AACA;AACA;AACA;AACA;AACA,+DAA+D,WAAW,MAAM,IAAI;AACpF;AACA;AACA,sGAAsG,aAAa,QAAQ,IAAI;AAC/H;AACA;AACA,qEAAqE,YAAY;AACjF;AACA;AACA,iEAAiE,UAAU;AAC3E;AACA;AACA,2EAA2E,eAAe;AAC1F;AACA;AACA,6DAA6D,QAAQ;AACrE;AACA;AACA,qEAAqE,YAAY;AACjF;AACA,qCAAqC,OAAO;AAC5C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,qBAAqB,IAAI;AACzB;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA,qBAAqB,IAAI;AACzB;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,oBAAoB,kCAAkC;AACtD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA,yDAAyD,SAAS,cAAc;AAChF;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA,yBAAyB,2CAA2C;AACpE,SAAS;AACT;AACA,qBAAqB,qBAAqB;AAC1C;AACA,SAAS;AACT;AACA;AACA;AACA,qBAAqB,uBAAuB;AAC5C;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,8BAA8B,0BAA0B;AACxD,SAAS;AACT,iBAAiB;AACjB;AACA;AACA,yDAAyD,SAAS,cAAc;AAChF;AACA;AACA;AACA;AACA;AACA;AACA;AACA,qBAAqB,0BAA0B;AAC/C,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,yBAAyB,QAAQ;AACjC,SAAS;AACT,iBAAiB;AACjB;AACA;AACA;AACA,qBAAqB,0BAA0B;AAC/C,SAAS;AACT;AACA;AACA;AACA;AACA,yDAAyD,SAAS,cAAc;AAChF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,8BAA8B,QAAQ;AACtC,SAAS;AACT,iBAAiB;AACjB;AACA;AACA,8BAA8B,sCAAsC;AACpE;AACA;AACA,8BAA8B,oDAAoD;AAClF;AACA;AACA;AACA,qBAAqB,gBAAgB;AACrC,qBAAqB,aAAa;AAClC,SAAS;AACT;AACA;AACA;AACA;AACA,gDAAgD,WAAW,uBAAuB,IAAI;AACtF;AACA,6DAA6D,WAAW;AACxE;AACA;AACA;AACA,qBAAqB;AACrB;AACA;AACA;AACA;AACA;AACA,yBAAyB;AACzB;AACA;AACA;AACA,yBAAyB;AACzB;AACA;AACA,iBAAiB;AACjB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,oBAAoB;AACpB,oBAAoB;AACpB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;ACxSa;AACb;AACA,8CAA6C,EAAE,aAAa,EAAC;AAC7D,uBAAuB;AACvB,gBAAgB,mBAAO,CAAC,CAAO;AAC/B,iBAAiB,mBAAO,CAAC,CAAgB;AACzC,kBAAkB,mBAAO,CAAC,CAAiB;AAC3C,wBAAwB,mBAAO,CAAC,EAAiB;AACjD,cAAc,mBAAO,CAAC,EAAO;AAC7B,iBAAiB,mBAAO,CAAC,EAAqB;AAC9C,qBAAqB,mBAAO,CAAC,EAAyB;AACtD,gBAAgB,mBAAO,CAAC,EAAoB;AAC5C,mBAAmB,mBAAO,CAAC,EAAgB;AAC3C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,uBAAuB;AACvB;AACA;AACA,kCAAkC,8BAA8B;AAChE,iCAAiC,yDAAyD;AAC1F;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,kCAAkC,sCAAsC;AACxE,iCAAiC,+DAA+D;AAChG;AACA;AACA;AACA;AACA;AACA;AACA,kCAAkC,kCAAkC;AACpE,iCAAiC,0DAA0D;AAC3F;AACA;AACA;AACA;AACA;AACA;AACA;AACA,kCAAkC,mCAAmC;AACrE,iCAAiC,0DAA0D;AAC3F;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,kCAAkC,qCAAqC;AACvE,iCAAiC,0DAA0D;AAC3F;AACA;AACA;AACA;AACA;AACA;AACA;AACA,kCAAkC,2BAA2B;AAC7D,iCAAiC,yDAAyD;AAC1F,iCAAiC,4CAA4C;AAC7E;AACA;AACA;AACA;AACA;AACA;AACA;AACA,kCAAkC,wBAAwB;AAC1D,iCAAiC,uDAAuD;AACxF,iCAAiC,4CAA4C;AAC7E;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,kCAAkC,gCAAgC;AAClE,iCAAiC,wDAAwD;AACzF,iCAAiC,4CAA4C;AAC7E;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,kCAAkC,qCAAqC;AACvE,iCAAiC,0DAA0D;AAC3F,iCAAiC,+CAA+C;AAChF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,kCAAkC,6BAA6B;AAC/D,iCAAiC,wDAAwD;AACzF,iCAAiC,4CAA4C;AAC7E,iCAAiC,iEAAiE;AAClG;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,kCAAkC,kCAAkC;AACpE,iCAAiC,uDAAuD;AACxF,iCAAiC,4CAA4C;AAC7E;AACA;AACA;AACA;AACA;AACA;AACA,uBAAuB;AACvB;AACA;AACA;AACA;AACA;AACA;;;;;;;AC9Ka;AACb,8CAA6C,EAAE,aAAa,EAAC;AAC7D,gBAAgB,mBAAO,CAAC,CAAO;AAC/B,qBAAqB,mBAAO,CAAC,EAAmB;AAChD,qBAAqB,mBAAO,CAAC,EAAmB;AAChD,qBAAqB,mBAAO,CAAC,EAAoB;AACjD,qBAAqB,mBAAO,CAAC,EAAsB;;;;;;;ACNtC;AACb,8CAA6C,EAAE,aAAa,EAAC;AAC7D,qBAAqB;AACrB,gBAAgB,mBAAO,CAAC,CAAO;AAC/B,0BAA0B,mBAAO,CAAC,EAAiB;AACnD,kBAAkB,mBAAO,CAAC,CAAiB;AAC3C;AACA;AACA,qBAAqB;AACrB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,yCAAyC,gBAAgB;AACzD;AACA;AACA,sCAAsC,YAAY;AAClD;AACA;;;;;;;ACrCa;AACb;AACA,8CAA6C,EAAE,aAAa,EAAC;AAC7D,qBAAqB;AACrB,gBAAgB,mBAAO,CAAC,CAAO;AAC/B,0BAA0B,mBAAO,CAAC,EAAiB;AACnD,kBAAkB,mBAAO,CAAC,CAAiB;AAC3C,gBAAgB,mBAAO,CAAC,EAAuB;AAC/C;AACA;AACA,qBAAqB;AACrB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,yCAAyC,0BAA0B;AACnE;AACA;AACA;AACA;AACA;AACA,yCAAyC,gBAAgB;AACzD;AACA;AACA,sCAAsC,YAAY;AAClD;AACA;;;;;;;AC3Ca;AACb;AACA,8CAA6C,EAAE,aAAa,EAAC;AAC7D,sBAAsB;AACtB,gBAAgB,mBAAO,CAAC,CAAO;AAC/B,0BAA0B,mBAAO,CAAC,EAAiB;AACnD,kBAAkB,mBAAO,CAAC,CAAiB;AAC3C,4BAA4B,mBAAO,CAAC,EAAmB;AACvD,gBAAgB,mBAAO,CAAC,EAAuB;AAC/C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,sBAAsB;AACtB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,yCAAyC,0BAA0B;AACnE;AACA;AACA;AACA;AACA;AACA;AACA;AACA,0CAA0C,OAAO;AACjD;AACA;AACA;AACA;AACA,yCAAyC,YAAY;AACrD;AACA;AACA;AACA;AACA;AACA;AACA;AACA,yCAAyC,aAAa;AACtD;AACA;AACA;AACA;AACA;AACA;AACA;AACA,yCAAyC,gDAAgD;AACzF;AACA;AACA;AACA;AACA;AACA,yCAAyC,uBAAuB;AAChE;AACA;AACA;AACA;;;;;;;ACxFa;AACb,8CAA6C,EAAE,aAAa,EAAC;AAC7D,wBAAwB;AACxB,gBAAgB,mBAAO,CAAC,CAAO;AAC/B,0BAA0B,mBAAO,CAAC,EAAiB;AACnD,kBAAkB,mBAAO,CAAC,CAAiB;AAC3C;AACA;AACA,wBAAwB;AACxB;AACA;AACA;AACA;AACA;AACA;;;;;;;ACda;AACb,8CAA6C,EAAE,aAAa,EAAC;AAC7D,qBAAqB;AACrB,gBAAgB,mBAAO,CAAC,CAAO;AAC/B,iBAAiB,mBAAO,CAAC,CAAgB;AACzC,kBAAkB,mBAAO,CAAC,CAAiB;AAC3C,mBAAmB,mBAAO,CAAC,EAAgB;AAC3C,0BAA0B,mBAAO,CAAC,EAAmB;AACrD,6BAA6B,mBAAO,CAAC,EAAsB;AAC3D;AACA;AACA,qBAAqB;AACrB,qBAAqB;AACrB;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;;;;;;;ACnBa;AACb;AACA,8CAA6C,EAAE,aAAa,EAAC;AAC7D,sBAAsB;AACtB,gBAAgB,mBAAO,CAAC,CAAO;AAC/B,iBAAiB,mBAAO,CAAC,CAAgB;AACzC,kBAAkB,mBAAO,CAAC,CAAiB;AAC3C,kBAAkB,mBAAO,CAAC,EAAS;AACnC,mBAAmB,mBAAO,CAAC,EAAgB;AAC3C,wBAAwB,mBAAO,CAAC,EAAwB;AACxD,gBAAgB,mBAAO,CAAC,EAAoB;AAC5C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,qBAAqB,4BAA4B;AACjD,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb,SAAS;AACT;AACA;AACA;AACA,gBAAgB,qDAAqD;AACrE;AACA;AACA;AACA;AACA;AACA,+DAA+D,QAAQ;AACvE;AACA;AACA,uEAAuE,YAAY;AACnF;AACA;AACA,mEAAmE,UAAU;AAC7E;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,qBAAqB,IAAI;AACzB;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA,qBAAqB,QAAQ;AAC7B;AACA,qBAAqB,oBAAoB;AACzC,SAAS;AACT;AACA;AACA,8BAA8B,0BAA0B;AACxD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,sBAAsB;AACtB,sBAAsB;AACtB;AACA;AACA;AACA;AACA;;;;;;;ACxHa;AACb;AACA,8CAA6C,EAAE,aAAa,EAAC;AAC7D,yBAAyB;AACzB,gBAAgB,mBAAO,CAAC,CAAO;AAC/B,iBAAiB,mBAAO,CAAC,CAAgB;AACzC,kBAAkB,mBAAO,CAAC,CAAiB;AAC3C,0BAA0B,mBAAO,CAAC,EAAmB;AACrD,cAAc,mBAAO,CAAC,EAAO;AAC7B,iBAAiB,mBAAO,CAAC,EAAqB;AAC9C,qBAAqB,mBAAO,CAAC,EAAyB;AACtD,gBAAgB,mBAAO,CAAC,E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AACA;AACA;AACA,gBAAgB,kEAAkE;AAClF;AACA;AACA;AACA;AACA;AACA;AACA;AACA,kEAAkE,WAAW,MAAM,IAAI;AACvF;AACA;AACA,8EAA8E,eAAe;AAC7F;AACA;AACA,0EAA0E,aAAa;AACvF;AACA;AACA,gEAAgE,QAAQ;AACxE;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,qBAAqB,IAAI;AACzB;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA,qBAAqB,IAAI;AACzB;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,yBAAyB,uDAAuD;AAChF,aAAa;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAgB,6CAA6C;AAC7D;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA,qBAAqB,eAAe;AACpC;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA,yBAAyB,wCAAwC;AACjE,SAAS;AACT;AACA;AACA;AACA;AACA,qBAAqB,4BAA4B;AACjD;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAgB,mBAAmB;AACnC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA,qBAAqB,4BAA4B;AACjD;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,8BAA8B,wBAAwB;AACtD,SAAS;AACT,iBAAiB;AACjB;AACA;AACA;AACA,qBAAqB,eAAe;AACpC;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,yBAAyB,oDAAoD;AAC7E,aAAa;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA,yBAAyB,6DAA6D;AACtF,SAAS;AACT;AACA,qBAAqB,oBAAoB;AACzC;AACA,SAAS;AACT;AACA;AACA;AACA,qBAAqB,eAAe;AACpC;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAgB,sCAAsC;AACtD;AACA;AACA;AACA;AACA;AACA,mFAAmF,iBAAiB;AACpG;AACA,kEAAkE,WAAW,MAAM,IAAI;AACvF;AACA;AACA,gEAAgE,QAAQ;AACxE;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,qBAAqB,eAAe;AACpC;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA,8DAA8D,SAAS,cAAc;AACrF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,yBAAyB,kCAAkC;AAC3D,SAAS;AACT;AACA;AACA;AACA;AACA,qBAAqB,eAAe;AACpC;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,8BAA8B,oCAAoC;AAClE,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,uBAAuB;AACvB,uBAAuB;AACvB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;ACpYa;AACb;AACA,8CAA6C,EAAE,aAAa,EAAC;AAC7D,0BAA0B;AAC1B,gBAAgB,mBAAO,CAAC,CAAO;AAC/B,iBAAiB,mBAAO,CAAC,CAAgB;AACzC,kBAAkB,mBAAO,CAAC,CAAiB;AAC3C,2BAA2B,mBAAO,CAAC,EAAoB;AACvD,cAAc,mBAAO,CAAC,EAAO;AAC7B,iBAAiB,mBAAO,CAAC,EAAqB;AAC9C,qBAAqB,mBAAO,CAAC,EAAyB;AACtD,gBAAgB,mBAAO,CAAC,EAAoB;AAC5C,mBAAmB,mBAAO,CAAC,EAAgB;AAC3C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,0BAA0B;AAC1B;AACA;AACA;AACA,kCAAkC,oDAAoD;AACtF,iCAAiC,0DAA0D;AAC3F;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,kCAAkC,qCAAqC;AACvE,iCAAiC,6DAA6D;AAC9F;AACA;AACA;AACA;AACA;AACA;AACA;AACA,kCAAkC,8DAA8D;AAChG,iCAAiC,6DAA6D;AAC9F;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,kCAAkC,8BAA8B;AAChE,iCAAiC,4DAA4D;AAC7F,iCAAiC,+CAA+C;AAChF;AACA;AACA;AACA;AACA;AACA;AACA;AACA,kCAAkC,yCAAyC;AAC3E,iCAAiC,6DAA6D;AAC9F;AACA;AACA;AACA;AACA;AACA;AACA;AACA,kCAAkC,2BAA2B;AAC7D,iCAAiC,0DAA0D;AAC3F,iCAAiC,+CAA+C;AAChF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,kCAAkC,qCAAqC;AACvE,iCAAiC,0DAA0D;AAC3F;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,kCAAkC,6BAA6B;AAC/D,iCAAiC,4DAA4D;AAC7F;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,kCAAkC,6BAA6B;AAC/D,iCAAiC,4DAA4D;AAC7F;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,kCAAkC,2CAA2C;AAC7E,iCAAiC,gEAAgE;AACjG;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,kCAAkC,uCAAuC;AACzE,iCAAiC,4DAA4D;AAC7F,8EAA8E,oBAAoB;AAClG;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,kCAAkC,4CAA4C;AAC9E,iCAAiC,8DAA8D;AAC/F,8EAA8E,oBAAoB;AAClG,kFAAkF,oBAAoB;AACtG;AACA;AACA;AACA;AACA;AACA,0BAA0B;AAC1B;AACA;AACA;AACA;AACA;AACA;;;;;;;AC7La;AACb,8CAA6C,EAAE,aAAa,EAAC;AAC7D,gBAAgB,mBAAO,CAAC,CAAO;AAC/B,qBAAqB,mBAAO,CAAC,EAAsB;AACnD,qBAAqB,mBAAO,CAAC,EAAsB;AACnD,qBAAqB,mBAAO,CAAC,EAAwB;AACrD,qBAAqB,mBAAO,CAAC,EAAwB;AACrD,qBAAqB,mBAAO,CAAC,EAA8B;AAC3D,qBAAqB,mBAAO,CAAC,EAAuB;;;;;;;ACRvC;AACb,8CAA6C,EAAE,aAAa,EAAC;AAC7D,wBAAwB;AACxB,gBAAgB,mBAAO,CAAC,CAAO;AAC/B,0BAA0B,mBAAO,CAAC,EAAiB;AACnD,kBAAkB,mBAAO,CAAC,CAAiB;AAC3C;AACA;AACA,wBAAwB;AACxB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,yCAAyC,gBAAgB;AACzD;AACA;AACA,yCAAyC,YAAY;AACrD;AACA;;;;;;;AClDa;AACb;AACA,8CAA6C,EAAE,aAAa,EAAC;AAC7D,wBAAwB;AACxB,gBAAgB,mBAAO,CAAC,CAAO;AAC/B,0BAA0B,mBAAO,CAAC,EAAiB;AACnD,kBAAkB,mBAAO,CAAC,CAAiB;AAC3C,gBAAgB,mBAAO,CAAC,EAAuB;AAC/C;AACA;AACA,wBAAwB;AACxB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,yCAAyC,6BAA6B;AACtE;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,yCAAyC,gBAAgB;AACzD;AACA;AACA,yCAAyC,YAAY;AACrD;AACA;;;;;;;ACtDa;AACb,8CAA6C,EAAE,aAAa,EAAC;AAC7D,0BAA0B;AAC1B,gBAAgB,mBAAO,CAAC,CAAO;AAC/B,0BAA0B,mBAAO,CAAC,EAAiB;AACnD,kBAAkB,mBAAO,CAAC,CAAiB;AAC3C;AACA;AACA,0BAA0B;AAC1B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;AChCa;AACb;AACA,8CAA6C,EAAE,aAAa,EAAC;AAC7D,0BAA0B;AAC1B,gBAAgB,mBAAO,CAAC,CAAO;AAC/B,0BAA0B,mBAAO,CAAC,EAAiB;AACnD,kBAAkB,mBAAO,CAAC,CAAiB;AAC3C,gBAAgB,mBAAO,CAAC,EAAuB;AAC/C;AACA;AACA,0BAA0B;AAC1B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,yCAAyC,+BAA+B;AACxE;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;AC1Ca;AACb,8CAA6C,EAAE,aAAa,EAAC;AAC7D,+BAA+B;AAC/B,gBAAgB,mBAAO,CAAC,CAAO;AAC/B,0BAA0B,mBAAO,CAAC,EAAiB;AACnD,kBAAkB,mBAAO,CAAC,CAAiB;AAC3C;AACA;AACA,+BAA+B;AAC/B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,yCAAyC,gBAAgB;AACzD;AACA;AACA,sCAAsC,YAAY;AAClD;AACA;;;;;;;AC3Ba;AACb;AACA,8CAA6C,EAAE,aAAa,EAAC;AAC7D,yBAAyB;AACzB,gBAAgB,mBAAO,CAAC,CAAO;AAC/B,0BAA0B,mBAAO,CAAC,EAAiB;AACnD,kBAAkB,mBAAO,CAAC,CAAiB;AAC3C,4BAA4B,mBAAO,CAAC,EAAmB;AACvD,gBAAgB,mBAAO,CAAC,EAAuB;AAC/C;AACA;AACA;AACA;AACA;AACA;AACA,yBAAyB;AACzB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,yCAAyC,6BAA6B;AACtE;AACA;AACA;AACA;AACA;AACA,yCAAyC,YAAY;AACrD;AACA;AACA;AACA;AACA;AACA;AACA;AACA,yCAAyC,aAAa;AACtD;AACA;AACA;AACA;AACA;AACA;;;;;;;ACvDa;AACb,8CAA6C,EAAE,aAAa,EAAC;AAC7D,qBAAqB;AACrB,gBAAgB,mBAAO,CAAC,CAAO;AAC/B,iBAAiB,mBAAO,CAAC,CAAgB;AACzC,kBAAkB,mBAAO,CAAC,CAAiB;AAC3C,mBAAmB,mBAAO,CAAC,EAAgB;AAC3C,0BAA0B,mBAAO,CAAC,EAAmB;AACrD,6BAA6B,mBAAO,CAAC,EAAsB;AAC3D;AACA;AACA,qBAAqB;AACrB,qBAAqB;AACrB;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;;;;;;;ACnBa;AACb;AACA,8CAA6C,EAAE,aAAa,EAAC;AAC7D,sBAAsB;AACtB,gBAAgB,mBAAO,CAAC,CAAO;AAC/B,iBAAiB,mBAAO,CAAC,CAAgB;AACzC,kBAAkB,mBAAO,CAAC,CAAiB;AAC3C,kBAAkB,mBAAO,CAAC,EAAS;AACnC,mBAAmB,mBAAO,CAAC,EAAgB;AAC3C,wBAAwB,mBAAO,CAAC,EAAwB;AACxD,gBAAgB,mBAAO,CAAC,EAAoB;AAC5C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,qBAAqB,mCAAmC;AACxD;AACA,SAAS;AACT;AACA;AACA;AACA;AACA,qBAAqB,yCAAyC;AAC9D,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb,SAAS;AACT;AACA;AACA;AACA;AACA,qBAAqB,IAAI;AACzB;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA,qBAAqB,0CAA0C;AAC/D;AACA,qBAAqB,mBAAmB;AACxC;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,qBAAqB,IAAI;AACzB;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;AACA;AACA;AACA;AACA,8BAA8B,wBAAwB;AACtD,yBAAyB,oCAAoC;AAC7D,SAAS;AACT;AACA;AACA;AACA;AACA,qBAAqB,iCAAiC;AACtD,SAAS;AACT;AACA;AACA;AACA;AACA;AACA,yBAAyB,+BAA+B;AACxD,aAAa;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb,SAAS;AACT;AACA,qBAAqB,oBAAoB;AACzC;AACA,SAAS;AACT;AACA;AACA,gBAAgB,2DAA2D;AAC3E;AACA;AACA;AACA;AACA;AACA;AACA,yEAAyE,aAAa;AACtF;AACA;AACA,uEAAuE,YAAY;AACnF;AACA;AACA,qEAAqE,WAAW;AAChF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,qCAAqC,mCAAmC;AACxE;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,yCAAyC,yBAAyB;AAClE;AACA;AACA,SAAS;AACT;AACA;AACA;AACA,qBAAqB,qBAAqB;AAC1C,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,0DAA0D,yBAAyB;AACnF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,sBAAsB;AACtB,sBAAsB;AACtB;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;AC3Qa;AACb;AACA,8CAA6C,EAAE,aAAa,EAAC;AAC7D,yBAAyB;AACzB,gBAAgB,mBAAO,CAAC,CAAO;AAC/B,iBAAiB,mBAAO,CAAC,CAAgB;AACzC,kBAAkB,mBAAO,CAAC,CAAiB;AAC3C,0BAA0B,mBAAO,CAAC,EAAmB;AACrD,cAAc,mBAAO,CAAC,EAAO;AAC7B,iBAAiB,mBAAO,CAAC,EAAqB;AAC9C,qBAAqB,mBAAO,CAAC,EAAyB;AACtD,gBAAgB,mBAAO,CAAC,EAAoB;AAC5C,mBAAmB,mBAAO,CAAC,EAAgB;AAC3C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,yBAAyB;AACzB;AACA;AACA,kCAAkC,mDAAmD;AACrF,iCAAiC,6DAA6D;AAC9F;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,kCAAkC,+CAA+C;AACjF,iCAAiC,gEAAgE;AACjG;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,kCAAkC,iCAAiC;AACnE,iCAAiC,+DAA+D;AAChG;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,kCAAkC,2CAA2C;AAC7E,iCAAiC,6DAA6D;AAC9F;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,kCAAkC,qCAAqC;AACvE,iCAAiC,yDAAyD;AAC1F;AACA;AACA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AiB,mBAAO,CAAC,CAAgB;AACzC,kBAAkB,mBAAO,CAAC,CAAiB;AAC3C,wBAAwB,mBAAO,CAAC,EAAiB;AACjD,iBAAiB,mBAAO,CAAC,EAAqB;AAC9C,qBAAqB,mBAAO,CAAC,EAAyB;AACtD,gBAAgB,mBAAO,CAAC,EAAoB;AAC5C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA,uBAAuB;AACvB;AACA;AACA;AACA,kCAAkC,wCAAwC;AAC1E,iCAAiC,+DAA+D;AAChG,8BAA8B,6CAA6C;AAC3E,8BAA8B,8CAA8C;AAC5E,8BAA8B,mDAAmD;AACjF,8BAA8B,+CAA+C;AAC7E,8BAA8B,gDAAgD;AAC9E,8BAA8B,+CAA+C;AAC7E;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,kCAAkC,+CAA+C;AACjF,iCAAiC,+DAA+D;AAChG;AACA;AACA;AACA;AACA;AACA;AACA,uBAAuB;AACvB;AACA;AACA;AACA;AACA;AACA;;;;;;UCpEA;UACA;;UAEA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;;UAEA;UACA;;UAEA;UACA;UACA;;;;;;;ACtBa;AACb,8CAA6C,EAAE,aAAa,EAAC;AAC7D,iBAAiB,mBAAO,CAAC,CAAgB;AACzC,eAAe,mBAAO,CAAC,CAAc;AACrC,kBAAkB,mBAAO,CAAC,CAAiB;AAC3C,qBAAqB,mBAAO,CAAC,CAAkB;AAC/C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT,KAAK;AACL;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,0EAA0E,KAAK,GAAG,aAAa;AAC/F,0EAA0E,KAAK;AAC/E;AACA","sources":["external commonjs \"@nestjs/common\"","external commonjs \"@nestjs/core\"","external commonjs \"@nestjs/swagger\"","/home/dasith/projects/velion-knowlage-hub/apps/api/src/app/app.module.ts","external commonjs \"tslib\"","external commonjs \"@nestjs/config\"","external commonjs \"@nestjs/typeorm\"","/home/dasith/projects/velion-knowlage-hub/apps/api/src/app/app.controller.ts","/home/dasith/projects/velion-knowlage-hub/apps/api/src/app/app.service.ts","/home/dasith/projects/velion-knowlage-hub/apps/api/src/modules/auth/auth.module.ts","external commonjs \"@nestjs/jwt\"","external commonjs \"@nestjs/passport\"","/home/dasith/projects/velion-knowlage-hub/apps/api/src/entities/index.ts","/home/dasith/projects/velion-knowlage-hub/apps/api/src/entities/user.entity.ts","external commonjs \"typeorm\"","/home/dasith/projects/velion-knowlage-hub/apps/api/src/common/enums/index.ts","/home/dasith/projects/velion-knowlage-hub/apps/api/src/entities/office.entity.ts","/home/dasith/projects/velion-knowlage-hub/apps/api/src/entities/role.entity.ts","/home/dasith/projects/velion-knowlage-hub/apps/api/src/entities/idea.entity.ts","/home/dasith/projects/velion-knowlage-hub/apps/api/src/entities/category.entity.ts","/home/dasith/projects/velion-knowlage-hub/apps/api/src/entities/attachment.entity.ts","/home/dasith/projects/velion-knowlage-hub/apps/api/src/entities/comment.entity.ts","/home/dasith/projects/velion-knowlage-hub/apps/api/src/entities/vote.entity.ts","/home/dasith/projects/velion-knowlage-hub/apps/api/src/entities/review.entity.ts","/home/dasith/projects/velion-knowlage-hub/apps/api/src/entities/project.entity.ts","/home/dasith/projects/velion-knowlage-hub/apps/api/src/entities/milestone.entity.ts","/home/dasith/projects/velion-knowlage-hub/apps/api/src/entities/progress-update.entity.ts","/home/dasith/projects/velion-knowlage-hub/apps/api/src/entities/evaluation.entity.ts","/home/dasith/projects/velion-knowlage-hub/apps/api/src/entities/nomination.entity.ts","/home/dasith/projects/velion-knowlage-hub/apps/api/src/entities/reward.entity.ts","/home/dasith/projects/velion-knowlage-hub/apps/api/src/entities/audit-log.entity.ts","/home/dasith/projects/velion-knowlage-hub/apps/api/src/modules/auth/auth.service.ts","external commonjs \"bcrypt\"","external commonjs \"uuid\"","/home/dasith/projects/velion-knowlage-hub/apps/api/src/modules/audit/audit.service.ts","/home/dasith/projects/velion-knowlage-hub/apps/api/src/modules/auth/auth.controller.ts","/home/dasith/projects/velion-knowlage-hub/apps/api/src/modules/auth/dto/index.ts","/home/dasith/projects/velion-knowlage-hub/apps/api/src/modules/auth/dto/login.dto.ts","external commonjs \"class-validator\"","/home/dasith/projects/velion-knowlage-hub/apps/api/src/modules/auth/dto/register.dto.ts","/home/dasith/projects/velion-knowlage-hub/apps/api/src/modules/auth/dto/password-reset.dto.ts","/home/dasith/projects/velion-knowlage-hub/apps/api/src/modules/auth/dto/update-profile.dto.ts","/home/dasith/projects/velion-knowlage-hub/apps/api/src/common/guards/index.ts","/home/dasith/projects/velion-knowlage-hub/apps/api/src/common/guards/jwt-auth.guard.ts","/home/dasith/projects/velion-knowlage-hub/apps/api/src/common/guards/roles.guard.ts","/home/dasith/projects/velion-knowlage-hub/apps/api/src/common/decorators/roles.decorator.ts","/home/dasith/projects/velion-knowlage-hub/apps/api/src/common/decorators/index.ts","/home/dasith/projects/velion-knowlage-hub/apps/api/src/common/decorators/current-user.decorator.ts","/home/dasith/projects/velion-knowlage-hub/apps/api/src/modules/auth/strategies/jwt.strategy.ts","external commonjs \"passport-jwt\"","/home/dasith/projects/velion-knowlage-hub/apps/api/src/modules/auth/strategies/local.strategy.ts","external commonjs \"passport-local\"","/home/dasith/projects/velion-knowlage-hub/apps/api/src/modules/users/users.module.ts","/home/dasith/projects/velion-knowlage-hub/apps/api/src/modules/users/users.service.ts","/home/dasith/projects/velion-knowlage-hub/apps/api/src/modules/users/users.controller.ts","/home/dasith/projects/velion-knowlage-hub/apps/api/src/modules/users/dto/index.ts","/home/dasith/projects/velion-knowlage-hub/apps/api/src/modules/users/dto/create-user.dto.ts","/home/dasith/projects/velion-knowlage-hub/apps/api/src/modules/users/dto/update-user.dto.ts","/home/dasith/projects/velion-knowlage-hub/apps/api/src/modules/users/dto/search-users.dto.ts","external commonjs \"class-transformer\"","/home/dasith/projects/velion-knowlage-hub/apps/api/src/modules/users/dto/assign-roles.dto.ts","/home/dasith/projects/velion-knowlage-hub/apps/api/src/modules/offices/offices.module.ts","/home/dasith/projects/velion-knowlage-hub/apps/api/src/modules/offices/offices.service.ts","/home/dasith/projects/velion-knowlage-hub/apps/api/src/modules/offices/offices.controller.ts","/home/dasith/projects/velion-knowlage-hub/apps/api/src/modules/offices/dto/index.ts","/home/dasith/projects/velion-knowlage-hub/apps/api/src/modules/offices/dto/create-office.dto.ts","/home/dasith/projects/velion-knowlage-hub/apps/api/src/modules/offices/dto/update-office.dto.ts","/home/dasith/projects/velion-knowlage-hub/apps/api/src/modules/offices/dto/search-offices.dto.ts","/home/dasith/projects/velion-knowlage-hub/apps/api/src/modules/ideas/ideas.module.ts","/home/dasith/projects/velion-knowlage-hub/apps/api/src/modules/ideas/ideas.service.ts","/home/dasith/projects/velion-knowlage-hub/apps/api/src/modules/ideas/ideas.controller.ts","/home/dasith/projects/velion-knowlage-hub/apps/api/src/modules/ideas/dto/index.ts","/home/dasith/projects/velion-knowlage-hub/apps/api/src/modules/ideas/dto/create-idea.dto.ts","/home/dasith/projects/velion-knowlage-hub/apps/api/src/modules/ideas/dto/update-idea.dto.ts","/home/dasith/projects/velion-knowlage-hub/apps/api/src/modules/ideas/dto/search-ideas.dto.ts","/home/dasith/projects/velion-knowlage-hub/apps/api/src/modules/ideas/dto/create-comment.dto.ts","/home/dasith/projects/velion-knowlage-hub/apps/api/src/modules/reviews/reviews.module.ts","/home/dasith/projects/velion-knowlage-hub/apps/api/src/modules/reviews/reviews.service.ts","/home/dasith/projects/velion-knowlage-hub/apps/api/src/modules/reviews/reviews.controller.ts","/home/dasith/projects/velion-knowlage-hub/apps/api/src/modules/reviews/dto/index.ts","/home/dasith/projects/velion-knowlage-hub/apps/api/src/modules/reviews/dto/create-review.dto.ts","/home/dasith/projects/velion-knowlage-hub/apps/api/src/modules/reviews/dto/search-reviews.dto.ts","/home/dasith/projects/velion-knowlage-hub/apps/api/src/modules/projects/projects.module.ts","/home/dasith/projects/velion-knowlage-hub/apps/api/src/modules/projects/projects.service.ts","/home/dasith/projects/velion-knowlage-hub/apps/api/src/modules/projects/projects.controller.ts","/home/dasith/projects/velion-knowlage-hub/apps/api/src/modules/projects/dto/index.ts","/home/dasith/projects/velion-knowlage-hub/apps/api/src/modules/projects/dto/create-project.dto.ts","/home/dasith/projects/velion-knowlage-hub/apps/api/src/modules/projects/dto/update-project.dto.ts","/home/dasith/projects/velion-knowlage-hub/apps/api/src/modules/projects/dto/create-milestone.dto.ts","/home/dasith/projects/velion-knowlage-hub/apps/api/src/modules/projects/dto/update-milestone.dto.ts","/home/dasith/projects/velion-knowlage-hub/apps/api/src/modules/projects/dto/create-progress-update.dto.ts","/home/dasith/projects/velion-knowlage-hub/apps/api/src/modules/projects/dto/search-projects.dto.ts","/home/dasith/projects/velion-knowlage-hub/apps/api/src/modules/rewards/rewards.module.ts","/home/dasith/projects/velion-knowlage-hub/apps/api/src/modules/rewards/rewards.service.ts","/home/dasith/projects/velion-knowlage-hub/apps/api/src/modules/rewards/rewards.controller.ts","/home/dasith/projects/velion-knowlage-hub/apps/api/src/modules/rewards/dto/index.ts","/home/dasith/projects/velion-knowlage-hub/apps/api/src/modules/rewards/dto/create-nomination.dto.ts","/home/dasith/projects/velion-knowlage-hub/apps/api/src/modules/rewards/dto/update-nomination.dto.ts","/home/dasith/projects/velion-knowlage-hub/apps/api/src/modules/rewards/dto/create-reward.dto.ts","/home/dasith/projects/velion-knowlage-hub/apps/api/src/modules/rewards/dto/search-rewards.dto.ts","/home/dasith/projects/velion-knowlage-hub/apps/api/src/modules/audit/audit.module.ts","/home/dasith/projects/velion-knowlage-hub/apps/api/src/modules/audit/audit.controller.ts","webpack/bootstrap","/home/dasith/projects/velion-knowlage-hub/apps/api/src/main.ts"],"sourcesContent":["module.exports = require(\"@nestjs/common\");","module.exports = require(\"@nestjs/core\");","module.exports = require(\"@nestjs/swagger\");","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.AppModule = void 0;\nconst tslib_1 = require(\"tslib\");\nconst common_1 = require(\"@nestjs/common\");\nconst config_1 = require(\"@nestjs/config\");\nconst typeorm_1 = require(\"@nestjs/typeorm\");\nconst app_controller_1 = require(\"./app.controller\");\nconst app_service_1 = require(\"./app.service\");\nconst auth_module_1 = require(\"../modules/auth/auth.module\");\nconst users_module_1 = require(\"../modules/users/users.module\");\nconst offices_module_1 = require(\"../modules/offices/offices.module\");\nconst ideas_module_1 = require(\"../modules/ideas/ideas.module\");\nconst reviews_module_1 = require(\"../modules/reviews/reviews.module\");\nconst projects_module_1 = require(\"../modules/projects/projects.module\");\nconst rewards_module_1 = require(\"../modules/rewards/rewards.module\");\nconst audit_module_1 = require(\"../modules/audit/audit.module\");\nconst entities_1 = require(\"../entities\");\nlet AppModule = class AppModule {\n};\nexports.AppModule = AppModule;\nexports.AppModule = AppModule = tslib_1.__decorate([\n    (0, common_1.Module)({\n        imports: [\n            config_1.ConfigModule.forRoot({\n                isGlobal: true,\n                envFilePath: '.env',\n            }),\n            typeorm_1.TypeOrmModule.forRootAsync({\n                imports: [config_1.ConfigModule],\n                useFactory: (configService) => ({\n                    type: 'postgres',\n                    host: configService.get('DB_HOST', 'localhost'),\n                    port: configService.get('DB_PORT', 5432),\n                    username: configService.get('DB_USERNAME', 'postgres'),\n                    password: configService.get('DB_PASSWORD', 'postgres'),\n                    database: configService.get('DB_DATABASE', 'velion_dkn'),\n                    entities: [\n                        entities_1.User,\n                        entities_1.Role,\n                        entities_1.Office,\n                        entities_1.Idea,\n                        entities_1.Category,\n                        entities_1.Attachment,\n                        entities_1.Comment,\n                        entities_1.Vote,\n                        entities_1.Review,\n                        entities_1.Project,\n                        entities_1.Milestone,\n                        entities_1.ProgressUpdate,\n                        entities_1.Evaluation,\n                        entities_1.Nomination,\n                        entities_1.Reward,\n                        entities_1.AuditLog,\n                    ],\n                    synchronize: configService.get('DB_SYNCHRONIZE', 'true') === 'true',\n                    logging: configService.get('DB_LOGGING', 'false') === 'true',\n                }),\n                inject: [config_1.ConfigService],\n            }),\n            auth_module_1.AuthModule,\n            users_module_1.UsersModule,\n            offices_module_1.OfficesModule,\n            ideas_module_1.IdeasModule,\n            reviews_module_1.ReviewsModule,\n            projects_module_1.ProjectsModule,\n            rewards_module_1.RewardsModule,\n            audit_module_1.AuditModule,\n        ],\n        controllers: [app_controller_1.AppController],\n        providers: [app_service_1.AppService],\n    })\n], AppModule);\n","module.exports = require(\"tslib\");","module.exports = require(\"@nestjs/config\");","module.exports = require(\"@nestjs/typeorm\");","\"use strict\";\nvar _a;\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.AppController = void 0;\nconst tslib_1 = require(\"tslib\");\nconst common_1 = require(\"@nestjs/common\");\nconst app_service_1 = require(\"./app.service\");\nlet AppController = class AppController {\n    constructor(appService) {\n        this.appService = appService;\n    }\n    getData() {\n        return this.appService.getData();\n    }\n};\nexports.AppController = AppController;\ntslib_1.__decorate([\n    (0, common_1.Get)(),\n    tslib_1.__metadata(\"design:type\", Function),\n    tslib_1.__metadata(\"design:paramtypes\", []),\n    tslib_1.__metadata(\"design:returntype\", void 0)\n], AppController.prototype, \"getData\", null);\nexports.AppController = AppController = tslib_1.__decorate([\n    (0, common_1.Controller)(),\n    tslib_1.__metadata(\"design:paramtypes\", [typeof (_a = typeof app_service_1.AppService !== \"undefined\" && app_service_1.AppService) === \"function\" ? _a : Object])\n], AppController);\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.AppService = void 0;\nconst tslib_1 = require(\"tslib\");\nconst common_1 = require(\"@nestjs/common\");\nlet AppService = class AppService {\n    getData() {\n        return ({ message: 'Hello API' });\n    }\n};\nexports.AppService = AppService;\nexports.AppService = AppService = tslib_1.__decorate([\n    (0, common_1.Injectable)()\n], AppService);\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.AuthModule = void 0;\nconst tslib_1 = require(\"tslib\");\nconst common_1 = require(\"@nestjs/common\");\nconst typeorm_1 = require(\"@nestjs/typeorm\");\nconst jwt_1 = require(\"@nestjs/jwt\");\nconst passport_1 = require(\"@nestjs/passport\");\nconst config_1 = require(\"@nestjs/config\");\nconst entities_1 = require(\"../../entities\");\nconst auth_service_1 = require(\"./auth.service\");\nconst auth_controller_1 = require(\"./auth.controller\");\nconst jwt_strategy_1 = require(\"./strategies/jwt.strategy\");\nconst local_strategy_1 = require(\"./strategies/local.strategy\");\nlet AuthModule = class AuthModule {\n};\nexports.AuthModule = AuthModule;\nexports.AuthModule = AuthModule = tslib_1.__decorate([\n    (0, common_1.Module)({\n        imports: [\n            typeorm_1.TypeOrmModule.forFeature([entities_1.User, entities_1.Role]),\n            passport_1.PassportModule,\n            jwt_1.JwtModule.registerAsync({\n                imports: [config_1.ConfigModule],\n                useFactory: (configService) => ({\n                    secret: configService.get('JWT_SECRET', 'your-secret-key'),\n                    signOptions: {\n                        expiresIn: configService.get('JWT_EXPIRES_IN', '24h'),\n                    },\n                }),\n                inject: [config_1.ConfigService],\n            }),\n        ],\n        controllers: [auth_controller_1.AuthController],\n        providers: [auth_service_1.AuthService, jwt_strategy_1.JwtStrategy, local_strategy_1.LocalStrategy],\n        exports: [auth_service_1.AuthService],\n    })\n], AuthModule);\n","module.exports = require(\"@nestjs/jwt\");","module.exports = require(\"@nestjs/passport\");","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst tslib_1 = require(\"tslib\");\ntslib_1.__exportStar(require(\"./user.entity\"), exports);\ntslib_1.__exportStar(require(\"./role.entity\"), exports);\ntslib_1.__exportStar(require(\"./office.entity\"), exports);\ntslib_1.__exportStar(require(\"./idea.entity\"), exports);\ntslib_1.__exportStar(require(\"./category.entity\"), exports);\ntslib_1.__exportStar(require(\"./attachment.entity\"), exports);\ntslib_1.__exportStar(require(\"./comment.entity\"), exports);\ntslib_1.__exportStar(require(\"./vote.entity\"), exports);\ntslib_1.__exportStar(require(\"./review.entity\"), exports);\ntslib_1.__exportStar(require(\"./project.entity\"), exports);\ntslib_1.__exportStar(require(\"./milestone.entity\"), exports);\ntslib_1.__exportStar(require(\"./progress-update.entity\"), exports);\ntslib_1.__exportStar(require(\"./evaluation.entity\"), exports);\ntslib_1.__exportStar(require(\"./nomination.entity\"), exports);\ntslib_1.__exportStar(require(\"./reward.entity\"), exports);\ntslib_1.__exportStar(require(\"./audit-log.entity\"), exports);\n","\"use strict\";\nvar _a, _b, _c, _d, _e;\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.User = void 0;\nconst tslib_1 = require(\"tslib\");\nconst typeorm_1 = require(\"typeorm\");\nconst enums_1 = require(\"../common/enums\");\nconst office_entity_1 = require(\"./office.entity\");\nconst role_entity_1 = require(\"./role.entity\");\nconst idea_entity_1 = require(\"./idea.entity\");\nconst comment_entity_1 = require(\"./comment.entity\");\nconst vote_entity_1 = require(\"./vote.entity\");\nconst review_entity_1 = require(\"./review.entity\");\nconst project_entity_1 = require(\"./project.entity\");\nconst progress_update_entity_1 = require(\"./progress-update.entity\");\nconst reward_entity_1 = require(\"./reward.entity\");\nconst nomination_entity_1 = require(\"./nomination.entity\");\nconst audit_log_entity_1 = require(\"./audit-log.entity\");\nlet User = class User {\n};\nexports.User = User;\ntslib_1.__decorate([\n    (0, typeorm_1.PrimaryGeneratedColumn)('uuid'),\n    tslib_1.__metadata(\"design:type\", String)\n], User.prototype, \"id\", void 0);\ntslib_1.__decorate([\n    (0, typeorm_1.Column)(),\n    tslib_1.__metadata(\"design:type\", String)\n], User.prototype, \"name\", void 0);\ntslib_1.__decorate([\n    (0, typeorm_1.Column)({ unique: true }),\n    tslib_1.__metadata(\"design:type\", String)\n], User.prototype, \"email\", void 0);\ntslib_1.__decorate([\n    (0, typeorm_1.Column)(),\n    tslib_1.__metadata(\"design:type\", String)\n], User.prototype, \"password\", void 0);\ntslib_1.__decorate([\n    (0, typeorm_1.Column)({\n        type: 'enum',\n        enum: enums_1.AccountStatus,\n        default: enums_1.AccountStatus.ACTIVE,\n    }),\n    tslib_1.__metadata(\"design:type\", typeof (_a = typeof enums_1.AccountStatus !== \"undefined\" && enums_1.AccountStatus) === \"function\" ? _a : Object)\n], User.prototype, \"status\", void 0);\ntslib_1.__decorate([\n    (0, typeorm_1.Column)({ nullable: true }),\n    tslib_1.__metadata(\"design:type\", String)\n], User.prototype, \"passwordResetToken\", void 0);\ntslib_1.__decorate([\n    (0, typeorm_1.Column)({ type: 'timestamp', nullable: true }),\n    tslib_1.__metadata(\"design:type\", typeof (_b = typeof Date !== \"undefined\" && Date) === \"function\" ? _b : Object)\n], User.prototype, \"passwordResetExpires\", void 0);\ntslib_1.__decorate([\n    (0, typeorm_1.Column)({ default: 0 }),\n    tslib_1.__metadata(\"design:type\", Number)\n], User.prototype, \"totalPoints\", void 0);\ntslib_1.__decorate([\n    (0, typeorm_1.ManyToOne)(() => office_entity_1.Office, (office) => office.users, { nullable: true }),\n    (0, typeorm_1.JoinColumn)({ name: 'officeId' }),\n    tslib_1.__metadata(\"design:type\", typeof (_c = typeof office_entity_1.Office !== \"undefined\" && office_entity_1.Office) === \"function\" ? _c : Object)\n], User.prototype, \"office\", void 0);\ntslib_1.__decorate([\n    (0, typeorm_1.Column)({ nullable: true }),\n    tslib_1.__metadata(\"design:type\", String)\n], User.prototype, \"officeId\", void 0);\ntslib_1.__decorate([\n    (0, typeorm_1.ManyToMany)(() => role_entity_1.Role, (role) => role.users, { eager: true }),\n    (0, typeorm_1.JoinTable)({\n        name: 'user_roles',\n        joinColumn: { name: 'userId', referencedColumnName: 'id' },\n        inverseJoinColumn: { name: 'roleId', referencedColumnName: 'id' },\n    }),\n    tslib_1.__metadata(\"design:type\", Array)\n], User.prototype, \"roles\", void 0);\ntslib_1.__decorate([\n    (0, typeorm_1.OneToMany)(() => idea_entity_1.Idea, (idea) => idea.submittedBy),\n    tslib_1.__metadata(\"design:type\", Array)\n], User.prototype, \"ideas\", void 0);\ntslib_1.__decorate([\n    (0, typeorm_1.OneToMany)(() => comment_entity_1.Comment, (comment) => comment.author),\n    tslib_1.__metadata(\"design:type\", Array)\n], User.prototype, \"comments\", void 0);\ntslib_1.__decorate([\n    (0, typeorm_1.OneToMany)(() => vote_entity_1.Vote, (vote) => vote.voter),\n    tslib_1.__metadata(\"design:type\", Array)\n], User.prototype, \"votes\", void 0);\ntslib_1.__decorate([\n    (0, typeorm_1.OneToMany)(() => review_entity_1.Review, (review) => review.reviewer),\n    tslib_1.__metadata(\"design:type\", Array)\n], User.prototype, \"reviews\", void 0);\ntslib_1.__decorate([\n    (0, typeorm_1.ManyToMany)(() => project_entity_1.Project, (project) => project.teamMembers),\n    tslib_1.__metadata(\"design:type\", Array)\n], User.prototype, \"projects\", void 0);\ntslib_1.__decorate([\n    (0, typeorm_1.OneToMany)(() => progress_update_entity_1.ProgressUpdate, (update) => update.updatedBy),\n    tslib_1.__metadata(\"design:type\", Array)\n], User.prototype, \"progressUpdates\", void 0);\ntslib_1.__decorate([\n    (0, typeorm_1.OneToMany)(() => reward_entity_1.Reward, (reward) => reward.recipient),\n    tslib_1.__metadata(\"design:type\", Array)\n], User.prototype, \"rewards\", void 0);\ntslib_1.__decorate([\n    (0, typeorm_1.OneToMany)(() => nomination_entity_1.Nomination, (nomination) => nomination.nominatedUser),\n    tslib_1.__metadata(\"design:type\", Array)\n], User.prototype, \"nominations\", void 0);\ntslib_1.__decorate([\n    (0, typeorm_1.OneToMany)(() => audit_log_entity_1.AuditLog, (audit) => audit.actor),\n    tslib_1.__metadata(\"design:type\", Array)\n], User.prototype, \"auditLogs\", void 0);\ntslib_1.__decorate([\n    (0, typeorm_1.CreateDateColumn)(),\n    tslib_1.__metadata(\"design:type\", typeof (_d = typeof Date !== \"undefined\" && Date) === \"function\" ? _d : Object)\n], User.prototype, \"createdAt\", void 0);\ntslib_1.__decorate([\n    (0, typeorm_1.UpdateDateColumn)(),\n    tslib_1.__metadata(\"design:type\", typeof (_e = typeof Date !== \"undefined\" && Date) === \"function\" ? _e : Object)\n], User.prototype, \"updatedAt\", void 0);\nexports.User = User = tslib_1.__decorate([\n    (0, typeorm_1.Entity)('users')\n], User);\n","module.exports = require(\"typeorm\");","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.NominationStatus = exports.RewardType = exports.MilestoneStatus = exports.ProjectStatus = exports.ReviewDecision = exports.IdeaStatus = exports.SystemRole = exports.AccountStatus = void 0;\nvar AccountStatus;\n(function (AccountStatus) {\n    AccountStatus[\"ACTIVE\"] = \"active\";\n    AccountStatus[\"INACTIVE\"] = \"inactive\";\n    AccountStatus[\"LOCKED\"] = \"locked\";\n})(AccountStatus || (exports.AccountStatus = AccountStatus = {}));\nvar SystemRole;\n(function (SystemRole) {\n    SystemRole[\"USER\"] = \"user\";\n    SystemRole[\"KNOWLEDGE_CHAMPION\"] = \"knowledge_champion\";\n    SystemRole[\"INNOVATION_MANAGER\"] = \"innovation_manager\";\n    SystemRole[\"LOCAL_OFFICE_ADMIN\"] = \"local_office_admin\";\n    SystemRole[\"SYSTEM_ADMIN\"] = \"system_admin\";\n})(SystemRole || (exports.SystemRole = SystemRole = {}));\nvar IdeaStatus;\n(function (IdeaStatus) {\n    IdeaStatus[\"SUBMITTED\"] = \"submitted\";\n    IdeaStatus[\"UNDER_REVIEW\"] = \"under_review\";\n    IdeaStatus[\"APPROVED\"] = \"approved\";\n    IdeaStatus[\"DUPLICATE\"] = \"duplicate\";\n    IdeaStatus[\"REJECTED\"] = \"rejected\";\n    IdeaStatus[\"CHANGES_REQUESTED\"] = \"changes_requested\";\n})(IdeaStatus || (exports.IdeaStatus = IdeaStatus = {}));\nvar ReviewDecision;\n(function (ReviewDecision) {\n    ReviewDecision[\"APPROVED\"] = \"approved\";\n    ReviewDecision[\"REJECTED\"] = \"rejected\";\n    ReviewDecision[\"CHANGES_REQUESTED\"] = \"changes_requested\";\n})(ReviewDecision || (exports.ReviewDecision = ReviewDecision = {}));\nvar ProjectStatus;\n(function (ProjectStatus) {\n    ProjectStatus[\"ACTIVE\"] = \"active\";\n    ProjectStatus[\"COMPLETED\"] = \"completed\";\n    ProjectStatus[\"ARCHIVED\"] = \"archived\";\n})(ProjectStatus || (exports.ProjectStatus = ProjectStatus = {}));\nvar MilestoneStatus;\n(function (MilestoneStatus) {\n    MilestoneStatus[\"PENDING\"] = \"pending\";\n    MilestoneStatus[\"IN_PROGRESS\"] = \"in_progress\";\n    MilestoneStatus[\"COMPLETED\"] = \"completed\";\n})(MilestoneStatus || (exports.MilestoneStatus = MilestoneStatus = {}));\nvar RewardType;\n(function (RewardType) {\n    RewardType[\"BADGE\"] = \"badge\";\n    RewardType[\"CERTIFICATE\"] = \"certificate\";\n    RewardType[\"POINTS\"] = \"points\";\n})(RewardType || (exports.RewardType = RewardType = {}));\nvar NominationStatus;\n(function (NominationStatus) {\n    NominationStatus[\"PENDING\"] = \"pending\";\n    NominationStatus[\"APPROVED\"] = \"approved\";\n    NominationStatus[\"REJECTED\"] = \"rejected\";\n})(NominationStatus || (exports.NominationStatus = NominationStatus = {}));\n","\"use strict\";\nvar _a, _b;\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.Office = void 0;\nconst tslib_1 = require(\"tslib\");\nconst typeorm_1 = require(\"typeorm\");\nconst user_entity_1 = require(\"./user.entity\");\nlet Office = class Office {\n};\nexports.Office = Office;\ntslib_1.__decorate([\n    (0, typeorm_1.PrimaryGeneratedColumn)('uuid'),\n    tslib_1.__metadata(\"design:type\", String)\n], Office.prototype, \"id\", void 0);\ntslib_1.__decorate([\n    (0, typeorm_1.Column)({ unique: true }),\n    tslib_1.__metadata(\"design:type\", String)\n], Office.prototype, \"name\", void 0);\ntslib_1.__decorate([\n    (0, typeorm_1.Column)({ nullable: true }),\n    tslib_1.__metadata(\"design:type\", String)\n], Office.prototype, \"region\", void 0);\ntslib_1.__decorate([\n    (0, typeorm_1.Column)({ nullable: true }),\n    tslib_1.__metadata(\"design:type\", String)\n], Office.prototype, \"address\", void 0);\ntslib_1.__decorate([\n    (0, typeorm_1.Column)({ default: true }),\n    tslib_1.__metadata(\"design:type\", Boolean)\n], Office.prototype, \"isActive\", void 0);\ntslib_1.__decorate([\n    (0, typeorm_1.OneToMany)(() => user_entity_1.User, (user) => user.office),\n    tslib_1.__metadata(\"design:type\", Array)\n], Office.prototype, \"users\", void 0);\ntslib_1.__decorate([\n    (0, typeorm_1.CreateDateColumn)(),\n    tslib_1.__metadata(\"design:type\", typeof (_a = typeof Date !== \"undefined\" && Date) === \"function\" ? _a : Object)\n], Office.prototype, \"createdAt\", void 0);\ntslib_1.__decorate([\n    (0, typeorm_1.UpdateDateColumn)(),\n    tslib_1.__metadata(\"design:type\", typeof (_b = typeof Date !== \"undefined\" && Date) === \"function\" ? _b : Object)\n], Office.prototype, \"updatedAt\", void 0);\nexports.Office = Office = tslib_1.__decorate([\n    (0, typeorm_1.Entity)('offices')\n], Office);\n","\"use strict\";\nvar _a, _b, _c;\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.Role = void 0;\nconst tslib_1 = require(\"tslib\");\nconst typeorm_1 = require(\"typeorm\");\nconst enums_1 = require(\"../common/enums\");\nconst user_entity_1 = require(\"./user.entity\");\nlet Role = class Role {\n};\nexports.Role = Role;\ntslib_1.__decorate([\n    (0, typeorm_1.PrimaryGeneratedColumn)('uuid'),\n    tslib_1.__metadata(\"design:type\", String)\n], Role.prototype, \"id\", void 0);\ntslib_1.__decorate([\n    (0, typeorm_1.Column)({\n        type: 'enum',\n        enum: enums_1.SystemRole,\n        unique: true,\n    }),\n    tslib_1.__metadata(\"design:type\", typeof (_a = typeof enums_1.SystemRole !== \"undefined\" && enums_1.SystemRole) === \"function\" ? _a : Object)\n], Role.prototype, \"name\", void 0);\ntslib_1.__decorate([\n    (0, typeorm_1.Column)({ nullable: true }),\n    tslib_1.__metadata(\"design:type\", String)\n], Role.prototype, \"description\", void 0);\ntslib_1.__decorate([\n    (0, typeorm_1.ManyToMany)(() => user_entity_1.User, (user) => user.roles),\n    tslib_1.__metadata(\"design:type\", Array)\n], Role.prototype, \"users\", void 0);\ntslib_1.__decorate([\n    (0, typeorm_1.CreateDateColumn)(),\n    tslib_1.__metadata(\"design:type\", typeof (_b = typeof Date !== \"undefined\" && Date) === \"function\" ? _b : Object)\n], Role.prototype, \"createdAt\", void 0);\ntslib_1.__decorate([\n    (0, typeorm_1.UpdateDateColumn)(),\n    tslib_1.__metadata(\"design:type\", typeof (_c = typeof Date !== \"undefined\" && Date) === \"function\" ? _c : Object)\n], Role.prototype, \"updatedAt\", void 0);\nexports.Role = Role = tslib_1.__decorate([\n    (0, typeorm_1.Entity)('roles')\n], Role);\n","\"use strict\";\nvar _a, _b, _c, _d, _e, _f;\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.Idea = void 0;\nconst tslib_1 = require(\"tslib\");\nconst typeorm_1 = require(\"typeorm\");\nconst enums_1 = require(\"../common/enums\");\nconst user_entity_1 = require(\"./user.entity\");\nconst office_entity_1 = require(\"./office.entity\");\nconst category_entity_1 = require(\"./category.entity\");\nconst attachment_entity_1 = require(\"./attachment.entity\");\nconst comment_entity_1 = require(\"./comment.entity\");\nconst vote_entity_1 = require(\"./vote.entity\");\nconst review_entity_1 = require(\"./review.entity\");\nconst project_entity_1 = require(\"./project.entity\");\nlet Idea = class Idea {\n};\nexports.Idea = Idea;\ntslib_1.__decorate([\n    (0, typeorm_1.PrimaryGeneratedColumn)('uuid'),\n    tslib_1.__metadata(\"design:type\", String)\n], Idea.prototype, \"id\", void 0);\ntslib_1.__decorate([\n    (0, typeorm_1.Column)(),\n    tslib_1.__metadata(\"design:type\", String)\n], Idea.prototype, \"title\", void 0);\ntslib_1.__decorate([\n    (0, typeorm_1.Column)('text'),\n    tslib_1.__metadata(\"design:type\", String)\n], Idea.prototype, \"description\", void 0);\ntslib_1.__decorate([\n    (0, typeorm_1.Column)({\n        type: 'enum',\n        enum: enums_1.IdeaStatus,\n        default: enums_1.IdeaStatus.SUBMITTED,\n    }),\n    tslib_1.__metadata(\"design:type\", typeof (_a = typeof enums_1.IdeaStatus !== \"undefined\" && enums_1.IdeaStatus) === \"function\" ? _a : Object)\n], Idea.prototype, \"status\", void 0);\ntslib_1.__decorate([\n    (0, typeorm_1.Column)({ default: false }),\n    tslib_1.__metadata(\"design:type\", Boolean)\n], Idea.prototype, \"isOriginal\", void 0);\ntslib_1.__decorate([\n    (0, typeorm_1.Column)({ nullable: true }),\n    tslib_1.__metadata(\"design:type\", String)\n], Idea.prototype, \"duplicateOfId\", void 0);\ntslib_1.__decorate([\n    (0, typeorm_1.Column)({ type: 'float', default: 0 }),\n    tslib_1.__metadata(\"design:type\", Number)\n], Idea.prototype, \"originalityScore\", void 0);\ntslib_1.__decorate([\n    (0, typeorm_1.Column)({ default: 0 }),\n    tslib_1.__metadata(\"design:type\", Number)\n], Idea.prototype, \"voteCount\", void 0);\ntslib_1.__decorate([\n    (0, typeorm_1.ManyToOne)(() => user_entity_1.User, (user) => user.ideas),\n    (0, typeorm_1.JoinColumn)({ name: 'submittedById' }),\n    tslib_1.__metadata(\"design:type\", typeof (_b = typeof user_entity_1.User !== \"undefined\" && user_entity_1.User) === \"function\" ? _b : Object)\n], Idea.prototype, \"submittedBy\", void 0);\ntslib_1.__decorate([\n    (0, typeorm_1.Column)(),\n    tslib_1.__metadata(\"design:type\", String)\n], Idea.prototype, \"submittedById\", void 0);\ntslib_1.__decorate([\n    (0, typeorm_1.ManyToOne)(() => office_entity_1.Office, { nullable: true }),\n    (0, typeorm_1.JoinColumn)({ name: 'officeId' }),\n    tslib_1.__metadata(\"design:type\", typeof (_c = typeof office_entity_1.Office !== \"undefined\" && office_entity_1.Office) === \"function\" ? _c : Object)\n], Idea.prototype, \"office\", void 0);\ntslib_1.__decorate([\n    (0, typeorm_1.Column)({ nullable: true }),\n    tslib_1.__metadata(\"design:type\", String)\n], Idea.prototype, \"officeId\", void 0);\ntslib_1.__decorate([\n    (0, typeorm_1.ManyToOne)(() => category_entity_1.Category, (category) => category.ideas, { nullable: true }),\n    (0, typeorm_1.JoinColumn)({ name: 'categoryId' }),\n    tslib_1.__metadata(\"design:type\", typeof (_d = typeof category_entity_1.Category !== \"undefined\" && category_entity_1.Category) === \"function\" ? _d : Object)\n], Idea.prototype, \"category\", void 0);\ntslib_1.__decorate([\n    (0, typeorm_1.Column)({ nullable: true }),\n    tslib_1.__metadata(\"design:type\", String)\n], Idea.prototype, \"categoryId\", void 0);\ntslib_1.__decorate([\n    (0, typeorm_1.OneToMany)(() => attachment_entity_1.Attachment, (attachment) => attachment.idea, { cascade: true }),\n    tslib_1.__metadata(\"design:type\", Array)\n], Idea.prototype, \"attachments\", void 0);\ntslib_1.__decorate([\n    (0, typeorm_1.OneToMany)(() => comment_entity_1.Comment, (comment) => comment.idea, { cascade: true }),\n    tslib_1.__metadata(\"design:type\", Array)\n], Idea.prototype, \"comments\", void 0);\ntslib_1.__decorate([\n    (0, typeorm_1.OneToMany)(() => vote_entity_1.Vote, (vote) => vote.idea, { cascade: true }),\n    tslib_1.__metadata(\"design:type\", Array)\n], Idea.prototype, \"votes\", void 0);\ntslib_1.__decorate([\n    (0, typeorm_1.OneToMany)(() => review_entity_1.Review, (review) => review.idea, { cascade: true }),\n    tslib_1.__metadata(\"design:type\", Array)\n], Idea.prototype, \"reviews\", void 0);\ntslib_1.__decorate([\n    (0, typeorm_1.OneToMany)(() => project_entity_1.Project, (project) => project.basedOnIdea),\n    tslib_1.__metadata(\"design:type\", Array)\n], Idea.prototype, \"projects\", void 0);\ntslib_1.__decorate([\n    (0, typeorm_1.CreateDateColumn)(),\n    tslib_1.__metadata(\"design:type\", typeof (_e = typeof Date !== \"undefined\" && Date) === \"function\" ? _e : Object)\n], Idea.prototype, \"submissionDate\", void 0);\ntslib_1.__decorate([\n    (0, typeorm_1.UpdateDateColumn)(),\n    tslib_1.__metadata(\"design:type\", typeof (_f = typeof Date !== \"undefined\" && Date) === \"function\" ? _f : Object)\n], Idea.prototype, \"updatedAt\", void 0);\nexports.Idea = Idea = tslib_1.__decorate([\n    (0, typeorm_1.Entity)('ideas')\n], Idea);\n","\"use strict\";\nvar _a, _b;\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.Category = void 0;\nconst tslib_1 = require(\"tslib\");\nconst typeorm_1 = require(\"typeorm\");\nconst idea_entity_1 = require(\"./idea.entity\");\nlet Category = class Category {\n};\nexports.Category = Category;\ntslib_1.__decorate([\n    (0, typeorm_1.PrimaryGeneratedColumn)('uuid'),\n    tslib_1.__metadata(\"design:type\", String)\n], Category.prototype, \"id\", void 0);\ntslib_1.__decorate([\n    (0, typeorm_1.Column)({ unique: true }),\n    tslib_1.__metadata(\"design:type\", String)\n], Category.prototype, \"name\", void 0);\ntslib_1.__decorate([\n    (0, typeorm_1.Column)({ nullable: true }),\n    tslib_1.__metadata(\"design:type\", String)\n], Category.prototype, \"description\", void 0);\ntslib_1.__decorate([\n    (0, typeorm_1.Column)({ default: true }),\n    tslib_1.__metadata(\"design:type\", Boolean)\n], Category.prototype, \"isActive\", void 0);\ntslib_1.__decorate([\n    (0, typeorm_1.OneToMany)(() => idea_entity_1.Idea, (idea) => idea.category),\n    tslib_1.__metadata(\"design:type\", Array)\n], Category.prototype, \"ideas\", void 0);\ntslib_1.__decorate([\n    (0, typeorm_1.CreateDateColumn)(),\n    tslib_1.__metadata(\"design:type\", typeof (_a = typeof Date !== \"undefined\" && Date) === \"function\" ? _a : Object)\n], Category.prototype, \"createdAt\", void 0);\ntslib_1.__decorate([\n    (0, typeorm_1.UpdateDateColumn)(),\n    tslib_1.__metadata(\"design:type\", typeof (_b = typeof Date !== \"undefined\" && Date) === \"function\" ? _b : Object)\n], Category.prototype, \"updatedAt\", void 0);\nexports.Category = Category = tslib_1.__decorate([\n    (0, typeorm_1.Entity)('categories')\n], Category);\n","\"use strict\";\nvar _a, _b;\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.Attachment = void 0;\nconst tslib_1 = require(\"tslib\");\nconst typeorm_1 = require(\"typeorm\");\nconst idea_entity_1 = require(\"./idea.entity\");\nlet Attachment = class Attachment {\n};\nexports.Attachment = Attachment;\ntslib_1.__decorate([\n    (0, typeorm_1.PrimaryGeneratedColumn)('uuid'),\n    tslib_1.__metadata(\"design:type\", String)\n], Attachment.prototype, \"id\", void 0);\ntslib_1.__decorate([\n    (0, typeorm_1.Column)(),\n    tslib_1.__metadata(\"design:type\", String)\n], Attachment.prototype, \"fileName\", void 0);\ntslib_1.__decorate([\n    (0, typeorm_1.Column)(),\n    tslib_1.__metadata(\"design:type\", String)\n], Attachment.prototype, \"fileType\", void 0);\ntslib_1.__decorate([\n    (0, typeorm_1.Column)(),\n    tslib_1.__metadata(\"design:type\", String)\n], Attachment.prototype, \"filePath\", void 0);\ntslib_1.__decorate([\n    (0, typeorm_1.Column)({ type: 'bigint', nullable: true }),\n    tslib_1.__metadata(\"design:type\", Number)\n], Attachment.prototype, \"fileSize\", void 0);\ntslib_1.__decorate([\n    (0, typeorm_1.ManyToOne)(() => idea_entity_1.Idea, (idea) => idea.attachments, { onDelete: 'CASCADE' }),\n    (0, typeorm_1.JoinColumn)({ name: 'ideaId' }),\n    tslib_1.__metadata(\"design:type\", typeof (_a = typeof idea_entity_1.Idea !== \"undefined\" && idea_entity_1.Idea) === \"function\" ? _a : Object)\n], Attachment.prototype, \"idea\", void 0);\ntslib_1.__decorate([\n    (0, typeorm_1.Column)(),\n    tslib_1.__metadata(\"design:type\", String)\n], Attachment.prototype, \"ideaId\", void 0);\ntslib_1.__decorate([\n    (0, typeorm_1.CreateDateColumn)(),\n    tslib_1.__metadata(\"design:type\", typeof (_b = typeof Date !== \"undefined\" && Date) === \"function\" ? _b : Object)\n], Attachment.prototype, \"uploadedAt\", void 0);\nexports.Attachment = Attachment = tslib_1.__decorate([\n    (0, typeorm_1.Entity)('attachments')\n], Attachment);\n","\"use strict\";\nvar _a, _b, _c, _d;\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.Comment = void 0;\nconst tslib_1 = require(\"tslib\");\nconst typeorm_1 = require(\"typeorm\");\nconst idea_entity_1 = require(\"./idea.entity\");\nconst user_entity_1 = require(\"./user.entity\");\nlet Comment = class Comment {\n};\nexports.Comment = Comment;\ntslib_1.__decorate([\n    (0, typeorm_1.PrimaryGeneratedColumn)('uuid'),\n    tslib_1.__metadata(\"design:type\", String)\n], Comment.prototype, \"id\", void 0);\ntslib_1.__decorate([\n    (0, typeorm_1.Column)('text'),\n    tslib_1.__metadata(\"design:type\", String)\n], Comment.prototype, \"content\", void 0);\ntslib_1.__decorate([\n    (0, typeorm_1.ManyToOne)(() => idea_entity_1.Idea, (idea) => idea.comments, { onDelete: 'CASCADE' }),\n    (0, typeorm_1.JoinColumn)({ name: 'ideaId' }),\n    tslib_1.__metadata(\"design:type\", typeof (_a = typeof idea_entity_1.Idea !== \"undefined\" && idea_entity_1.Idea) === \"function\" ? _a : Object)\n], Comment.prototype, \"idea\", void 0);\ntslib_1.__decorate([\n    (0, typeorm_1.Column)(),\n    tslib_1.__metadata(\"design:type\", String)\n], Comment.prototype, \"ideaId\", void 0);\ntslib_1.__decorate([\n    (0, typeorm_1.ManyToOne)(() => user_entity_1.User, (user) => user.comments),\n    (0, typeorm_1.JoinColumn)({ name: 'authorId' }),\n    tslib_1.__metadata(\"design:type\", typeof (_b = typeof user_entity_1.User !== \"undefined\" && user_entity_1.User) === \"function\" ? _b : Object)\n], Comment.prototype, \"author\", void 0);\ntslib_1.__decorate([\n    (0, typeorm_1.Column)(),\n    tslib_1.__metadata(\"design:type\", String)\n], Comment.prototype, \"authorId\", void 0);\ntslib_1.__decorate([\n    (0, typeorm_1.CreateDateColumn)(),\n    tslib_1.__metadata(\"design:type\", typeof (_c = typeof Date !== \"undefined\" && Date) === \"function\" ? _c : Object)\n], Comment.prototype, \"timestamp\", void 0);\ntslib_1.__decorate([\n    (0, typeorm_1.UpdateDateColumn)(),\n    tslib_1.__metadata(\"design:type\", typeof (_d = typeof Date !== \"undefined\" && Date) === \"function\" ? _d : Object)\n], Comment.prototype, \"updatedAt\", void 0);\nexports.Comment = Comment = tslib_1.__decorate([\n    (0, typeorm_1.Entity)('comments')\n], Comment);\n","\"use strict\";\nvar _a, _b, _c;\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.Vote = void 0;\nconst tslib_1 = require(\"tslib\");\nconst typeorm_1 = require(\"typeorm\");\nconst idea_entity_1 = require(\"./idea.entity\");\nconst user_entity_1 = require(\"./user.entity\");\nlet Vote = class Vote {\n};\nexports.Vote = Vote;\ntslib_1.__decorate([\n    (0, typeorm_1.PrimaryGeneratedColumn)('uuid'),\n    tslib_1.__metadata(\"design:type\", String)\n], Vote.prototype, \"id\", void 0);\ntslib_1.__decorate([\n    (0, typeorm_1.ManyToOne)(() => idea_entity_1.Idea, (idea) => idea.votes, { onDelete: 'CASCADE' }),\n    (0, typeorm_1.JoinColumn)({ name: 'ideaId' }),\n    tslib_1.__metadata(\"design:type\", typeof (_a = typeof idea_entity_1.Idea !== \"undefined\" && idea_entity_1.Idea) === \"function\" ? _a : Object)\n], Vote.prototype, \"idea\", void 0);\ntslib_1.__decorate([\n    (0, typeorm_1.Column)(),\n    tslib_1.__metadata(\"design:type\", String)\n], Vote.prototype, \"ideaId\", void 0);\ntslib_1.__decorate([\n    (0, typeorm_1.ManyToOne)(() => user_entity_1.User, (user) => user.votes),\n    (0, typeorm_1.JoinColumn)({ name: 'voterId' }),\n    tslib_1.__metadata(\"design:type\", typeof (_b = typeof user_entity_1.User !== \"undefined\" && user_entity_1.User) === \"function\" ? _b : Object)\n], Vote.prototype, \"voter\", void 0);\ntslib_1.__decorate([\n    (0, typeorm_1.Column)(),\n    tslib_1.__metadata(\"design:type\", String)\n], Vote.prototype, \"voterId\", void 0);\ntslib_1.__decorate([\n    (0, typeorm_1.CreateDateColumn)(),\n    tslib_1.__metadata(\"design:type\", typeof (_c = typeof Date !== \"undefined\" && Date) === \"function\" ? _c : Object)\n], Vote.prototype, \"timestamp\", void 0);\nexports.Vote = Vote = tslib_1.__decorate([\n    (0, typeorm_1.Entity)('votes'),\n    (0, typeorm_1.Unique)(['ideaId', 'voterId'])\n], Vote);\n","\"use strict\";\nvar _a, _b, _c, _d;\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.Review = void 0;\nconst tslib_1 = require(\"tslib\");\nconst typeorm_1 = require(\"typeorm\");\nconst enums_1 = require(\"../common/enums\");\nconst idea_entity_1 = require(\"./idea.entity\");\nconst user_entity_1 = require(\"./user.entity\");\nlet Review = class Review {\n};\nexports.Review = Review;\ntslib_1.__decorate([\n    (0, typeorm_1.PrimaryGeneratedColumn)('uuid'),\n    tslib_1.__metadata(\"design:type\", String)\n], Review.prototype, \"id\", void 0);\ntslib_1.__decorate([\n    (0, typeorm_1.Column)({\n        type: 'enum',\n        enum: enums_1.ReviewDecision,\n    }),\n    tslib_1.__metadata(\"design:type\", typeof (_a = typeof enums_1.ReviewDecision !== \"undefined\" && enums_1.ReviewDecision) === \"function\" ? _a : Object)\n], Review.prototype, \"decision\", void 0);\ntslib_1.__decorate([\n    (0, typeorm_1.Column)('text', { nullable: true }),\n    tslib_1.__metadata(\"design:type\", String)\n], Review.prototype, \"comments\", void 0);\ntslib_1.__decorate([\n    (0, typeorm_1.ManyToOne)(() => idea_entity_1.Idea, (idea) => idea.reviews, { onDelete: 'CASCADE' }),\n    (0, typeorm_1.JoinColumn)({ name: 'ideaId' }),\n    tslib_1.__metadata(\"design:type\", typeof (_b = typeof idea_entity_1.Idea !== \"undefined\" && idea_entity_1.Idea) === \"function\" ? _b : Object)\n], Review.prototype, \"idea\", void 0);\ntslib_1.__decorate([\n    (0, typeorm_1.Column)(),\n    tslib_1.__metadata(\"design:type\", String)\n], Review.prototype, \"ideaId\", void 0);\ntslib_1.__decorate([\n    (0, typeorm_1.ManyToOne)(() => user_entity_1.User, (user) => user.reviews),\n    (0, typeorm_1.JoinColumn)({ name: 'reviewerId' }),\n    tslib_1.__metadata(\"design:type\", typeof (_c = typeof user_entity_1.User !== \"undefined\" && user_entity_1.User) === \"function\" ? _c : Object)\n], Review.prototype, \"reviewer\", void 0);\ntslib_1.__decorate([\n    (0, typeorm_1.Column)(),\n    tslib_1.__metadata(\"design:type\", String)\n], Review.prototype, \"reviewerId\", void 0);\ntslib_1.__decorate([\n    (0, typeorm_1.CreateDateColumn)(),\n    tslib_1.__metadata(\"design:type\", typeof (_d = typeof Date !== \"undefined\" && Date) === \"function\" ? _d : Object)\n], Review.prototype, \"reviewDate\", void 0);\nexports.Review = Review = tslib_1.__decorate([\n    (0, typeorm_1.Entity)('reviews')\n], Review);\n","\"use strict\";\nvar _a, _b, _c, _d, _e, _f, _g;\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.Project = void 0;\nconst tslib_1 = require(\"tslib\");\nconst typeorm_1 = require(\"typeorm\");\nconst enums_1 = require(\"../common/enums\");\nconst user_entity_1 = require(\"./user.entity\");\nconst idea_entity_1 = require(\"./idea.entity\");\nconst milestone_entity_1 = require(\"./milestone.entity\");\nconst progress_update_entity_1 = require(\"./progress-update.entity\");\nconst evaluation_entity_1 = require(\"./evaluation.entity\");\nconst nomination_entity_1 = require(\"./nomination.entity\");\nlet Project = class Project {\n};\nexports.Project = Project;\ntslib_1.__decorate([\n    (0, typeorm_1.PrimaryGeneratedColumn)('uuid'),\n    tslib_1.__metadata(\"design:type\", String)\n], Project.prototype, \"id\", void 0);\ntslib_1.__decorate([\n    (0, typeorm_1.Column)(),\n    tslib_1.__metadata(\"design:type\", String)\n], Project.prototype, \"title\", void 0);\ntslib_1.__decorate([\n    (0, typeorm_1.Column)('text', { nullable: true }),\n    tslib_1.__metadata(\"design:type\", String)\n], Project.prototype, \"objective\", void 0);\ntslib_1.__decorate([\n    (0, typeorm_1.Column)('text', { nullable: true }),\n    tslib_1.__metadata(\"design:type\", String)\n], Project.prototype, \"description\", void 0);\ntslib_1.__decorate([\n    (0, typeorm_1.Column)({\n        type: 'enum',\n        enum: enums_1.ProjectStatus,\n        default: enums_1.ProjectStatus.ACTIVE,\n    }),\n    tslib_1.__metadata(\"design:type\", typeof (_a = typeof enums_1.ProjectStatus !== \"undefined\" && enums_1.ProjectStatus) === \"function\" ? _a : Object)\n], Project.prototype, \"status\", void 0);\ntslib_1.__decorate([\n    (0, typeorm_1.Column)({ type: 'date', nullable: true }),\n    tslib_1.__metadata(\"design:type\", typeof (_b = typeof Date !== \"undefined\" && Date) === \"function\" ? _b : Object)\n], Project.prototype, \"startDate\", void 0);\ntslib_1.__decorate([\n    (0, typeorm_1.Column)({ type: 'date', nullable: true }),\n    tslib_1.__metadata(\"design:type\", typeof (_c = typeof Date !== \"undefined\" && Date) === \"function\" ? _c : Object)\n], Project.prototype, \"endDate\", void 0);\ntslib_1.__decorate([\n    (0, typeorm_1.ManyToOne)(() => idea_entity_1.Idea, (idea) => idea.projects),\n    (0, typeorm_1.JoinColumn)({ name: 'basedOnIdeaId' }),\n    tslib_1.__metadata(\"design:type\", typeof (_d = typeof idea_entity_1.Idea !== \"undefined\" && idea_entity_1.Idea) === \"function\" ? _d : Object)\n], Project.prototype, \"basedOnIdea\", void 0);\ntslib_1.__decorate([\n    (0, typeorm_1.Column)(),\n    tslib_1.__metadata(\"design:type\", String)\n], Project.prototype, \"basedOnIdeaId\", void 0);\ntslib_1.__decorate([\n    (0, typeorm_1.ManyToOne)(() => user_entity_1.User),\n    (0, typeorm_1.JoinColumn)({ name: 'createdById' }),\n    tslib_1.__metadata(\"design:type\", typeof (_e = typeof user_entity_1.User !== \"undefined\" && user_entity_1.User) === \"function\" ? _e : Object)\n], Project.prototype, \"createdBy\", void 0);\ntslib_1.__decorate([\n    (0, typeorm_1.Column)(),\n    tslib_1.__metadata(\"design:type\", String)\n], Project.prototype, \"createdById\", void 0);\ntslib_1.__decorate([\n    (0, typeorm_1.ManyToMany)(() => user_entity_1.User, (user) => user.projects),\n    (0, typeorm_1.JoinTable)({\n        name: 'project_team_members',\n        joinColumn: { name: 'projectId', referencedColumnName: 'id' },\n        inverseJoinColumn: { name: 'userId', referencedColumnName: 'id' },\n    }),\n    tslib_1.__metadata(\"design:type\", Array)\n], Project.prototype, \"teamMembers\", void 0);\ntslib_1.__decorate([\n    (0, typeorm_1.OneToMany)(() => milestone_entity_1.Milestone, (milestone) => milestone.project, { cascade: true }),\n    tslib_1.__metadata(\"design:type\", Array)\n], Project.prototype, \"milestones\", void 0);\ntslib_1.__decorate([\n    (0, typeorm_1.OneToMany)(() => progress_update_entity_1.ProgressUpdate, (update) => update.project, { cascade: true }),\n    tslib_1.__metadata(\"design:type\", Array)\n], Project.prototype, \"progressUpdates\", void 0);\ntslib_1.__decorate([\n    (0, typeorm_1.OneToMany)(() => evaluation_entity_1.Evaluation, (evaluation) => evaluation.project),\n    tslib_1.__metadata(\"design:type\", Array)\n], Project.prototype, \"evaluations\", void 0);\ntslib_1.__decorate([\n    (0, typeorm_1.OneToMany)(() => nomination_entity_1.Nomination, (nomination) => nomination.project),\n    tslib_1.__metadata(\"design:type\", Array)\n], Project.prototype, \"nominations\", void 0);\ntslib_1.__decorate([\n    (0, typeorm_1.CreateDateColumn)(),\n    tslib_1.__metadata(\"design:type\", typeof (_f = typeof Date !== \"undefined\" && Date) === \"function\" ? _f : Object)\n], Project.prototype, \"createdAt\", void 0);\ntslib_1.__decorate([\n    (0, typeorm_1.UpdateDateColumn)(),\n    tslib_1.__metadata(\"design:type\", typeof (_g = typeof Date !== \"undefined\" && Date) === \"function\" ? _g : Object)\n], Project.prototype, \"updatedAt\", void 0);\nexports.Project = Project = tslib_1.__decorate([\n    (0, typeorm_1.Entity)('projects')\n], Project);\n","\"use strict\";\nvar _a, _b, _c, _d, _e;\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.Milestone = void 0;\nconst tslib_1 = require(\"tslib\");\nconst typeorm_1 = require(\"typeorm\");\nconst enums_1 = require(\"../common/enums\");\nconst project_entity_1 = require(\"./project.entity\");\nlet Milestone = class Milestone {\n};\nexports.Milestone = Milestone;\ntslib_1.__decorate([\n    (0, typeorm_1.PrimaryGeneratedColumn)('uuid'),\n    tslib_1.__metadata(\"design:type\", String)\n], Milestone.prototype, \"id\", void 0);\ntslib_1.__decorate([\n    (0, typeorm_1.Column)(),\n    tslib_1.__metadata(\"design:type\", String)\n], Milestone.prototype, \"title\", void 0);\ntslib_1.__decorate([\n    (0, typeorm_1.Column)('text', { nullable: true }),\n    tslib_1.__metadata(\"design:type\", String)\n], Milestone.prototype, \"description\", void 0);\ntslib_1.__decorate([\n    (0, typeorm_1.Column)({ type: 'date' }),\n    tslib_1.__metadata(\"design:type\", typeof (_a = typeof Date !== \"undefined\" && Date) === \"function\" ? _a : Object)\n], Milestone.prototype, \"dueDate\", void 0);\ntslib_1.__decorate([\n    (0, typeorm_1.Column)({\n        type: 'enum',\n        enum: enums_1.MilestoneStatus,\n        default: enums_1.MilestoneStatus.PENDING,\n    }),\n    tslib_1.__metadata(\"design:type\", typeof (_b = typeof enums_1.MilestoneStatus !== \"undefined\" && enums_1.MilestoneStatus) === \"function\" ? _b : Object)\n], Milestone.prototype, \"status\", void 0);\ntslib_1.__decorate([\n    (0, typeorm_1.Column)({ type: 'int', default: 0 }),\n    tslib_1.__metadata(\"design:type\", Number)\n], Milestone.prototype, \"orderIndex\", void 0);\ntslib_1.__decorate([\n    (0, typeorm_1.ManyToOne)(() => project_entity_1.Project, (project) => project.milestones, { onDelete: 'CASCADE' }),\n    (0, typeorm_1.JoinColumn)({ name: 'projectId' }),\n    tslib_1.__metadata(\"design:type\", typeof (_c = typeof project_entity_1.Project !== \"undefined\" && project_entity_1.Project) === \"function\" ? _c : Object)\n], Milestone.prototype, \"project\", void 0);\ntslib_1.__decorate([\n    (0, typeorm_1.Column)(),\n    tslib_1.__metadata(\"design:type\", String)\n], Milestone.prototype, \"projectId\", void 0);\ntslib_1.__decorate([\n    (0, typeorm_1.CreateDateColumn)(),\n    tslib_1.__metadata(\"design:type\", typeof (_d = typeof Date !== \"undefined\" && Date) === \"function\" ? _d : Object)\n], Milestone.prototype, \"createdAt\", void 0);\ntslib_1.__decorate([\n    (0, typeorm_1.UpdateDateColumn)(),\n    tslib_1.__metadata(\"design:type\", typeof (_e = typeof Date !== \"undefined\" && Date) === \"function\" ? _e : Object)\n], Milestone.prototype, \"updatedAt\", void 0);\nexports.Milestone = Milestone = tslib_1.__decorate([\n    (0, typeorm_1.Entity)('milestones')\n], Milestone);\n","\"use strict\";\nvar _a, _b, _c, _d;\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.ProgressUpdate = void 0;\nconst tslib_1 = require(\"tslib\");\nconst typeorm_1 = require(\"typeorm\");\nconst project_entity_1 = require(\"./project.entity\");\nconst milestone_entity_1 = require(\"./milestone.entity\");\nconst user_entity_1 = require(\"./user.entity\");\nlet ProgressUpdate = class ProgressUpdate {\n};\nexports.ProgressUpdate = ProgressUpdate;\ntslib_1.__decorate([\n    (0, typeorm_1.PrimaryGeneratedColumn)('uuid'),\n    tslib_1.__metadata(\"design:type\", String)\n], ProgressUpdate.prototype, \"id\", void 0);\ntslib_1.__decorate([\n    (0, typeorm_1.Column)('text'),\n    tslib_1.__metadata(\"design:type\", String)\n], ProgressUpdate.prototype, \"notes\", void 0);\ntslib_1.__decorate([\n    (0, typeorm_1.Column)('simple-array', { nullable: true }),\n    tslib_1.__metadata(\"design:type\", Array)\n], ProgressUpdate.prototype, \"attachmentPaths\", void 0);\ntslib_1.__decorate([\n    (0, typeorm_1.ManyToOne)(() => project_entity_1.Project, (project) => project.progressUpdates, { onDelete: 'CASCADE' }),\n    (0, typeorm_1.JoinColumn)({ name: 'projectId' }),\n    tslib_1.__metadata(\"design:type\", typeof (_a = typeof project_entity_1.Project !== \"undefined\" && project_entity_1.Project) === \"function\" ? _a : Object)\n], ProgressUpdate.prototype, \"project\", void 0);\ntslib_1.__decorate([\n    (0, typeorm_1.Column)(),\n    tslib_1.__metadata(\"design:type\", String)\n], ProgressUpdate.prototype, \"projectId\", void 0);\ntslib_1.__decorate([\n    (0, typeorm_1.ManyToOne)(() => milestone_entity_1.Milestone, { nullable: true }),\n    (0, typeorm_1.JoinColumn)({ name: 'milestoneId' }),\n    tslib_1.__metadata(\"design:type\", typeof (_b = typeof milestone_entity_1.Milestone !== \"undefined\" && milestone_entity_1.Milestone) === \"function\" ? _b : Object)\n], ProgressUpdate.prototype, \"milestone\", void 0);\ntslib_1.__decorate([\n    (0, typeorm_1.Column)({ nullable: true }),\n    tslib_1.__metadata(\"design:type\", String)\n], ProgressUpdate.prototype, \"milestoneId\", void 0);\ntslib_1.__decorate([\n    (0, typeorm_1.ManyToOne)(() => user_entity_1.User, (user) => user.progressUpdates),\n    (0, typeorm_1.JoinColumn)({ name: 'updatedById' }),\n    tslib_1.__metadata(\"design:type\", typeof (_c = typeof user_entity_1.User !== \"undefined\" && user_entity_1.User) === \"function\" ? _c : Object)\n], ProgressUpdate.prototype, \"updatedBy\", void 0);\ntslib_1.__decorate([\n    (0, typeorm_1.Column)(),\n    tslib_1.__metadata(\"design:type\", String)\n], ProgressUpdate.prototype, \"updatedById\", void 0);\ntslib_1.__decorate([\n    (0, typeorm_1.Column)({ default: false }),\n    tslib_1.__metadata(\"design:type\", Boolean)\n], ProgressUpdate.prototype, \"isReviewed\", void 0);\ntslib_1.__decorate([\n    (0, typeorm_1.Column)({ nullable: true }),\n    tslib_1.__metadata(\"design:type\", String)\n], ProgressUpdate.prototype, \"reviewComments\", void 0);\ntslib_1.__decorate([\n    (0, typeorm_1.CreateDateColumn)(),\n    tslib_1.__metadata(\"design:type\", typeof (_d = typeof Date !== \"undefined\" && Date) === \"function\" ? _d : Object)\n], ProgressUpdate.prototype, \"timestamp\", void 0);\nexports.ProgressUpdate = ProgressUpdate = tslib_1.__decorate([\n    (0, typeorm_1.Entity)('progress_updates')\n], ProgressUpdate);\n","\"use strict\";\nvar _a, _b, _c;\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.Evaluation = void 0;\nconst tslib_1 = require(\"tslib\");\nconst typeorm_1 = require(\"typeorm\");\nconst project_entity_1 = require(\"./project.entity\");\nconst user_entity_1 = require(\"./user.entity\");\nlet Evaluation = class Evaluation {\n};\nexports.Evaluation = Evaluation;\ntslib_1.__decorate([\n    (0, typeorm_1.PrimaryGeneratedColumn)('uuid'),\n    tslib_1.__metadata(\"design:type\", String)\n], Evaluation.prototype, \"id\", void 0);\ntslib_1.__decorate([\n    (0, typeorm_1.Column)({ type: 'int' }),\n    tslib_1.__metadata(\"design:type\", Number)\n], Evaluation.prototype, \"score\", void 0);\ntslib_1.__decorate([\n    (0, typeorm_1.Column)('text', { nullable: true }),\n    tslib_1.__metadata(\"design:type\", String)\n], Evaluation.prototype, \"comments\", void 0);\ntslib_1.__decorate([\n    (0, typeorm_1.Column)({ type: 'int', nullable: true }),\n    tslib_1.__metadata(\"design:type\", Number)\n], Evaluation.prototype, \"impactScore\", void 0);\ntslib_1.__decorate([\n    (0, typeorm_1.Column)({ type: 'int', nullable: true }),\n    tslib_1.__metadata(\"design:type\", Number)\n], Evaluation.prototype, \"innovationScore\", void 0);\ntslib_1.__decorate([\n    (0, typeorm_1.Column)({ type: 'int', nullable: true }),\n    tslib_1.__metadata(\"design:type\", Number)\n], Evaluation.prototype, \"executionScore\", void 0);\ntslib_1.__decorate([\n    (0, typeorm_1.ManyToOne)(() => project_entity_1.Project, (project) => project.evaluations),\n    (0, typeorm_1.JoinColumn)({ name: 'projectId' }),\n    tslib_1.__metadata(\"design:type\", typeof (_a = typeof project_entity_1.Project !== \"undefined\" && project_entity_1.Project) === \"function\" ? _a : Object)\n], Evaluation.prototype, \"project\", void 0);\ntslib_1.__decorate([\n    (0, typeorm_1.Column)(),\n    tslib_1.__metadata(\"design:type\", String)\n], Evaluation.prototype, \"projectId\", void 0);\ntslib_1.__decorate([\n    (0, typeorm_1.ManyToOne)(() => user_entity_1.User),\n    (0, typeorm_1.JoinColumn)({ name: 'evaluatedById' }),\n    tslib_1.__metadata(\"design:type\", typeof (_b = typeof user_entity_1.User !== \"undefined\" && user_entity_1.User) === \"function\" ? _b : Object)\n], Evaluation.prototype, \"evaluatedBy\", void 0);\ntslib_1.__decorate([\n    (0, typeorm_1.Column)(),\n    tslib_1.__metadata(\"design:type\", String)\n], Evaluation.prototype, \"evaluatedById\", void 0);\ntslib_1.__decorate([\n    (0, typeorm_1.CreateDateColumn)(),\n    tslib_1.__metadata(\"design:type\", typeof (_c = typeof Date !== \"undefined\" && Date) === \"function\" ? _c : Object)\n], Evaluation.prototype, \"evaluationDate\", void 0);\nexports.Evaluation = Evaluation = tslib_1.__decorate([\n    (0, typeorm_1.Entity)('evaluations')\n], Evaluation);\n","\"use strict\";\nvar _a, _b, _c, _d, _e, _f;\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.Nomination = void 0;\nconst tslib_1 = require(\"tslib\");\nconst typeorm_1 = require(\"typeorm\");\nconst enums_1 = require(\"../common/enums\");\nconst project_entity_1 = require(\"./project.entity\");\nconst user_entity_1 = require(\"./user.entity\");\nlet Nomination = class Nomination {\n};\nexports.Nomination = Nomination;\ntslib_1.__decorate([\n    (0, typeorm_1.PrimaryGeneratedColumn)('uuid'),\n    tslib_1.__metadata(\"design:type\", String)\n], Nomination.prototype, \"id\", void 0);\ntslib_1.__decorate([\n    (0, typeorm_1.Column)('text'),\n    tslib_1.__metadata(\"design:type\", String)\n], Nomination.prototype, \"justification\", void 0);\ntslib_1.__decorate([\n    (0, typeorm_1.Column)({\n        type: 'enum',\n        enum: enums_1.NominationStatus,\n        default: enums_1.NominationStatus.PENDING,\n    }),\n    tslib_1.__metadata(\"design:type\", typeof (_a = typeof enums_1.NominationStatus !== \"undefined\" && enums_1.NominationStatus) === \"function\" ? _a : Object)\n], Nomination.prototype, \"status\", void 0);\ntslib_1.__decorate([\n    (0, typeorm_1.ManyToOne)(() => project_entity_1.Project, (project) => project.nominations),\n    (0, typeorm_1.JoinColumn)({ name: 'projectId' }),\n    tslib_1.__metadata(\"design:type\", typeof (_b = typeof project_entity_1.Project !== \"undefined\" && project_entity_1.Project) === \"function\" ? _b : Object)\n], Nomination.prototype, \"project\", void 0);\ntslib_1.__decorate([\n    (0, typeorm_1.Column)(),\n    tslib_1.__metadata(\"design:type\", String)\n], Nomination.prototype, \"projectId\", void 0);\ntslib_1.__decorate([\n    (0, typeorm_1.ManyToOne)(() => user_entity_1.User, (user) => user.nominations),\n    (0, typeorm_1.JoinColumn)({ name: 'nominatedUserId' }),\n    tslib_1.__metadata(\"design:type\", typeof (_c = typeof user_entity_1.User !== \"undefined\" && user_entity_1.User) === \"function\" ? _c : Object)\n], Nomination.prototype, \"nominatedUser\", void 0);\ntslib_1.__decorate([\n    (0, typeorm_1.Column)(),\n    tslib_1.__metadata(\"design:type\", String)\n], Nomination.prototype, \"nominatedUserId\", void 0);\ntslib_1.__decorate([\n    (0, typeorm_1.ManyToOne)(() => user_entity_1.User),\n    (0, typeorm_1.JoinColumn)({ name: 'nominatedById' }),\n    tslib_1.__metadata(\"design:type\", typeof (_d = typeof user_entity_1.User !== \"undefined\" && user_entity_1.User) === \"function\" ? _d : Object)\n], Nomination.prototype, \"nominatedBy\", void 0);\ntslib_1.__decorate([\n    (0, typeorm_1.Column)(),\n    tslib_1.__metadata(\"design:type\", String)\n], Nomination.prototype, \"nominatedById\", void 0);\ntslib_1.__decorate([\n    (0, typeorm_1.CreateDateColumn)(),\n    tslib_1.__metadata(\"design:type\", typeof (_e = typeof Date !== \"undefined\" && Date) === \"function\" ? _e : Object)\n], Nomination.prototype, \"createdAt\", void 0);\ntslib_1.__decorate([\n    (0, typeorm_1.UpdateDateColumn)(),\n    tslib_1.__metadata(\"design:type\", typeof (_f = typeof Date !== \"undefined\" && Date) === \"function\" ? _f : Object)\n], Nomination.prototype, \"updatedAt\", void 0);\nexports.Nomination = Nomination = tslib_1.__decorate([\n    (0, typeorm_1.Entity)('nominations')\n], Nomination);\n","\"use strict\";\nvar _a, _b, _c, _d, _e;\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.Reward = void 0;\nconst tslib_1 = require(\"tslib\");\nconst typeorm_1 = require(\"typeorm\");\nconst enums_1 = require(\"../common/enums\");\nconst user_entity_1 = require(\"./user.entity\");\nconst project_entity_1 = require(\"./project.entity\");\nlet Reward = class Reward {\n};\nexports.Reward = Reward;\ntslib_1.__decorate([\n    (0, typeorm_1.PrimaryGeneratedColumn)('uuid'),\n    tslib_1.__metadata(\"design:type\", String)\n], Reward.prototype, \"id\", void 0);\ntslib_1.__decorate([\n    (0, typeorm_1.Column)({\n        type: 'enum',\n        enum: enums_1.RewardType,\n    }),\n    tslib_1.__metadata(\"design:type\", typeof (_a = typeof enums_1.RewardType !== \"undefined\" && enums_1.RewardType) === \"function\" ? _a : Object)\n], Reward.prototype, \"rewardType\", void 0);\ntslib_1.__decorate([\n    (0, typeorm_1.Column)({ type: 'int', default: 0 }),\n    tslib_1.__metadata(\"design:type\", Number)\n], Reward.prototype, \"points\", void 0);\ntslib_1.__decorate([\n    (0, typeorm_1.Column)({ nullable: true }),\n    tslib_1.__metadata(\"design:type\", String)\n], Reward.prototype, \"badgeName\", void 0);\ntslib_1.__decorate([\n    (0, typeorm_1.Column)({ nullable: true }),\n    tslib_1.__metadata(\"design:type\", String)\n], Reward.prototype, \"certificateTitle\", void 0);\ntslib_1.__decorate([\n    (0, typeorm_1.Column)('text', { nullable: true }),\n    tslib_1.__metadata(\"design:type\", String)\n], Reward.prototype, \"description\", void 0);\ntslib_1.__decorate([\n    (0, typeorm_1.ManyToOne)(() => user_entity_1.User, (user) => user.rewards),\n    (0, typeorm_1.JoinColumn)({ name: 'recipientId' }),\n    tslib_1.__metadata(\"design:type\", typeof (_b = typeof user_entity_1.User !== \"undefined\" && user_entity_1.User) === \"function\" ? _b : Object)\n], Reward.prototype, \"recipient\", void 0);\ntslib_1.__decorate([\n    (0, typeorm_1.Column)(),\n    tslib_1.__metadata(\"design:type\", String)\n], Reward.prototype, \"recipientId\", void 0);\ntslib_1.__decorate([\n    (0, typeorm_1.ManyToOne)(() => user_entity_1.User),\n    (0, typeorm_1.JoinColumn)({ name: 'awardedById' }),\n    tslib_1.__metadata(\"design:type\", typeof (_c = typeof user_entity_1.User !== \"undefined\" && user_entity_1.User) === \"function\" ? _c : Object)\n], Reward.prototype, \"awardedBy\", void 0);\ntslib_1.__decorate([\n    (0, typeorm_1.Column)(),\n    tslib_1.__metadata(\"design:type\", String)\n], Reward.prototype, \"awardedById\", void 0);\ntslib_1.__decorate([\n    (0, typeorm_1.ManyToOne)(() => project_entity_1.Project, { nullable: true }),\n    (0, typeorm_1.JoinColumn)({ name: 'projectId' }),\n    tslib_1.__metadata(\"design:type\", typeof (_d = typeof project_entity_1.Project !== \"undefined\" && project_entity_1.Project) === \"function\" ? _d : Object)\n], Reward.prototype, \"project\", void 0);\ntslib_1.__decorate([\n    (0, typeorm_1.Column)({ nullable: true }),\n    tslib_1.__metadata(\"design:type\", String)\n], Reward.prototype, \"projectId\", void 0);\ntslib_1.__decorate([\n    (0, typeorm_1.CreateDateColumn)(),\n    tslib_1.__metadata(\"design:type\", typeof (_e = typeof Date !== \"undefined\" && Date) === \"function\" ? _e : Object)\n], Reward.prototype, \"awardedAt\", void 0);\nexports.Reward = Reward = tslib_1.__decorate([\n    (0, typeorm_1.Entity)('rewards')\n], Reward);\n","\"use strict\";\nvar _a, _b, _c, _d;\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.AuditLog = void 0;\nconst tslib_1 = require(\"tslib\");\nconst typeorm_1 = require(\"typeorm\");\nconst user_entity_1 = require(\"./user.entity\");\nlet AuditLog = class AuditLog {\n};\nexports.AuditLog = AuditLog;\ntslib_1.__decorate([\n    (0, typeorm_1.PrimaryGeneratedColumn)('uuid'),\n    tslib_1.__metadata(\"design:type\", String)\n], AuditLog.prototype, \"id\", void 0);\ntslib_1.__decorate([\n    (0, typeorm_1.Column)(),\n    tslib_1.__metadata(\"design:type\", String)\n], AuditLog.prototype, \"action\", void 0);\ntslib_1.__decorate([\n    (0, typeorm_1.Column)(),\n    tslib_1.__metadata(\"design:type\", String)\n], AuditLog.prototype, \"entityType\", void 0);\ntslib_1.__decorate([\n    (0, typeorm_1.Column)({ nullable: true }),\n    tslib_1.__metadata(\"design:type\", String)\n], AuditLog.prototype, \"entityId\", void 0);\ntslib_1.__decorate([\n    (0, typeorm_1.Column)('jsonb', { nullable: true }),\n    tslib_1.__metadata(\"design:type\", typeof (_a = typeof Record !== \"undefined\" && Record) === \"function\" ? _a : Object)\n], AuditLog.prototype, \"previousValues\", void 0);\ntslib_1.__decorate([\n    (0, typeorm_1.Column)('jsonb', { nullable: true }),\n    tslib_1.__metadata(\"design:type\", typeof (_b = typeof Record !== \"undefined\" && Record) === \"function\" ? _b : Object)\n], AuditLog.prototype, \"newValues\", void 0);\ntslib_1.__decorate([\n    (0, typeorm_1.Column)({ nullable: true }),\n    tslib_1.__metadata(\"design:type\", String)\n], AuditLog.prototype, \"ipAddress\", void 0);\ntslib_1.__decorate([\n    (0, typeorm_1.Column)({ nullable: true }),\n    tslib_1.__metadata(\"design:type\", String)\n], AuditLog.prototype, \"userAgent\", void 0);\ntslib_1.__decorate([\n    (0, typeorm_1.ManyToOne)(() => user_entity_1.User, (user) => user.auditLogs),\n    (0, typeorm_1.JoinColumn)({ name: 'actorId' }),\n    tslib_1.__metadata(\"design:type\", typeof (_c = typeof user_entity_1.User !== \"undefined\" && user_entity_1.User) === \"function\" ? _c : Object)\n], AuditLog.prototype, \"actor\", void 0);\ntslib_1.__decorate([\n    (0, typeorm_1.Column)({ nullable: true }),\n    tslib_1.__metadata(\"design:type\", String)\n], AuditLog.prototype, \"actorId\", void 0);\ntslib_1.__decorate([\n    (0, typeorm_1.CreateDateColumn)(),\n    tslib_1.__metadata(\"design:type\", typeof (_d = typeof Date !== \"undefined\" && Date) === \"function\" ? _d : Object)\n], AuditLog.prototype, \"timestamp\", void 0);\nexports.AuditLog = AuditLog = tslib_1.__decorate([\n    (0, typeorm_1.Entity)('audit_logs')\n], AuditLog);\n","\"use strict\";\nvar _a, _b, _c, _d;\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.AuthService = void 0;\nconst tslib_1 = require(\"tslib\");\nconst common_1 = require(\"@nestjs/common\");\nconst jwt_1 = require(\"@nestjs/jwt\");\nconst typeorm_1 = require(\"@nestjs/typeorm\");\nconst typeorm_2 = require(\"typeorm\");\nconst bcrypt = tslib_1.__importStar(require(\"bcrypt\"));\nconst uuid_1 = require(\"uuid\");\nconst entities_1 = require(\"../../entities\");\nconst enums_1 = require(\"../../common/enums\");\nconst audit_service_1 = require(\"../audit/audit.service\");\nlet AuthService = class AuthService {\n    constructor(userRepository, roleRepository, jwtService, auditService) {\n        this.userRepository = userRepository;\n        this.roleRepository = roleRepository;\n        this.jwtService = jwtService;\n        this.auditService = auditService;\n    }\n    async validateUser(email, password) {\n        const user = await this.userRepository.findOne({\n            where: { email },\n            relations: ['roles', 'office'],\n        });\n        if (!user) {\n            return null;\n        }\n        if (user.status === enums_1.AccountStatus.LOCKED) {\n            throw new common_1.UnauthorizedException('Account is locked');\n        }\n        if (user.status === enums_1.AccountStatus.INACTIVE) {\n            throw new common_1.UnauthorizedException('Account is inactive');\n        }\n        const isPasswordValid = await bcrypt.compare(password, user.password);\n        if (!isPasswordValid) {\n            return null;\n        }\n        return user;\n    }\n    async login(user) {\n        const payload = { sub: user.id, email: user.email };\n        await this.auditService.log({\n            action: 'LOGIN',\n            entityType: 'User',\n            entityId: user.id,\n            actorId: user.id,\n        });\n        return {\n            access_token: this.jwtService.sign(payload),\n            user: {\n                id: user.id,\n                name: user.name,\n                email: user.email,\n                roles: user.roles,\n                office: user.office,\n            },\n        };\n    }\n    async register(registerDto) {\n        const existingUser = await this.userRepository.findOne({\n            where: { email: registerDto.email },\n        });\n        if (existingUser) {\n            throw new common_1.BadRequestException('Email already registered');\n        }\n        const hashedPassword = await bcrypt.hash(registerDto.password, 10);\n        const defaultRole = await this.roleRepository.findOne({\n            where: { name: enums_1.SystemRole.USER },\n        });\n        const user = this.userRepository.create({\n            name: registerDto.name,\n            email: registerDto.email,\n            password: hashedPassword,\n            officeId: registerDto.officeId,\n            roles: defaultRole ? [defaultRole] : [],\n            status: enums_1.AccountStatus.ACTIVE,\n        });\n        const savedUser = await this.userRepository.save(user);\n        await this.auditService.log({\n            action: 'REGISTER',\n            entityType: 'User',\n            entityId: savedUser.id,\n            actorId: savedUser.id,\n            newValues: { name: savedUser.name, email: savedUser.email },\n        });\n        const payload = { sub: savedUser.id, email: savedUser.email };\n        return {\n            access_token: this.jwtService.sign(payload),\n            user: {\n                id: savedUser.id,\n                name: savedUser.name,\n                email: savedUser.email,\n            },\n        };\n    }\n    async requestPasswordReset(dto) {\n        const user = await this.userRepository.findOne({\n            where: { email: dto.email },\n        });\n        if (!user) {\n            return { message: 'If the email exists, a reset link has been sent' };\n        }\n        const resetToken = (0, uuid_1.v4)();\n        const resetExpires = new Date();\n        resetExpires.setHours(resetExpires.getHours() + 1);\n        user.passwordResetToken = resetToken;\n        user.passwordResetExpires = resetExpires;\n        await this.userRepository.save(user);\n        await this.auditService.log({\n            action: 'PASSWORD_RESET_REQUESTED',\n            entityType: 'User',\n            entityId: user.id,\n            actorId: user.id,\n        });\n        return { message: 'If the email exists, a reset link has been sent', token: resetToken };\n    }\n    async resetPassword(dto) {\n        const user = await this.userRepository.findOne({\n            where: {\n                passwordResetToken: dto.token,\n                passwordResetExpires: (0, typeorm_2.MoreThan)(new Date()),\n            },\n        });\n        if (!user) {\n            throw new common_1.BadRequestException('Invalid or expired reset token');\n        }\n        const hashedPassword = await bcrypt.hash(dto.newPassword, 10);\n        user.password = hashedPassword;\n        user.passwordResetToken = null;\n        user.passwordResetExpires = null;\n        await this.userRepository.save(user);\n        await this.auditService.log({\n            action: 'PASSWORD_RESET_COMPLETED',\n            entityType: 'User',\n            entityId: user.id,\n            actorId: user.id,\n        });\n        return { message: 'Password has been reset successfully' };\n    }\n    async getProfile(userId) {\n        const user = await this.userRepository.findOne({\n            where: { id: userId },\n            relations: ['roles', 'office'],\n        });\n        if (!user) {\n            throw new common_1.NotFoundException('User not found');\n        }\n        return {\n            id: user.id,\n            name: user.name,\n            email: user.email,\n            status: user.status,\n            totalPoints: user.totalPoints,\n            roles: user.roles,\n            office: user.office,\n            createdAt: user.createdAt,\n        };\n    }\n    async updateProfile(userId, dto) {\n        const user = await this.userRepository.findOne({\n            where: { id: userId },\n            relations: ['roles', 'office'],\n        });\n        if (!user) {\n            throw new common_1.NotFoundException('User not found');\n        }\n        const previousValues = { name: user.name, officeId: user.officeId };\n        if (dto.name) {\n            user.name = dto.name;\n        }\n        if (dto.officeId !== undefined) {\n            user.officeId = dto.officeId;\n        }\n        await this.userRepository.save(user);\n        const updatedUser = await this.userRepository.findOne({\n            where: { id: userId },\n            relations: ['roles', 'office'],\n        });\n        await this.auditService.log({\n            action: 'UPDATE_PROFILE',\n            entityType: 'User',\n            entityId: user.id,\n            actorId: user.id,\n            previousValues,\n            newValues: { name: updatedUser?.name, officeId: updatedUser?.officeId },\n        });\n        return {\n            id: updatedUser.id,\n            name: updatedUser.name,\n            email: updatedUser.email,\n            status: updatedUser.status,\n            totalPoints: updatedUser.totalPoints,\n            roles: updatedUser.roles,\n            office: updatedUser.office,\n            createdAt: updatedUser.createdAt,\n        };\n    }\n    async changePassword(userId, dto) {\n        const user = await this.userRepository.findOne({\n            where: { id: userId },\n        });\n        if (!user) {\n            throw new common_1.NotFoundException('User not found');\n        }\n        const isCurrentPasswordValid = await bcrypt.compare(dto.currentPassword, user.password);\n        if (!isCurrentPasswordValid) {\n            throw new common_1.BadRequestException('Current password is incorrect');\n        }\n        const hashedPassword = await bcrypt.hash(dto.newPassword, 10);\n        user.password = hashedPassword;\n        await this.userRepository.save(user);\n        await this.auditService.log({\n            action: 'CHANGE_PASSWORD',\n            entityType: 'User',\n            entityId: user.id,\n            actorId: user.id,\n        });\n        return { message: 'Password changed successfully' };\n    }\n};\nexports.AuthService = AuthService;\nexports.AuthService = AuthService = tslib_1.__decorate([\n    (0, common_1.Injectable)(),\n    tslib_1.__param(0, (0, typeorm_1.InjectRepository)(entities_1.User)),\n    tslib_1.__param(1, (0, typeorm_1.InjectRepository)(entities_1.Role)),\n    tslib_1.__metadata(\"design:paramtypes\", [typeof (_a = typeof typeorm_2.Repository !== \"undefined\" && typeorm_2.Repository) === \"function\" ? _a : Object, typeof (_b = typeof typeorm_2.Repository !== \"undefined\" && typeorm_2.Repository) === \"function\" ? _b : Object, typeof (_c = typeof jwt_1.JwtService !== \"undefined\" && jwt_1.JwtService) === \"function\" ? _c : Object, typeof (_d = typeof audit_service_1.AuditService !== \"undefined\" && audit_service_1.AuditService) === \"function\" ? _d : Object])\n], AuthService);\n","module.exports = require(\"bcrypt\");","module.exports = require(\"uuid\");","\"use strict\";\nvar _a;\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.AuditService = void 0;\nconst tslib_1 = require(\"tslib\");\nconst common_1 = require(\"@nestjs/common\");\nconst typeorm_1 = require(\"@nestjs/typeorm\");\nconst typeorm_2 = require(\"typeorm\");\nconst entities_1 = require(\"../../entities\");\nlet AuditService = class AuditService {\n    constructor(auditLogRepository) {\n        this.auditLogRepository = auditLogRepository;\n    }\n    async log(params) {\n        const auditLog = this.auditLogRepository.create({\n            action: params.action,\n            entityType: params.entityType,\n            entityId: params.entityId,\n            actorId: params.actorId,\n            previousValues: params.previousValues,\n            newValues: params.newValues,\n            ipAddress: params.ipAddress,\n            userAgent: params.userAgent,\n        });\n        return this.auditLogRepository.save(auditLog);\n    }\n    async findAll(params) {\n        const { page = 1, limit = 20, entityType, action, actorId, search, startDate, endDate } = params;\n        const queryBuilder = this.auditLogRepository\n            .createQueryBuilder('audit')\n            .leftJoinAndSelect('audit.actor', 'actor')\n            .orderBy('audit.timestamp', 'DESC');\n        if (entityType) {\n            queryBuilder.andWhere('audit.entityType = :entityType', { entityType });\n        }\n        if (action) {\n            queryBuilder.andWhere('audit.action ILIKE :action', { action: `%${action}%` });\n        }\n        if (actorId) {\n            queryBuilder.andWhere('audit.actorId = :actorId', { actorId });\n        }\n        if (search) {\n            queryBuilder.andWhere('(actor.name ILIKE :search OR actor.email ILIKE :search OR audit.entityType ILIKE :search OR audit.action ILIKE :search OR CAST(audit.entityId AS TEXT) ILIKE :search)', { search: `%${search}%` });\n        }\n        if (startDate && endDate) {\n            queryBuilder.andWhere('audit.timestamp BETWEEN :startDate AND :endDate', {\n                startDate,\n                endDate,\n            });\n        }\n        const [items, total] = await queryBuilder\n            .skip((page - 1) * limit)\n            .take(limit)\n            .getManyAndCount();\n        return {\n            items,\n            total,\n            page,\n            limit,\n            totalPages: Math.ceil(total / limit),\n        };\n    }\n    async findByEntityId(entityType, entityId) {\n        return this.auditLogRepository.find({\n            where: { entityType, entityId },\n            relations: ['actor'],\n            order: { timestamp: 'DESC' },\n        });\n    }\n    async findByActor(actorId, limit = 50) {\n        return this.auditLogRepository.find({\n            where: { actorId },\n            order: { timestamp: 'DESC' },\n            take: limit,\n        });\n    }\n};\nexports.AuditService = AuditService;\nexports.AuditService = AuditService = tslib_1.__decorate([\n    (0, common_1.Injectable)(),\n    tslib_1.__param(0, (0, typeorm_1.InjectRepository)(entities_1.AuditLog)),\n    tslib_1.__metadata(\"design:paramtypes\", [typeof (_a = typeof typeorm_2.Repository !== \"undefined\" && typeorm_2.Repository) === \"function\" ? _a : Object])\n], AuditService);\n","\"use strict\";\nvar _a, _b, _c, _d, _e, _f, _g, _h, _j, _k;\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.AuthController = void 0;\nconst tslib_1 = require(\"tslib\");\nconst common_1 = require(\"@nestjs/common\");\nconst passport_1 = require(\"@nestjs/passport\");\nconst swagger_1 = require(\"@nestjs/swagger\");\nconst auth_service_1 = require(\"./auth.service\");\nconst dto_1 = require(\"./dto\");\nconst guards_1 = require(\"../../common/guards\");\nconst decorators_1 = require(\"../../common/decorators\");\nconst entities_1 = require(\"../../entities\");\nlet AuthController = class AuthController {\n    constructor(authService) {\n        this.authService = authService;\n    }\n    async login(req, _loginDto) {\n        return this.authService.login(req.user);\n    }\n    async register(registerDto) {\n        return this.authService.register(registerDto);\n    }\n    async requestPasswordReset(dto) {\n        return this.authService.requestPasswordReset(dto);\n    }\n    async resetPassword(dto) {\n        return this.authService.resetPassword(dto);\n    }\n    async getProfile(user) {\n        return this.authService.getProfile(user.id);\n    }\n    async updateProfile(user, dto) {\n        return this.authService.updateProfile(user.id, dto);\n    }\n    async changePassword(user, dto) {\n        return this.authService.changePassword(user.id, dto);\n    }\n};\nexports.AuthController = AuthController;\ntslib_1.__decorate([\n    (0, common_1.Post)('login'),\n    (0, common_1.UseGuards)((0, passport_1.AuthGuard)('local')),\n    (0, common_1.HttpCode)(common_1.HttpStatus.OK),\n    (0, swagger_1.ApiOperation)({ summary: 'User login' }),\n    (0, swagger_1.ApiResponse)({ status: 200, description: 'Login successful' }),\n    (0, swagger_1.ApiResponse)({ status: 401, description: 'Invalid credentials' }),\n    tslib_1.__param(0, (0, common_1.Request)()),\n    tslib_1.__param(1, (0, common_1.Body)()),\n    tslib_1.__metadata(\"design:type\", Function),\n    tslib_1.__metadata(\"design:paramtypes\", [Object, typeof (_b = typeof dto_1.LoginDto !== \"undefined\" && dto_1.LoginDto) === \"function\" ? _b : Object]),\n    tslib_1.__metadata(\"design:returntype\", Promise)\n], AuthController.prototype, \"login\", null);\ntslib_1.__decorate([\n    (0, common_1.Post)('register'),\n    (0, swagger_1.ApiOperation)({ summary: 'Register new user' }),\n    (0, swagger_1.ApiResponse)({ status: 201, description: 'User registered successfully' }),\n    (0, swagger_1.ApiResponse)({ status: 400, description: 'Email already registered' }),\n    tslib_1.__param(0, (0, common_1.Body)()),\n    tslib_1.__metadata(\"design:type\", Function),\n    tslib_1.__metadata(\"design:paramtypes\", [typeof (_c = typeof dto_1.RegisterDto !== \"undefined\" && dto_1.RegisterDto) === \"function\" ? _c : Object]),\n    tslib_1.__metadata(\"design:returntype\", Promise)\n], AuthController.prototype, \"register\", null);\ntslib_1.__decorate([\n    (0, common_1.Post)('password-reset/request'),\n    (0, common_1.HttpCode)(common_1.HttpStatus.OK),\n    (0, swagger_1.ApiOperation)({ summary: 'Request password reset' }),\n    (0, swagger_1.ApiResponse)({ status: 200, description: 'Reset link sent if email exists' }),\n    tslib_1.__param(0, (0, common_1.Body)()),\n    tslib_1.__metadata(\"design:type\", Function),\n    tslib_1.__metadata(\"design:paramtypes\", [typeof (_d = typeof dto_1.RequestPasswordResetDto !== \"undefined\" && dto_1.RequestPasswordResetDto) === \"function\" ? _d : Object]),\n    tslib_1.__metadata(\"design:returntype\", Promise)\n], AuthController.prototype, \"requestPasswordReset\", null);\ntslib_1.__decorate([\n    (0, common_1.Post)('password-reset'),\n    (0, common_1.HttpCode)(common_1.HttpStatus.OK),\n    (0, swagger_1.ApiOperation)({ summary: 'Reset password with token' }),\n    (0, swagger_1.ApiResponse)({ status: 200, description: 'Password reset successful' }),\n    (0, swagger_1.ApiResponse)({ status: 400, description: 'Invalid or expired token' }),\n    tslib_1.__param(0, (0, common_1.Body)()),\n    tslib_1.__metadata(\"design:type\", Function),\n    tslib_1.__metadata(\"design:paramtypes\", [typeof (_e = typeof dto_1.ResetPasswordDto !== \"undefined\" && dto_1.ResetPasswordDto) === \"function\" ? _e : Object]),\n    tslib_1.__metadata(\"design:returntype\", Promise)\n], AuthController.prototype, \"resetPassword\", null);\ntslib_1.__decorate([\n    (0, common_1.Get)('profile'),\n    (0, common_1.UseGuards)(guards_1.JwtAuthGuard),\n    (0, swagger_1.ApiBearerAuth)(),\n    (0, swagger_1.ApiOperation)({ summary: 'Get current user profile' }),\n    (0, swagger_1.ApiResponse)({ status: 200, description: 'Profile retrieved successfully' }),\n    tslib_1.__param(0, (0, decorators_1.CurrentUser)()),\n    tslib_1.__metadata(\"design:type\", Function),\n    tslib_1.__metadata(\"design:paramtypes\", [typeof (_f = typeof entities_1.User !== \"undefined\" && entities_1.User) === \"function\" ? _f : Object]),\n    tslib_1.__metadata(\"design:returntype\", Promise)\n], AuthController.prototype, \"getProfile\", null);\ntslib_1.__decorate([\n    (0, common_1.Patch)('profile'),\n    (0, common_1.UseGuards)(guards_1.JwtAuthGuard),\n    (0, swagger_1.ApiBearerAuth)(),\n    (0, swagger_1.ApiOperation)({ summary: 'Update current user profile' }),\n    (0, swagger_1.ApiResponse)({ status: 200, description: 'Profile updated successfully' }),\n    tslib_1.__param(0, (0, decorators_1.CurrentUser)()),\n    tslib_1.__param(1, (0, common_1.Body)()),\n    tslib_1.__metadata(\"design:type\", Function),\n    tslib_1.__metadata(\"design:paramtypes\", [typeof (_g = typeof entities_1.User !== \"undefined\" && entities_1.User) === \"function\" ? _g : Object, typeof (_h = typeof dto_1.UpdateProfileDto !== \"undefined\" && dto_1.UpdateProfileDto) === \"function\" ? _h : Object]),\n    tslib_1.__metadata(\"design:returntype\", Promise)\n], AuthController.prototype, \"updateProfile\", null);\ntslib_1.__decorate([\n    (0, common_1.Post)('change-password'),\n    (0, common_1.UseGuards)(guards_1.JwtAuthGuard),\n    (0, swagger_1.ApiBearerAuth)(),\n    (0, common_1.HttpCode)(common_1.HttpStatus.OK),\n    (0, swagger_1.ApiOperation)({ summary: 'Change current user password' }),\n    (0, swagger_1.ApiResponse)({ status: 200, description: 'Password changed successfully' }),\n    (0, swagger_1.ApiResponse)({ status: 400, description: 'Current password is incorrect' }),\n    tslib_1.__param(0, (0, decorators_1.CurrentUser)()),\n    tslib_1.__param(1, (0, common_1.Body)()),\n    tslib_1.__metadata(\"design:type\", Function),\n    tslib_1.__metadata(\"design:paramtypes\", [typeof (_j = typeof entities_1.User !== \"undefined\" && entities_1.User) === \"function\" ? _j : Object, typeof (_k = typeof dto_1.ChangePasswordDto !== \"undefined\" && dto_1.ChangePasswordDto) === \"function\" ? _k : Object]),\n    tslib_1.__metadata(\"design:returntype\", Promise)\n], AuthController.prototype, \"changePassword\", null);\nexports.AuthController = AuthController = tslib_1.__decorate([\n    (0, swagger_1.ApiTags)('auth'),\n    (0, common_1.Controller)('auth'),\n    tslib_1.__metadata(\"design:paramtypes\", [typeof (_a = typeof auth_service_1.AuthService !== \"undefined\" && auth_service_1.AuthService) === \"function\" ? _a : Object])\n], AuthController);\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst tslib_1 = require(\"tslib\");\ntslib_1.__exportStar(require(\"./login.dto\"), exports);\ntslib_1.__exportStar(require(\"./register.dto\"), exports);\ntslib_1.__exportStar(require(\"./password-reset.dto\"), exports);\ntslib_1.__exportStar(require(\"./update-profile.dto\"), exports);\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.LoginDto = void 0;\nconst tslib_1 = require(\"tslib\");\nconst class_validator_1 = require(\"class-validator\");\nconst swagger_1 = require(\"@nestjs/swagger\");\nclass LoginDto {\n}\nexports.LoginDto = LoginDto;\ntslib_1.__decorate([\n    (0, swagger_1.ApiProperty)({ example: 'user@example.com' }),\n    (0, class_validator_1.IsEmail)(),\n    (0, class_validator_1.IsNotEmpty)(),\n    tslib_1.__metadata(\"design:type\", String)\n], LoginDto.prototype, \"email\", void 0);\ntslib_1.__decorate([\n    (0, swagger_1.ApiProperty)({ example: 'password123' }),\n    (0, class_validator_1.IsString)(),\n    (0, class_validator_1.IsNotEmpty)(),\n    (0, class_validator_1.MinLength)(6),\n    tslib_1.__metadata(\"design:type\", String)\n], LoginDto.prototype, \"password\", void 0);\n","module.exports = require(\"class-validator\");","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.RegisterDto = void 0;\nconst tslib_1 = require(\"tslib\");\nconst class_validator_1 = require(\"class-validator\");\nconst swagger_1 = require(\"@nestjs/swagger\");\nclass RegisterDto {\n}\nexports.RegisterDto = RegisterDto;\ntslib_1.__decorate([\n    (0, swagger_1.ApiProperty)({ example: 'John Doe' }),\n    (0, class_validator_1.IsString)(),\n    (0, class_validator_1.IsNotEmpty)(),\n    tslib_1.__metadata(\"design:type\", String)\n], RegisterDto.prototype, \"name\", void 0);\ntslib_1.__decorate([\n    (0, swagger_1.ApiProperty)({ example: 'user@example.com' }),\n    (0, class_validator_1.IsEmail)(),\n    (0, class_validator_1.IsNotEmpty)(),\n    tslib_1.__metadata(\"design:type\", String)\n], RegisterDto.prototype, \"email\", void 0);\ntslib_1.__decorate([\n    (0, swagger_1.ApiProperty)({ example: 'password123' }),\n    (0, class_validator_1.IsString)(),\n    (0, class_validator_1.IsNotEmpty)(),\n    (0, class_validator_1.MinLength)(6),\n    tslib_1.__metadata(\"design:type\", String)\n], RegisterDto.prototype, \"password\", void 0);\ntslib_1.__decorate([\n    (0, swagger_1.ApiPropertyOptional)(),\n    (0, class_validator_1.IsOptional)(),\n    (0, class_validator_1.IsString)(),\n    tslib_1.__metadata(\"design:type\", String)\n], RegisterDto.prototype, \"officeId\", void 0);\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.ResetPasswordDto = exports.RequestPasswordResetDto = void 0;\nconst tslib_1 = require(\"tslib\");\nconst class_validator_1 = require(\"class-validator\");\nconst swagger_1 = require(\"@nestjs/swagger\");\nclass RequestPasswordResetDto {\n}\nexports.RequestPasswordResetDto = RequestPasswordResetDto;\ntslib_1.__decorate([\n    (0, swagger_1.ApiProperty)({ example: 'user@example.com' }),\n    (0, class_validator_1.IsEmail)(),\n    (0, class_validator_1.IsNotEmpty)(),\n    tslib_1.__metadata(\"design:type\", String)\n], RequestPasswordResetDto.prototype, \"email\", void 0);\nclass ResetPasswordDto {\n}\nexports.ResetPasswordDto = ResetPasswordDto;\ntslib_1.__decorate([\n    (0, swagger_1.ApiProperty)(),\n    (0, class_validator_1.IsString)(),\n    (0, class_validator_1.IsNotEmpty)(),\n    tslib_1.__metadata(\"design:type\", String)\n], ResetPasswordDto.prototype, \"token\", void 0);\ntslib_1.__decorate([\n    (0, swagger_1.ApiProperty)({ example: 'newpassword123' }),\n    (0, class_validator_1.IsString)(),\n    (0, class_validator_1.IsNotEmpty)(),\n    (0, class_validator_1.MinLength)(6),\n    tslib_1.__metadata(\"design:type\", String)\n], ResetPasswordDto.prototype, \"newPassword\", void 0);\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.ChangePasswordDto = exports.UpdateProfileDto = void 0;\nconst tslib_1 = require(\"tslib\");\nconst class_validator_1 = require(\"class-validator\");\nconst swagger_1 = require(\"@nestjs/swagger\");\nclass UpdateProfileDto {\n}\nexports.UpdateProfileDto = UpdateProfileDto;\ntslib_1.__decorate([\n    (0, swagger_1.ApiPropertyOptional)(),\n    (0, class_validator_1.IsOptional)(),\n    (0, class_validator_1.IsString)(),\n    (0, class_validator_1.MinLength)(2),\n    tslib_1.__metadata(\"design:type\", String)\n], UpdateProfileDto.prototype, \"name\", void 0);\ntslib_1.__decorate([\n    (0, swagger_1.ApiPropertyOptional)(),\n    (0, class_validator_1.IsOptional)(),\n    (0, class_validator_1.IsUUID)('all'),\n    tslib_1.__metadata(\"design:type\", String)\n], UpdateProfileDto.prototype, \"officeId\", void 0);\nclass ChangePasswordDto {\n}\nexports.ChangePasswordDto = ChangePasswordDto;\ntslib_1.__decorate([\n    (0, swagger_1.ApiPropertyOptional)(),\n    (0, class_validator_1.IsString)(),\n    (0, class_validator_1.MinLength)(1),\n    tslib_1.__metadata(\"design:type\", String)\n], ChangePasswordDto.prototype, \"currentPassword\", void 0);\ntslib_1.__decorate([\n    (0, swagger_1.ApiPropertyOptional)(),\n    (0, class_validator_1.IsString)(),\n    (0, class_validator_1.MinLength)(8),\n    tslib_1.__metadata(\"design:type\", String)\n], ChangePasswordDto.prototype, \"newPassword\", void 0);\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst tslib_1 = require(\"tslib\");\ntslib_1.__exportStar(require(\"./jwt-auth.guard\"), exports);\ntslib_1.__exportStar(require(\"./roles.guard\"), exports);\n","\"use strict\";\nvar _a;\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.JwtAuthGuard = void 0;\nconst tslib_1 = require(\"tslib\");\nconst common_1 = require(\"@nestjs/common\");\nconst passport_1 = require(\"@nestjs/passport\");\nconst core_1 = require(\"@nestjs/core\");\nlet JwtAuthGuard = class JwtAuthGuard extends (0, passport_1.AuthGuard)('jwt') {\n    constructor(reflector) {\n        super();\n        this.reflector = reflector;\n    }\n    canActivate(context) {\n        const isPublic = this.reflector.getAllAndOverride('isPublic', [\n            context.getHandler(),\n            context.getClass(),\n        ]);\n        if (isPublic) {\n            return true;\n        }\n        return super.canActivate(context);\n    }\n};\nexports.JwtAuthGuard = JwtAuthGuard;\nexports.JwtAuthGuard = JwtAuthGuard = tslib_1.__decorate([\n    (0, common_1.Injectable)(),\n    tslib_1.__metadata(\"design:paramtypes\", [typeof (_a = typeof core_1.Reflector !== \"undefined\" && core_1.Reflector) === \"function\" ? _a : Object])\n], JwtAuthGuard);\n","\"use strict\";\nvar _a;\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.RolesGuard = void 0;\nconst tslib_1 = require(\"tslib\");\nconst common_1 = require(\"@nestjs/common\");\nconst core_1 = require(\"@nestjs/core\");\nconst roles_decorator_1 = require(\"../decorators/roles.decorator\");\nlet RolesGuard = class RolesGuard {\n    constructor(reflector) {\n        this.reflector = reflector;\n    }\n    canActivate(context) {\n        const requiredRoles = this.reflector.getAllAndOverride(roles_decorator_1.ROLES_KEY, [context.getHandler(), context.getClass()]);\n        if (!requiredRoles) {\n            return true;\n        }\n        const { user } = context.switchToHttp().getRequest();\n        if (!user || !user.roles) {\n            return false;\n        }\n        return requiredRoles.some((role) => user.roles.some((userRole) => userRole.name === role));\n    }\n};\nexports.RolesGuard = RolesGuard;\nexports.RolesGuard = RolesGuard = tslib_1.__decorate([\n    (0, common_1.Injectable)(),\n    tslib_1.__metadata(\"design:paramtypes\", [typeof (_a = typeof core_1.Reflector !== \"undefined\" && core_1.Reflector) === \"function\" ? _a : Object])\n], RolesGuard);\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.Roles = exports.ROLES_KEY = void 0;\nconst common_1 = require(\"@nestjs/common\");\nexports.ROLES_KEY = 'roles';\nconst Roles = (...roles) => (0, common_1.SetMetadata)(exports.ROLES_KEY, roles);\nexports.Roles = Roles;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst tslib_1 = require(\"tslib\");\ntslib_1.__exportStar(require(\"./current-user.decorator\"), exports);\ntslib_1.__exportStar(require(\"./roles.decorator\"), exports);\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.CurrentUser = void 0;\nconst common_1 = require(\"@nestjs/common\");\nexports.CurrentUser = (0, common_1.createParamDecorator)((data, ctx) => {\n    const request = ctx.switchToHttp().getRequest();\n    return request.user;\n});\n","\"use strict\";\nvar _a, _b;\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.JwtStrategy = void 0;\nconst tslib_1 = require(\"tslib\");\nconst common_1 = require(\"@nestjs/common\");\nconst passport_1 = require(\"@nestjs/passport\");\nconst passport_jwt_1 = require(\"passport-jwt\");\nconst config_1 = require(\"@nestjs/config\");\nconst typeorm_1 = require(\"@nestjs/typeorm\");\nconst typeorm_2 = require(\"typeorm\");\nconst entities_1 = require(\"../../../entities\");\nconst enums_1 = require(\"../../../common/enums\");\nlet JwtStrategy = class JwtStrategy extends (0, passport_1.PassportStrategy)(passport_jwt_1.Strategy) {\n    constructor(configService, userRepository) {\n        super({\n            jwtFromRequest: passport_jwt_1.ExtractJwt.fromAuthHeaderAsBearerToken(),\n            ignoreExpiration: false,\n            secretOrKey: configService.get('JWT_SECRET', 'your-secret-key'),\n        });\n        this.userRepository = userRepository;\n    }\n    async validate(payload) {\n        const user = await this.userRepository.findOne({\n            where: { id: payload.sub },\n            relations: ['roles', 'office'],\n        });\n        if (!user) {\n            throw new common_1.UnauthorizedException('User not found');\n        }\n        if (user.status !== enums_1.AccountStatus.ACTIVE) {\n            throw new common_1.UnauthorizedException('Account is not active');\n        }\n        return user;\n    }\n};\nexports.JwtStrategy = JwtStrategy;\nexports.JwtStrategy = JwtStrategy = tslib_1.__decorate([\n    (0, common_1.Injectable)(),\n    tslib_1.__param(1, (0, typeorm_1.InjectRepository)(entities_1.User)),\n    tslib_1.__metadata(\"design:paramtypes\", [typeof (_a = typeof config_1.ConfigService !== \"undefined\" && config_1.ConfigService) === \"function\" ? _a : Object, typeof (_b = typeof typeorm_2.Repository !== \"undefined\" && typeorm_2.Repository) === \"function\" ? _b : Object])\n], JwtStrategy);\n","module.exports = require(\"passport-jwt\");","\"use strict\";\nvar _a;\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.LocalStrategy = void 0;\nconst tslib_1 = require(\"tslib\");\nconst common_1 = require(\"@nestjs/common\");\nconst passport_1 = require(\"@nestjs/passport\");\nconst passport_local_1 = require(\"passport-local\");\nconst auth_service_1 = require(\"../auth.service\");\nlet LocalStrategy = class LocalStrategy extends (0, passport_1.PassportStrategy)(passport_local_1.Strategy) {\n    constructor(authService) {\n        super({ usernameField: 'email' });\n        this.authService = authService;\n    }\n    async validate(email, password) {\n        const user = await this.authService.validateUser(email, password);\n        if (!user) {\n            throw new common_1.UnauthorizedException('Invalid credentials');\n        }\n        return user;\n    }\n};\nexports.LocalStrategy = LocalStrategy;\nexports.LocalStrategy = LocalStrategy = tslib_1.__decorate([\n    (0, common_1.Injectable)(),\n    tslib_1.__metadata(\"design:paramtypes\", [typeof (_a = typeof auth_service_1.AuthService !== \"undefined\" && auth_service_1.AuthService) === \"function\" ? _a : Object])\n], LocalStrategy);\n","module.exports = require(\"passport-local\");","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.UsersModule = void 0;\nconst tslib_1 = require(\"tslib\");\nconst common_1 = require(\"@nestjs/common\");\nconst typeorm_1 = require(\"@nestjs/typeorm\");\nconst entities_1 = require(\"../../entities\");\nconst users_service_1 = require(\"./users.service\");\nconst users_controller_1 = require(\"./users.controller\");\nlet UsersModule = class UsersModule {\n};\nexports.UsersModule = UsersModule;\nexports.UsersModule = UsersModule = tslib_1.__decorate([\n    (0, common_1.Module)({\n        imports: [typeorm_1.TypeOrmModule.forFeature([entities_1.User, entities_1.Role, entities_1.Office])],\n        controllers: [users_controller_1.UsersController],\n        providers: [users_service_1.UsersService],\n        exports: [users_service_1.UsersService],\n    })\n], UsersModule);\n","\"use strict\";\nvar _a, _b, _c, _d;\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.UsersService = void 0;\nconst tslib_1 = require(\"tslib\");\nconst common_1 = require(\"@nestjs/common\");\nconst typeorm_1 = require(\"@nestjs/typeorm\");\nconst typeorm_2 = require(\"typeorm\");\nconst bcrypt = tslib_1.__importStar(require(\"bcrypt\"));\nconst entities_1 = require(\"../../entities\");\nconst audit_service_1 = require(\"../audit/audit.service\");\nconst enums_1 = require(\"../../common/enums\");\nlet UsersService = class UsersService {\n    constructor(userRepository, roleRepository, officeRepository, auditService) {\n        this.userRepository = userRepository;\n        this.roleRepository = roleRepository;\n        this.officeRepository = officeRepository;\n        this.auditService = auditService;\n    }\n    async create(createUserDto, actorId) {\n        const existingUser = await this.userRepository.findOne({\n            where: { email: createUserDto.email },\n        });\n        if (existingUser) {\n            throw new common_1.BadRequestException('Email already registered');\n        }\n        if (createUserDto.officeId) {\n            const office = await this.officeRepository.findOne({\n                where: { id: createUserDto.officeId },\n            });\n            if (!office) {\n                throw new common_1.NotFoundException('Office not found');\n            }\n        }\n        const hashedPassword = await bcrypt.hash(createUserDto.password, 10);\n        let roles = [];\n        if (createUserDto.roleIds?.length) {\n            roles = await this.roleRepository.find({\n                where: { id: (0, typeorm_2.In)(createUserDto.roleIds) },\n            });\n        }\n        else {\n            const defaultRole = await this.roleRepository.findOne({\n                where: { name: enums_1.SystemRole.USER },\n            });\n            if (defaultRole) {\n                roles = [defaultRole];\n            }\n        }\n        const user = this.userRepository.create({\n            name: createUserDto.name,\n            email: createUserDto.email,\n            password: hashedPassword,\n            officeId: createUserDto.officeId,\n            roles,\n            status: enums_1.AccountStatus.ACTIVE,\n        });\n        const savedUser = await this.userRepository.save(user);\n        await this.auditService.log({\n            action: 'CREATE_USER',\n            entityType: 'User',\n            entityId: savedUser.id,\n            actorId,\n            newValues: { name: savedUser.name, email: savedUser.email },\n        });\n        return this.sanitizeUser(savedUser);\n    }\n    async findAll(searchDto) {\n        const { name, email, officeId, roleId, status, page = 1, limit = 20 } = searchDto;\n        const queryBuilder = this.userRepository\n            .createQueryBuilder('user')\n            .leftJoinAndSelect('user.roles', 'role')\n            .leftJoinAndSelect('user.office', 'office');\n        if (name) {\n            queryBuilder.andWhere('user.name ILIKE :name', { name: `%${name}%` });\n        }\n        if (email) {\n            queryBuilder.andWhere('user.email ILIKE :email', { email: `%${email}%` });\n        }\n        if (officeId) {\n            queryBuilder.andWhere('user.officeId = :officeId', { officeId });\n        }\n        if (roleId) {\n            queryBuilder.andWhere('role.id = :roleId', { roleId });\n        }\n        if (status) {\n            queryBuilder.andWhere('user.status = :status', { status });\n        }\n        const [users, total] = await queryBuilder\n            .skip((page - 1) * limit)\n            .take(limit)\n            .getManyAndCount();\n        return {\n            items: users.map((u) => this.sanitizeUser(u)),\n            total,\n            page,\n            limit,\n            totalPages: Math.ceil(total / limit),\n        };\n    }\n    async findOne(id) {\n        const user = await this.userRepository.findOne({\n            where: { id },\n            relations: ['roles', 'office'],\n        });\n        if (!user) {\n            throw new common_1.NotFoundException('User not found');\n        }\n        return this.sanitizeUser(user);\n    }\n    async update(id, updateUserDto, actorId) {\n        const user = await this.userRepository.findOne({\n            where: { id },\n            relations: ['roles', 'office'],\n        });\n        if (!user) {\n            throw new common_1.NotFoundException('User not found');\n        }\n        const previousValues = {\n            name: user.name,\n            email: user.email,\n            status: user.status,\n            officeId: user.officeId,\n        };\n        if (updateUserDto.email && updateUserDto.email !== user.email) {\n            const existingUser = await this.userRepository.findOne({\n                where: { email: updateUserDto.email },\n            });\n            if (existingUser) {\n                throw new common_1.BadRequestException('Email already in use');\n            }\n        }\n        if (updateUserDto.officeId) {\n            const office = await this.officeRepository.findOne({\n                where: { id: updateUserDto.officeId },\n            });\n            if (!office) {\n                throw new common_1.NotFoundException('Office not found');\n            }\n        }\n        Object.assign(user, updateUserDto);\n        const savedUser = await this.userRepository.save(user);\n        await this.auditService.log({\n            action: 'UPDATE_USER',\n            entityType: 'User',\n            entityId: savedUser.id,\n            actorId,\n            previousValues,\n            newValues: updateUserDto,\n        });\n        return this.sanitizeUser(savedUser);\n    }\n    async assignRoles(id, assignRolesDto, actorId) {\n        const user = await this.userRepository.findOne({\n            where: { id },\n            relations: ['roles'],\n        });\n        if (!user) {\n            throw new common_1.NotFoundException('User not found');\n        }\n        const previousRoles = user.roles.map((r) => r.id);\n        const roles = await this.roleRepository.find({\n            where: { id: (0, typeorm_2.In)(assignRolesDto.roleIds) },\n        });\n        user.roles = roles;\n        const savedUser = await this.userRepository.save(user);\n        await this.auditService.log({\n            action: 'ASSIGN_ROLES',\n            entityType: 'User',\n            entityId: savedUser.id,\n            actorId,\n            previousValues: { roleIds: previousRoles },\n            newValues: { roleIds: assignRolesDto.roleIds },\n        });\n        return this.sanitizeUser(savedUser);\n    }\n    async deactivate(id, actorId) {\n        const user = await this.userRepository.findOne({ where: { id } });\n        if (!user) {\n            throw new common_1.NotFoundException('User not found');\n        }\n        user.status = enums_1.AccountStatus.INACTIVE;\n        await this.userRepository.save(user);\n        await this.auditService.log({\n            action: 'DEACTIVATE_USER',\n            entityType: 'User',\n            entityId: user.id,\n            actorId,\n        });\n        return { message: 'User deactivated successfully' };\n    }\n    async activate(id, actorId) {\n        const user = await this.userRepository.findOne({ where: { id } });\n        if (!user) {\n            throw new common_1.NotFoundException('User not found');\n        }\n        user.status = enums_1.AccountStatus.ACTIVE;\n        await this.userRepository.save(user);\n        await this.auditService.log({\n            action: 'ACTIVATE_USER',\n            entityType: 'User',\n            entityId: user.id,\n            actorId,\n        });\n        return { message: 'User activated successfully' };\n    }\n    async getAllRoles() {\n        return this.roleRepository.find();\n    }\n    sanitizeUser(user) {\n        const { password, passwordResetToken, passwordResetExpires, ...result } = user;\n        return result;\n    }\n};\nexports.UsersService = UsersService;\nexports.UsersService = UsersService = tslib_1.__decorate([\n    (0, common_1.Injectable)(),\n    tslib_1.__param(0, (0, typeorm_1.InjectRepository)(entities_1.User)),\n    tslib_1.__param(1, (0, typeorm_1.InjectRepository)(entities_1.Role)),\n    tslib_1.__param(2, (0, typeorm_1.InjectRepository)(entities_1.Office)),\n    tslib_1.__metadata(\"design:paramtypes\", [typeof (_a = typeof typeorm_2.Repository !== \"undefined\" && typeorm_2.Repository) === \"function\" ? _a : Object, typeof (_b = typeof typeorm_2.Repository !== \"undefined\" && typeorm_2.Repository) === \"function\" ? _b : Object, typeof (_c = typeof typeorm_2.Repository !== \"undefined\" && typeorm_2.Repository) === \"function\" ? _c : Object, typeof (_d = typeof audit_service_1.AuditService !== \"undefined\" && audit_service_1.AuditService) === \"function\" ? _d : Object])\n], UsersService);\n","\"use strict\";\nvar _a, _b, _c, _d, _e, _f, _g, _h, _j, _k, _l;\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.UsersController = void 0;\nconst tslib_1 = require(\"tslib\");\nconst common_1 = require(\"@nestjs/common\");\nconst swagger_1 = require(\"@nestjs/swagger\");\nconst users_service_1 = require(\"./users.service\");\nconst dto_1 = require(\"./dto\");\nconst guards_1 = require(\"../../common/guards\");\nconst decorators_1 = require(\"../../common/decorators\");\nconst enums_1 = require(\"../../common/enums\");\nconst entities_1 = require(\"../../entities\");\nlet UsersController = class UsersController {\n    constructor(usersService) {\n        this.usersService = usersService;\n    }\n    create(createUserDto, user) {\n        return this.usersService.create(createUserDto, user.id);\n    }\n    findAll(searchDto) {\n        return this.usersService.findAll(searchDto);\n    }\n    getAllRoles() {\n        return this.usersService.getAllRoles();\n    }\n    searchUsers(searchDto) {\n        return this.usersService.findAll({ ...searchDto, status: 'active' });\n    }\n    findOne(id) {\n        return this.usersService.findOne(id);\n    }\n    update(id, updateUserDto, user) {\n        return this.usersService.update(id, updateUserDto, user.id);\n    }\n    assignRoles(id, assignRolesDto, user) {\n        return this.usersService.assignRoles(id, assignRolesDto, user.id);\n    }\n    deactivate(id, user) {\n        return this.usersService.deactivate(id, user.id);\n    }\n    activate(id, user) {\n        return this.usersService.activate(id, user.id);\n    }\n};\nexports.UsersController = UsersController;\ntslib_1.__decorate([\n    (0, common_1.Post)(),\n    (0, decorators_1.Roles)(enums_1.SystemRole.SYSTEM_ADMIN, enums_1.SystemRole.LOCAL_OFFICE_ADMIN),\n    (0, swagger_1.ApiOperation)({ summary: 'Create a new user (admin only)' }),\n    (0, swagger_1.ApiResponse)({ status: 201, description: 'User created successfully' }),\n    tslib_1.__param(0, (0, common_1.Body)()),\n    tslib_1.__param(1, (0, decorators_1.CurrentUser)()),\n    tslib_1.__metadata(\"design:type\", Function),\n    tslib_1.__metadata(\"design:paramtypes\", [typeof (_b = typeof dto_1.CreateUserDto !== \"undefined\" && dto_1.CreateUserDto) === \"function\" ? _b : Object, typeof (_c = typeof entities_1.User !== \"undefined\" && entities_1.User) === \"function\" ? _c : Object]),\n    tslib_1.__metadata(\"design:returntype\", void 0)\n], UsersController.prototype, \"create\", null);\ntslib_1.__decorate([\n    (0, common_1.Get)(),\n    (0, decorators_1.Roles)(enums_1.SystemRole.SYSTEM_ADMIN, enums_1.SystemRole.LOCAL_OFFICE_ADMIN, enums_1.SystemRole.INNOVATION_MANAGER),\n    (0, swagger_1.ApiOperation)({ summary: 'Search and list users' }),\n    (0, swagger_1.ApiResponse)({ status: 200, description: 'Users retrieved successfully' }),\n    tslib_1.__param(0, (0, common_1.Query)()),\n    tslib_1.__metadata(\"design:type\", Function),\n    tslib_1.__metadata(\"design:paramtypes\", [typeof (_d = typeof dto_1.SearchUsersDto !== \"undefined\" && dto_1.SearchUsersDto) === \"function\" ? _d : Object]),\n    tslib_1.__metadata(\"design:returntype\", void 0)\n], UsersController.prototype, \"findAll\", null);\ntslib_1.__decorate([\n    (0, common_1.Get)('roles'),\n    (0, decorators_1.Roles)(enums_1.SystemRole.SYSTEM_ADMIN, enums_1.SystemRole.LOCAL_OFFICE_ADMIN),\n    (0, swagger_1.ApiOperation)({ summary: 'Get all available roles' }),\n    (0, swagger_1.ApiResponse)({ status: 200, description: 'Roles retrieved successfully' }),\n    tslib_1.__metadata(\"design:type\", Function),\n    tslib_1.__metadata(\"design:paramtypes\", []),\n    tslib_1.__metadata(\"design:returntype\", void 0)\n], UsersController.prototype, \"getAllRoles\", null);\ntslib_1.__decorate([\n    (0, common_1.Get)('search'),\n    (0, swagger_1.ApiOperation)({ summary: 'Search users by name (for dropdowns)' }),\n    (0, swagger_1.ApiResponse)({ status: 200, description: 'Users retrieved successfully' }),\n    tslib_1.__param(0, (0, common_1.Query)()),\n    tslib_1.__metadata(\"design:type\", Function),\n    tslib_1.__metadata(\"design:paramtypes\", [typeof (_e = typeof dto_1.SearchUsersDto !== \"undefined\" && dto_1.SearchUsersDto) === \"function\" ? _e : Object]),\n    tslib_1.__metadata(\"design:returntype\", void 0)\n], UsersController.prototype, \"searchUsers\", null);\ntslib_1.__decorate([\n    (0, common_1.Get)(':id'),\n    (0, swagger_1.ApiOperation)({ summary: 'Get user by ID' }),\n    (0, swagger_1.ApiResponse)({ status: 200, description: 'User retrieved successfully' }),\n    (0, swagger_1.ApiResponse)({ status: 404, description: 'User not found' }),\n    tslib_1.__param(0, (0, common_1.Param)('id', common_1.ParseUUIDPipe)),\n    tslib_1.__metadata(\"design:type\", Function),\n    tslib_1.__metadata(\"design:paramtypes\", [String]),\n    tslib_1.__metadata(\"design:returntype\", void 0)\n], UsersController.prototype, \"findOne\", null);\ntslib_1.__decorate([\n    (0, common_1.Patch)(':id'),\n    (0, decorators_1.Roles)(enums_1.SystemRole.SYSTEM_ADMIN, enums_1.SystemRole.LOCAL_OFFICE_ADMIN),\n    (0, swagger_1.ApiOperation)({ summary: 'Update user (admin only)' }),\n    (0, swagger_1.ApiResponse)({ status: 200, description: 'User updated successfully' }),\n    (0, swagger_1.ApiResponse)({ status: 404, description: 'User not found' }),\n    tslib_1.__param(0, (0, common_1.Param)('id', common_1.ParseUUIDPipe)),\n    tslib_1.__param(1, (0, common_1.Body)()),\n    tslib_1.__param(2, (0, decorators_1.CurrentUser)()),\n    tslib_1.__metadata(\"design:type\", Function),\n    tslib_1.__metadata(\"design:paramtypes\", [String, typeof (_f = typeof dto_1.UpdateUserDto !== \"undefined\" && dto_1.UpdateUserDto) === \"function\" ? _f : Object, typeof (_g = typeof entities_1.User !== \"undefined\" && entities_1.User) === \"function\" ? _g : Object]),\n    tslib_1.__metadata(\"design:returntype\", void 0)\n], UsersController.prototype, \"update\", null);\ntslib_1.__decorate([\n    (0, common_1.Patch)(':id/roles'),\n    (0, decorators_1.Roles)(enums_1.SystemRole.SYSTEM_ADMIN),\n    (0, swagger_1.ApiOperation)({ summary: 'Assign roles to user (system admin only)' }),\n    (0, swagger_1.ApiResponse)({ status: 200, description: 'Roles assigned successfully' }),\n    (0, swagger_1.ApiResponse)({ status: 404, description: 'User not found' }),\n    tslib_1.__param(0, (0, common_1.Param)('id', common_1.ParseUUIDPipe)),\n    tslib_1.__param(1, (0, common_1.Body)()),\n    tslib_1.__param(2, (0, decorators_1.CurrentUser)()),\n    tslib_1.__metadata(\"design:type\", Function),\n    tslib_1.__metadata(\"design:paramtypes\", [String, typeof (_h = typeof dto_1.AssignRolesDto !== \"undefined\" && dto_1.AssignRolesDto) === \"function\" ? _h : Object, typeof (_j = typeof entities_1.User !== \"undefined\" && entities_1.User) === \"function\" ? _j : Object]),\n    tslib_1.__metadata(\"design:returntype\", void 0)\n], UsersController.prototype, \"assignRoles\", null);\ntslib_1.__decorate([\n    (0, common_1.Patch)(':id/deactivate'),\n    (0, decorators_1.Roles)(enums_1.SystemRole.SYSTEM_ADMIN, enums_1.SystemRole.LOCAL_OFFICE_ADMIN),\n    (0, swagger_1.ApiOperation)({ summary: 'Deactivate user (admin only)' }),\n    (0, swagger_1.ApiResponse)({ status: 200, description: 'User deactivated successfully' }),\n    (0, swagger_1.ApiResponse)({ status: 404, description: 'User not found' }),\n    tslib_1.__param(0, (0, common_1.Param)('id', common_1.ParseUUIDPipe)),\n    tslib_1.__param(1, (0, decorators_1.CurrentUser)()),\n    tslib_1.__metadata(\"design:type\", Function),\n    tslib_1.__metadata(\"design:paramtypes\", [String, typeof (_k = typeof entities_1.User !== \"undefined\" && entities_1.User) === \"function\" ? _k : Object]),\n    tslib_1.__metadata(\"design:returntype\", void 0)\n], UsersController.prototype, \"deactivate\", null);\ntslib_1.__decorate([\n    (0, common_1.Patch)(':id/activate'),\n    (0, decorators_1.Roles)(enums_1.SystemRole.SYSTEM_ADMIN, enums_1.SystemRole.LOCAL_OFFICE_ADMIN),\n    (0, swagger_1.ApiOperation)({ summary: 'Activate user (admin only)' }),\n    (0, swagger_1.ApiResponse)({ status: 200, description: 'User activated successfully' }),\n    (0, swagger_1.ApiResponse)({ status: 404, description: 'User not found' }),\n    tslib_1.__param(0, (0, common_1.Param)('id', common_1.ParseUUIDPipe)),\n    tslib_1.__param(1, (0, decorators_1.CurrentUser)()),\n    tslib_1.__metadata(\"design:type\", Function),\n    tslib_1.__metadata(\"design:paramtypes\", [String, typeof (_l = typeof entities_1.User !== \"undefined\" && entities_1.User) === \"function\" ? _l : Object]),\n    tslib_1.__metadata(\"design:returntype\", void 0)\n], UsersController.prototype, \"activate\", null);\nexports.UsersController = UsersController = tslib_1.__decorate([\n    (0, swagger_1.ApiTags)('users'),\n    (0, common_1.Controller)('users'),\n    (0, common_1.UseGuards)(guards_1.JwtAuthGuard, guards_1.RolesGuard),\n    (0, swagger_1.ApiBearerAuth)(),\n    tslib_1.__metadata(\"design:paramtypes\", [typeof (_a = typeof users_service_1.UsersService !== \"undefined\" && users_service_1.UsersService) === \"function\" ? _a : Object])\n], UsersController);\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst tslib_1 = require(\"tslib\");\ntslib_1.__exportStar(require(\"./create-user.dto\"), exports);\ntslib_1.__exportStar(require(\"./update-user.dto\"), exports);\ntslib_1.__exportStar(require(\"./search-users.dto\"), exports);\ntslib_1.__exportStar(require(\"./assign-roles.dto\"), exports);\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.CreateUserDto = void 0;\nconst tslib_1 = require(\"tslib\");\nconst class_validator_1 = require(\"class-validator\");\nconst swagger_1 = require(\"@nestjs/swagger\");\nclass CreateUserDto {\n}\nexports.CreateUserDto = CreateUserDto;\ntslib_1.__decorate([\n    (0, swagger_1.ApiProperty)({ example: 'John Doe' }),\n    (0, class_validator_1.IsString)(),\n    (0, class_validator_1.IsNotEmpty)(),\n    tslib_1.__metadata(\"design:type\", String)\n], CreateUserDto.prototype, \"name\", void 0);\ntslib_1.__decorate([\n    (0, swagger_1.ApiProperty)({ example: 'user@example.com' }),\n    (0, class_validator_1.IsEmail)(),\n    (0, class_validator_1.IsNotEmpty)(),\n    tslib_1.__metadata(\"design:type\", String)\n], CreateUserDto.prototype, \"email\", void 0);\ntslib_1.__decorate([\n    (0, swagger_1.ApiProperty)({ example: 'password123' }),\n    (0, class_validator_1.IsString)(),\n    (0, class_validator_1.IsNotEmpty)(),\n    (0, class_validator_1.MinLength)(6),\n    tslib_1.__metadata(\"design:type\", String)\n], CreateUserDto.prototype, \"password\", void 0);\ntslib_1.__decorate([\n    (0, swagger_1.ApiPropertyOptional)(),\n    (0, class_validator_1.IsOptional)(),\n    (0, class_validator_1.IsUUID)(),\n    tslib_1.__metadata(\"design:type\", String)\n], CreateUserDto.prototype, \"officeId\", void 0);\ntslib_1.__decorate([\n    (0, swagger_1.ApiPropertyOptional)({ type: [String] }),\n    (0, class_validator_1.IsOptional)(),\n    (0, class_validator_1.IsArray)(),\n    (0, class_validator_1.IsUUID)('4', { each: true }),\n    tslib_1.__metadata(\"design:type\", Array)\n], CreateUserDto.prototype, \"roleIds\", void 0);\n","\"use strict\";\nvar _a;\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.AssignRolesDto = exports.UpdateUserDto = void 0;\nconst tslib_1 = require(\"tslib\");\nconst class_validator_1 = require(\"class-validator\");\nconst swagger_1 = require(\"@nestjs/swagger\");\nconst enums_1 = require(\"../../../common/enums\");\nclass UpdateUserDto {\n}\nexports.UpdateUserDto = UpdateUserDto;\ntslib_1.__decorate([\n    (0, swagger_1.ApiPropertyOptional)({ example: 'John Doe' }),\n    (0, class_validator_1.IsOptional)(),\n    (0, class_validator_1.IsString)(),\n    tslib_1.__metadata(\"design:type\", String)\n], UpdateUserDto.prototype, \"name\", void 0);\ntslib_1.__decorate([\n    (0, swagger_1.ApiPropertyOptional)({ example: 'user@example.com' }),\n    (0, class_validator_1.IsOptional)(),\n    (0, class_validator_1.IsEmail)(),\n    tslib_1.__metadata(\"design:type\", String)\n], UpdateUserDto.prototype, \"email\", void 0);\ntslib_1.__decorate([\n    (0, swagger_1.ApiPropertyOptional)(),\n    (0, class_validator_1.IsOptional)(),\n    (0, class_validator_1.IsUUID)(),\n    tslib_1.__metadata(\"design:type\", String)\n], UpdateUserDto.prototype, \"officeId\", void 0);\ntslib_1.__decorate([\n    (0, swagger_1.ApiPropertyOptional)({ enum: enums_1.AccountStatus }),\n    (0, class_validator_1.IsOptional)(),\n    (0, class_validator_1.IsEnum)(enums_1.AccountStatus),\n    tslib_1.__metadata(\"design:type\", typeof (_a = typeof enums_1.AccountStatus !== \"undefined\" && enums_1.AccountStatus) === \"function\" ? _a : Object)\n], UpdateUserDto.prototype, \"status\", void 0);\nclass AssignRolesDto {\n}\nexports.AssignRolesDto = AssignRolesDto;\ntslib_1.__decorate([\n    (0, swagger_1.ApiPropertyOptional)({ type: [String] }),\n    (0, class_validator_1.IsArray)(),\n    (0, class_validator_1.IsUUID)('4', { each: true }),\n    tslib_1.__metadata(\"design:type\", Array)\n], AssignRolesDto.prototype, \"roleIds\", void 0);\n","\"use strict\";\nvar _a;\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.SearchUsersDto = void 0;\nconst tslib_1 = require(\"tslib\");\nconst class_validator_1 = require(\"class-validator\");\nconst swagger_1 = require(\"@nestjs/swagger\");\nconst class_transformer_1 = require(\"class-transformer\");\nconst enums_1 = require(\"../../../common/enums\");\nclass SearchUsersDto {\n    constructor() {\n        this.page = 1;\n        this.limit = 20;\n    }\n}\nexports.SearchUsersDto = SearchUsersDto;\ntslib_1.__decorate([\n    (0, swagger_1.ApiPropertyOptional)(),\n    (0, class_validator_1.IsOptional)(),\n    (0, class_validator_1.IsString)(),\n    tslib_1.__metadata(\"design:type\", String)\n], SearchUsersDto.prototype, \"name\", void 0);\ntslib_1.__decorate([\n    (0, swagger_1.ApiPropertyOptional)(),\n    (0, class_validator_1.IsOptional)(),\n    (0, class_validator_1.IsString)(),\n    tslib_1.__metadata(\"design:type\", String)\n], SearchUsersDto.prototype, \"email\", void 0);\ntslib_1.__decorate([\n    (0, swagger_1.ApiPropertyOptional)(),\n    (0, class_validator_1.IsOptional)(),\n    (0, class_validator_1.IsUUID)(),\n    tslib_1.__metadata(\"design:type\", String)\n], SearchUsersDto.prototype, \"officeId\", void 0);\ntslib_1.__decorate([\n    (0, swagger_1.ApiPropertyOptional)(),\n    (0, class_validator_1.IsOptional)(),\n    (0, class_validator_1.IsUUID)(),\n    tslib_1.__metadata(\"design:type\", String)\n], SearchUsersDto.prototype, \"roleId\", void 0);\ntslib_1.__decorate([\n    (0, swagger_1.ApiPropertyOptional)({ enum: enums_1.AccountStatus }),\n    (0, class_validator_1.IsOptional)(),\n    (0, class_validator_1.IsEnum)(enums_1.AccountStatus),\n    tslib_1.__metadata(\"design:type\", typeof (_a = typeof enums_1.AccountStatus !== \"undefined\" && enums_1.AccountStatus) === \"function\" ? _a : Object)\n], SearchUsersDto.prototype, \"status\", void 0);\ntslib_1.__decorate([\n    (0, swagger_1.ApiPropertyOptional)({ default: 1 }),\n    (0, class_validator_1.IsOptional)(),\n    (0, class_transformer_1.Type)(() => Number),\n    (0, class_validator_1.IsNumber)(),\n    (0, class_validator_1.Min)(1),\n    tslib_1.__metadata(\"design:type\", Number)\n], SearchUsersDto.prototype, \"page\", void 0);\ntslib_1.__decorate([\n    (0, swagger_1.ApiPropertyOptional)({ default: 20 }),\n    (0, class_validator_1.IsOptional)(),\n    (0, class_transformer_1.Type)(() => Number),\n    (0, class_validator_1.IsNumber)(),\n    (0, class_validator_1.Min)(1),\n    tslib_1.__metadata(\"design:type\", Number)\n], SearchUsersDto.prototype, \"limit\", void 0);\n","module.exports = require(\"class-transformer\");","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.AssignRolesDto = void 0;\nconst tslib_1 = require(\"tslib\");\nconst class_validator_1 = require(\"class-validator\");\nconst swagger_1 = require(\"@nestjs/swagger\");\nclass AssignRolesDto {\n}\nexports.AssignRolesDto = AssignRolesDto;\ntslib_1.__decorate([\n    (0, swagger_1.ApiProperty)({ type: [String] }),\n    (0, class_validator_1.IsArray)(),\n    (0, class_validator_1.IsUUID)('4', { each: true }),\n    tslib_1.__metadata(\"design:type\", Array)\n], AssignRolesDto.prototype, \"roleIds\", void 0);\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.OfficesModule = void 0;\nconst tslib_1 = require(\"tslib\");\nconst common_1 = require(\"@nestjs/common\");\nconst typeorm_1 = require(\"@nestjs/typeorm\");\nconst entities_1 = require(\"../../entities\");\nconst offices_service_1 = require(\"./offices.service\");\nconst offices_controller_1 = require(\"./offices.controller\");\nlet OfficesModule = class OfficesModule {\n};\nexports.OfficesModule = OfficesModule;\nexports.OfficesModule = OfficesModule = tslib_1.__decorate([\n    (0, common_1.Module)({\n        imports: [typeorm_1.TypeOrmModule.forFeature([entities_1.Office])],\n        controllers: [offices_controller_1.OfficesController],\n        providers: [offices_service_1.OfficesService],\n        exports: [offices_service_1.OfficesService],\n    })\n], OfficesModule);\n","\"use strict\";\nvar _a, _b;\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.OfficesService = void 0;\nconst tslib_1 = require(\"tslib\");\nconst common_1 = require(\"@nestjs/common\");\nconst typeorm_1 = require(\"@nestjs/typeorm\");\nconst typeorm_2 = require(\"typeorm\");\nconst entities_1 = require(\"../../entities\");\nconst audit_service_1 = require(\"../audit/audit.service\");\nlet OfficesService = class OfficesService {\n    constructor(officeRepository, auditService) {\n        this.officeRepository = officeRepository;\n        this.auditService = auditService;\n    }\n    async create(createOfficeDto, actorId) {\n        const existing = await this.officeRepository.findOne({\n            where: { name: createOfficeDto.name },\n        });\n        if (existing) {\n            throw new common_1.BadRequestException('Office with this name already exists');\n        }\n        const office = this.officeRepository.create(createOfficeDto);\n        const savedOffice = await this.officeRepository.save(office);\n        await this.auditService.log({\n            action: 'CREATE_OFFICE',\n            entityType: 'Office',\n            entityId: savedOffice.id,\n            actorId,\n            newValues: createOfficeDto,\n        });\n        return savedOffice;\n    }\n    async findAll(searchDto) {\n        const { name, region, isActive, page = 1, limit = 20 } = searchDto;\n        const queryBuilder = this.officeRepository\n            .createQueryBuilder('office')\n            .loadRelationCountAndMap('office.userCount', 'office.users');\n        if (name) {\n            queryBuilder.andWhere('office.name ILIKE :name', { name: `%${name}%` });\n        }\n        if (region) {\n            queryBuilder.andWhere('office.region ILIKE :region', { region: `%${region}%` });\n        }\n        if (isActive !== undefined) {\n            queryBuilder.andWhere('office.isActive = :isActive', { isActive });\n        }\n        const [offices, total] = await queryBuilder\n            .skip((page - 1) * limit)\n            .take(limit)\n            .getManyAndCount();\n        return {\n            items: offices,\n            total,\n            page,\n            limit,\n            totalPages: Math.ceil(total / limit),\n        };\n    }\n    async findOne(id) {\n        const office = await this.officeRepository.findOne({\n            where: { id },\n            relations: ['users'],\n        });\n        if (!office) {\n            throw new common_1.NotFoundException('Office not found');\n        }\n        return office;\n    }\n    async update(id, updateOfficeDto, actorId) {\n        const office = await this.officeRepository.findOne({ where: { id } });\n        if (!office) {\n            throw new common_1.NotFoundException('Office not found');\n        }\n        const previousValues = {\n            name: office.name,\n            region: office.region,\n            address: office.address,\n            isActive: office.isActive,\n        };\n        if (updateOfficeDto.name && updateOfficeDto.name !== office.name) {\n            const existing = await this.officeRepository.findOne({\n                where: { name: updateOfficeDto.name },\n            });\n            if (existing) {\n                throw new common_1.BadRequestException('Office with this name already exists');\n            }\n        }\n        Object.assign(office, updateOfficeDto);\n        const savedOffice = await this.officeRepository.save(office);\n        await this.auditService.log({\n            action: 'UPDATE_OFFICE',\n            entityType: 'Office',\n            entityId: savedOffice.id,\n            actorId,\n            previousValues,\n            newValues: updateOfficeDto,\n        });\n        return savedOffice;\n    }\n    async remove(id, actorId) {\n        const office = await this.officeRepository.findOne({\n            where: { id },\n            relations: ['users'],\n        });\n        if (!office) {\n            throw new common_1.NotFoundException('Office not found');\n        }\n        if (office.users?.length > 0) {\n            throw new common_1.BadRequestException('Cannot delete office with assigned users');\n        }\n        await this.officeRepository.remove(office);\n        await this.auditService.log({\n            action: 'DELETE_OFFICE',\n            entityType: 'Office',\n            entityId: id,\n            actorId,\n            previousValues: { name: office.name },\n        });\n        return { message: 'Office deleted successfully' };\n    }\n};\nexports.OfficesService = OfficesService;\nexports.OfficesService = OfficesService = tslib_1.__decorate([\n    (0, common_1.Injectable)(),\n    tslib_1.__param(0, (0, typeorm_1.InjectRepository)(entities_1.Office)),\n    tslib_1.__metadata(\"design:paramtypes\", [typeof (_a = typeof typeorm_2.Repository !== \"undefined\" && typeorm_2.Repository) === \"function\" ? _a : Object, typeof (_b = typeof audit_service_1.AuditService !== \"undefined\" && audit_service_1.AuditService) === \"function\" ? _b : Object])\n], OfficesService);\n","\"use strict\";\nvar _a, _b, _c, _d, _e, _f, _g;\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.OfficesController = void 0;\nconst tslib_1 = require(\"tslib\");\nconst common_1 = require(\"@nestjs/common\");\nconst swagger_1 = require(\"@nestjs/swagger\");\nconst offices_service_1 = require(\"./offices.service\");\nconst dto_1 = require(\"./dto\");\nconst guards_1 = require(\"../../common/guards\");\nconst decorators_1 = require(\"../../common/decorators\");\nconst enums_1 = require(\"../../common/enums\");\nconst entities_1 = require(\"../../entities\");\nlet OfficesController = class OfficesController {\n    constructor(officesService) {\n        this.officesService = officesService;\n    }\n    create(createOfficeDto, user) {\n        return this.officesService.create(createOfficeDto, user.id);\n    }\n    findAll(searchDto) {\n        return this.officesService.findAll(searchDto);\n    }\n    findOne(id) {\n        return this.officesService.findOne(id);\n    }\n    update(id, updateOfficeDto, user) {\n        return this.officesService.update(id, updateOfficeDto, user.id);\n    }\n    remove(id, user) {\n        return this.officesService.remove(id, user.id);\n    }\n};\nexports.OfficesController = OfficesController;\ntslib_1.__decorate([\n    (0, common_1.Post)(),\n    (0, decorators_1.Roles)(enums_1.SystemRole.SYSTEM_ADMIN),\n    (0, swagger_1.ApiOperation)({ summary: 'Create a new office (system admin only)' }),\n    (0, swagger_1.ApiResponse)({ status: 201, description: 'Office created successfully' }),\n    tslib_1.__param(0, (0, common_1.Body)()),\n    tslib_1.__param(1, (0, decorators_1.CurrentUser)()),\n    tslib_1.__metadata(\"design:type\", Function),\n    tslib_1.__metadata(\"design:paramtypes\", [typeof (_b = typeof dto_1.CreateOfficeDto !== \"undefined\" && dto_1.CreateOfficeDto) === \"function\" ? _b : Object, typeof (_c = typeof entities_1.User !== \"undefined\" && entities_1.User) === \"function\" ? _c : Object]),\n    tslib_1.__metadata(\"design:returntype\", void 0)\n], OfficesController.prototype, \"create\", null);\ntslib_1.__decorate([\n    (0, common_1.Get)(),\n    (0, swagger_1.ApiOperation)({ summary: 'Search and list offices' }),\n    (0, swagger_1.ApiResponse)({ status: 200, description: 'Offices retrieved successfully' }),\n    tslib_1.__param(0, (0, common_1.Query)()),\n    tslib_1.__metadata(\"design:type\", Function),\n    tslib_1.__metadata(\"design:paramtypes\", [typeof (_d = typeof dto_1.SearchOfficesDto !== \"undefined\" && dto_1.SearchOfficesDto) === \"function\" ? _d : Object]),\n    tslib_1.__metadata(\"design:returntype\", void 0)\n], OfficesController.prototype, \"findAll\", null);\ntslib_1.__decorate([\n    (0, common_1.Get)(':id'),\n    (0, swagger_1.ApiOperation)({ summary: 'Get office by ID' }),\n    (0, swagger_1.ApiResponse)({ status: 200, description: 'Office retrieved successfully' }),\n    (0, swagger_1.ApiResponse)({ status: 404, description: 'Office not found' }),\n    tslib_1.__param(0, (0, common_1.Param)('id', new common_1.ParseUUIDPipe({ version: undefined }))),\n    tslib_1.__metadata(\"design:type\", Function),\n    tslib_1.__metadata(\"design:paramtypes\", [String]),\n    tslib_1.__metadata(\"design:returntype\", void 0)\n], OfficesController.prototype, \"findOne\", null);\ntslib_1.__decorate([\n    (0, common_1.Patch)(':id'),\n    (0, decorators_1.Roles)(enums_1.SystemRole.SYSTEM_ADMIN),\n    (0, swagger_1.ApiOperation)({ summary: 'Update office (system admin only)' }),\n    (0, swagger_1.ApiResponse)({ status: 200, description: 'Office updated successfully' }),\n    (0, swagger_1.ApiResponse)({ status: 404, description: 'Office not found' }),\n    tslib_1.__param(0, (0, common_1.Param)('id', new common_1.ParseUUIDPipe({ version: undefined }))),\n    tslib_1.__param(1, (0, common_1.Body)()),\n    tslib_1.__param(2, (0, decorators_1.CurrentUser)()),\n    tslib_1.__metadata(\"design:type\", Function),\n    tslib_1.__metadata(\"design:paramtypes\", [String, typeof (_e = typeof dto_1.UpdateOfficeDto !== \"undefined\" && dto_1.UpdateOfficeDto) === \"function\" ? _e : Object, typeof (_f = typeof entities_1.User !== \"undefined\" && entities_1.User) === \"function\" ? _f : Object]),\n    tslib_1.__metadata(\"design:returntype\", void 0)\n], OfficesController.prototype, \"update\", null);\ntslib_1.__decorate([\n    (0, common_1.Delete)(':id'),\n    (0, decorators_1.Roles)(enums_1.SystemRole.SYSTEM_ADMIN),\n    (0, swagger_1.ApiOperation)({ summary: 'Delete office (system admin only)' }),\n    (0, swagger_1.ApiResponse)({ status: 200, description: 'Office deleted successfully' }),\n    (0, swagger_1.ApiResponse)({ status: 404, description: 'Office not found' }),\n    tslib_1.__param(0, (0, common_1.Param)('id', new common_1.ParseUUIDPipe({ version: undefined }))),\n    tslib_1.__param(1, (0, decorators_1.CurrentUser)()),\n    tslib_1.__metadata(\"design:type\", Function),\n    tslib_1.__metadata(\"design:paramtypes\", [String, typeof (_g = typeof entities_1.User !== \"undefined\" && entities_1.User) === \"function\" ? _g : Object]),\n    tslib_1.__metadata(\"design:returntype\", void 0)\n], OfficesController.prototype, \"remove\", null);\nexports.OfficesController = OfficesController = tslib_1.__decorate([\n    (0, swagger_1.ApiTags)('offices'),\n    (0, common_1.Controller)('offices'),\n    (0, common_1.UseGuards)(guards_1.JwtAuthGuard, guards_1.RolesGuard),\n    (0, swagger_1.ApiBearerAuth)(),\n    tslib_1.__metadata(\"design:paramtypes\", [typeof (_a = typeof offices_service_1.OfficesService !== \"undefined\" && offices_service_1.OfficesService) === \"function\" ? _a : Object])\n], OfficesController);\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst tslib_1 = require(\"tslib\");\ntslib_1.__exportStar(require(\"./create-office.dto\"), exports);\ntslib_1.__exportStar(require(\"./update-office.dto\"), exports);\ntslib_1.__exportStar(require(\"./search-offices.dto\"), exports);\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.CreateOfficeDto = void 0;\nconst tslib_1 = require(\"tslib\");\nconst class_validator_1 = require(\"class-validator\");\nconst swagger_1 = require(\"@nestjs/swagger\");\nclass CreateOfficeDto {\n}\nexports.CreateOfficeDto = CreateOfficeDto;\ntslib_1.__decorate([\n    (0, swagger_1.ApiProperty)(),\n    (0, class_validator_1.IsString)(),\n    tslib_1.__metadata(\"design:type\", String)\n], CreateOfficeDto.prototype, \"name\", void 0);\ntslib_1.__decorate([\n    (0, swagger_1.ApiPropertyOptional)(),\n    (0, class_validator_1.IsOptional)(),\n    (0, class_validator_1.IsString)(),\n    tslib_1.__metadata(\"design:type\", String)\n], CreateOfficeDto.prototype, \"region\", void 0);\ntslib_1.__decorate([\n    (0, swagger_1.ApiPropertyOptional)(),\n    (0, class_validator_1.IsOptional)(),\n    (0, class_validator_1.IsString)(),\n    tslib_1.__metadata(\"design:type\", String)\n], CreateOfficeDto.prototype, \"address\", void 0);\ntslib_1.__decorate([\n    (0, swagger_1.ApiPropertyOptional)({ default: true }),\n    (0, class_validator_1.IsOptional)(),\n    (0, class_validator_1.IsBoolean)(),\n    tslib_1.__metadata(\"design:type\", Boolean)\n], CreateOfficeDto.prototype, \"isActive\", void 0);\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.UpdateOfficeDto = void 0;\nconst swagger_1 = require(\"@nestjs/swagger\");\nconst create_office_dto_1 = require(\"./create-office.dto\");\nclass UpdateOfficeDto extends (0, swagger_1.PartialType)(create_office_dto_1.CreateOfficeDto) {\n}\nexports.UpdateOfficeDto = UpdateOfficeDto;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.SearchOfficesDto = void 0;\nconst tslib_1 = require(\"tslib\");\nconst class_validator_1 = require(\"class-validator\");\nconst swagger_1 = require(\"@nestjs/swagger\");\nconst class_transformer_1 = require(\"class-transformer\");\nclass SearchOfficesDto {\n    constructor() {\n        this.page = 1;\n        this.limit = 20;\n    }\n}\nexports.SearchOfficesDto = SearchOfficesDto;\ntslib_1.__decorate([\n    (0, swagger_1.ApiPropertyOptional)(),\n    (0, class_validator_1.IsOptional)(),\n    (0, class_validator_1.IsString)(),\n    tslib_1.__metadata(\"design:type\", String)\n], SearchOfficesDto.prototype, \"name\", void 0);\ntslib_1.__decorate([\n    (0, swagger_1.ApiPropertyOptional)(),\n    (0, class_validator_1.IsOptional)(),\n    (0, class_validator_1.IsString)(),\n    tslib_1.__metadata(\"design:type\", String)\n], SearchOfficesDto.prototype, \"region\", void 0);\ntslib_1.__decorate([\n    (0, swagger_1.ApiPropertyOptional)(),\n    (0, class_validator_1.IsOptional)(),\n    (0, class_transformer_1.Transform)(({ value }) => value === 'true' || value === true),\n    (0, class_validator_1.IsBoolean)(),\n    tslib_1.__metadata(\"design:type\", Boolean)\n], SearchOfficesDto.prototype, \"isActive\", void 0);\ntslib_1.__decorate([\n    (0, swagger_1.ApiPropertyOptional)({ default: 1 }),\n    (0, class_validator_1.IsOptional)(),\n    (0, class_transformer_1.Type)(() => Number),\n    (0, class_validator_1.IsNumber)(),\n    (0, class_validator_1.Min)(1),\n    tslib_1.__metadata(\"design:type\", Number)\n], SearchOfficesDto.prototype, \"page\", void 0);\ntslib_1.__decorate([\n    (0, swagger_1.ApiPropertyOptional)({ default: 20 }),\n    (0, class_validator_1.IsOptional)(),\n    (0, class_transformer_1.Type)(() => Number),\n    (0, class_validator_1.IsNumber)(),\n    (0, class_validator_1.Min)(1),\n    tslib_1.__metadata(\"design:type\", Number)\n], SearchOfficesDto.prototype, \"limit\", void 0);\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.IdeasModule = void 0;\nconst tslib_1 = require(\"tslib\");\nconst common_1 = require(\"@nestjs/common\");\nconst typeorm_1 = require(\"@nestjs/typeorm\");\nconst entities_1 = require(\"../../entities\");\nconst ideas_service_1 = require(\"./ideas.service\");\nconst ideas_controller_1 = require(\"./ideas.controller\");\nlet IdeasModule = class IdeasModule {\n};\nexports.IdeasModule = IdeasModule;\nexports.IdeasModule = IdeasModule = tslib_1.__decorate([\n    (0, common_1.Module)({\n        imports: [typeorm_1.TypeOrmModule.forFeature([entities_1.Idea, entities_1.Comment, entities_1.Vote, entities_1.Category, entities_1.Attachment])],\n        controllers: [ideas_controller_1.IdeasController],\n        providers: [ideas_service_1.IdeasService],\n        exports: [ideas_service_1.IdeasService],\n    })\n], IdeasModule);\n","\"use strict\";\nvar _a, _b, _c, _d, _e, _f;\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.IdeasService = void 0;\nconst tslib_1 = require(\"tslib\");\nconst common_1 = require(\"@nestjs/common\");\nconst typeorm_1 = require(\"@nestjs/typeorm\");\nconst typeorm_2 = require(\"typeorm\");\nconst entities_1 = require(\"../../entities\");\nconst audit_service_1 = require(\"../audit/audit.service\");\nconst enums_1 = require(\"../../common/enums\");\nlet IdeasService = class IdeasService {\n    constructor(ideaRepository, commentRepository, voteRepository, categoryRepository, attachmentRepository, auditService) {\n        this.ideaRepository = ideaRepository;\n        this.commentRepository = commentRepository;\n        this.voteRepository = voteRepository;\n        this.categoryRepository = categoryRepository;\n        this.attachmentRepository = attachmentRepository;\n        this.auditService = auditService;\n    }\n    async create(createIdeaDto, user) {\n        if (createIdeaDto.categoryId) {\n            const category = await this.categoryRepository.findOne({\n                where: { id: createIdeaDto.categoryId },\n            });\n            if (!category) {\n                throw new common_1.NotFoundException('Category not found');\n            }\n        }\n        const { originalityScore, duplicateOfId } = await this.checkOriginality(createIdeaDto.title, createIdeaDto.description);\n        const idea = this.ideaRepository.create({\n            title: createIdeaDto.title,\n            description: createIdeaDto.description,\n            categoryId: createIdeaDto.categoryId,\n            officeId: createIdeaDto.officeId || user.officeId,\n            submittedById: user.id,\n            status: enums_1.IdeaStatus.SUBMITTED,\n            isOriginal: originalityScore >= 0.7,\n            originalityScore,\n            duplicateOfId,\n        });\n        const savedIdea = await this.ideaRepository.save(idea);\n        if (createIdeaDto.attachmentUrls?.length) {\n            const attachments = createIdeaDto.attachmentUrls.map((url) => this.attachmentRepository.create({ url, ideaId: savedIdea.id }));\n            await this.attachmentRepository.save(attachments);\n        }\n        await this.auditService.log({\n            action: 'CREATE_IDEA',\n            entityType: 'Idea',\n            entityId: savedIdea.id,\n            actorId: user.id,\n            newValues: { title: savedIdea.title, status: savedIdea.status },\n        });\n        return this.findOne(savedIdea.id);\n    }\n    async findAll(searchDto) {\n        const { title, keyword, categoryId, officeId, submittedById, status, isOriginal, page = 1, limit = 20, sortBy = 'submissionDate', sortOrder = 'DESC', } = searchDto;\n        const queryBuilder = this.ideaRepository\n            .createQueryBuilder('idea')\n            .leftJoinAndSelect('idea.submittedBy', 'submittedBy')\n            .leftJoinAndSelect('idea.category', 'category')\n            .leftJoinAndSelect('idea.office', 'office');\n        if (title) {\n            queryBuilder.andWhere('idea.title ILIKE :title', { title: `%${title}%` });\n        }\n        if (keyword) {\n            queryBuilder.andWhere('(idea.title ILIKE :keyword OR idea.description ILIKE :keyword)', { keyword: `%${keyword}%` });\n        }\n        if (categoryId) {\n            queryBuilder.andWhere('idea.categoryId = :categoryId', { categoryId });\n        }\n        if (officeId) {\n            queryBuilder.andWhere('idea.officeId = :officeId', { officeId });\n        }\n        if (submittedById) {\n            queryBuilder.andWhere('idea.submittedById = :submittedById', { submittedById });\n        }\n        if (status) {\n            queryBuilder.andWhere('idea.status = :status', { status });\n        }\n        if (isOriginal !== undefined) {\n            queryBuilder.andWhere('idea.isOriginal = :isOriginal', { isOriginal });\n        }\n        queryBuilder.orderBy(`idea.${sortBy}`, sortOrder);\n        const [ideas, total] = await queryBuilder\n            .skip((page - 1) * limit)\n            .take(limit)\n            .getManyAndCount();\n        return {\n            items: ideas,\n            total,\n            page,\n            limit,\n            totalPages: Math.ceil(total / limit),\n        };\n    }\n    async findOne(id) {\n        const idea = await this.ideaRepository.findOne({\n            where: { id },\n            relations: ['submittedBy', 'category', 'office', 'attachments', 'comments', 'comments.author', 'votes'],\n        });\n        if (!idea) {\n            throw new common_1.NotFoundException('Idea not found');\n        }\n        return idea;\n    }\n    async update(id, updateIdeaDto, user) {\n        const idea = await this.ideaRepository.findOne({\n            where: { id },\n            relations: ['submittedBy'],\n        });\n        if (!idea) {\n            throw new common_1.NotFoundException('Idea not found');\n        }\n        const isOwner = idea.submittedById === user.id;\n        const isAdmin = user.roles?.some((r) => [enums_1.SystemRole.SYSTEM_ADMIN, enums_1.SystemRole.LOCAL_OFFICE_ADMIN, enums_1.SystemRole.INNOVATION_MANAGER].includes(r.name));\n        if (!isOwner && !isAdmin) {\n            throw new common_1.ForbiddenException('Not authorized to update this idea');\n        }\n        if (isOwner && !isAdmin && idea.status !== enums_1.IdeaStatus.SUBMITTED && idea.status !== enums_1.IdeaStatus.CHANGES_REQUESTED) {\n            throw new common_1.BadRequestException('Can only edit ideas in SUBMITTED or CHANGES_REQUESTED status');\n        }\n        const previousValues = {\n            title: idea.title,\n            description: idea.description,\n            status: idea.status,\n        };\n        if (updateIdeaDto.title || updateIdeaDto.description) {\n            const { originalityScore, duplicateOfId } = await this.checkOriginality(updateIdeaDto.title || idea.title, updateIdeaDto.description || idea.description, idea.id);\n            idea.originalityScore = originalityScore;\n            idea.isOriginal = originalityScore >= 0.7;\n            idea.duplicateOfId = duplicateOfId;\n        }\n        Object.assign(idea, updateIdeaDto);\n        const savedIdea = await this.ideaRepository.save(idea);\n        await this.auditService.log({\n            action: 'UPDATE_IDEA',\n            entityType: 'Idea',\n            entityId: savedIdea.id,\n            actorId: user.id,\n            previousValues,\n            newValues: updateIdeaDto,\n        });\n        return this.findOne(savedIdea.id);\n    }\n    async addComment(ideaId, createCommentDto, user) {\n        const idea = await this.ideaRepository.findOne({ where: { id: ideaId } });\n        if (!idea) {\n            throw new common_1.NotFoundException('Idea not found');\n        }\n        const comment = this.commentRepository.create({\n            content: createCommentDto.content,\n            ideaId,\n            authorId: user.id,\n        });\n        const savedComment = await this.commentRepository.save(comment);\n        await this.auditService.log({\n            action: 'ADD_COMMENT',\n            entityType: 'Comment',\n            entityId: savedComment.id,\n            actorId: user.id,\n            newValues: { ideaId, content: createCommentDto.content },\n        });\n        return this.commentRepository.findOne({\n            where: { id: savedComment.id },\n            relations: ['author'],\n        });\n    }\n    async deleteComment(ideaId, commentId, user) {\n        const comment = await this.commentRepository.findOne({\n            where: { id: commentId, ideaId },\n            relations: ['author'],\n        });\n        if (!comment) {\n            throw new common_1.NotFoundException('Comment not found');\n        }\n        const isOwner = comment.authorId === user.id;\n        const isModerator = user.roles?.some((r) => [enums_1.SystemRole.SYSTEM_ADMIN, enums_1.SystemRole.KNOWLEDGE_CHAMPION, enums_1.SystemRole.INNOVATION_MANAGER].includes(r.name));\n        if (!isOwner && !isModerator) {\n            throw new common_1.ForbiddenException('Not authorized to delete this comment');\n        }\n        await this.commentRepository.remove(comment);\n        await this.auditService.log({\n            action: 'DELETE_COMMENT',\n            entityType: 'Comment',\n            entityId: commentId,\n            actorId: user.id,\n            previousValues: { content: comment.content },\n        });\n        return { message: 'Comment deleted successfully' };\n    }\n    async vote(ideaId, user) {\n        const idea = await this.ideaRepository.findOne({ where: { id: ideaId } });\n        if (!idea) {\n            throw new common_1.NotFoundException('Idea not found');\n        }\n        if (idea.submittedById === user.id) {\n            throw new common_1.BadRequestException('Cannot vote on your own idea');\n        }\n        const existingVote = await this.voteRepository.findOne({\n            where: { ideaId, voterId: user.id },\n        });\n        if (existingVote) {\n            throw new common_1.BadRequestException('Already voted on this idea');\n        }\n        const vote = this.voteRepository.create({\n            ideaId,\n            voterId: user.id,\n        });\n        await this.voteRepository.save(vote);\n        idea.voteCount += 1;\n        await this.ideaRepository.save(idea);\n        await this.auditService.log({\n            action: 'VOTE_IDEA',\n            entityType: 'Vote',\n            entityId: vote.id,\n            actorId: user.id,\n            newValues: { ideaId },\n        });\n        return { message: 'Vote recorded successfully', voteCount: idea.voteCount };\n    }\n    async unvote(ideaId, user) {\n        const vote = await this.voteRepository.findOne({\n            where: { ideaId, voterId: user.id },\n        });\n        if (!vote) {\n            throw new common_1.NotFoundException('Vote not found');\n        }\n        await this.voteRepository.remove(vote);\n        const idea = await this.ideaRepository.findOne({ where: { id: ideaId } });\n        if (idea) {\n            idea.voteCount = Math.max(0, idea.voteCount - 1);\n            await this.ideaRepository.save(idea);\n        }\n        await this.auditService.log({\n            action: 'UNVOTE_IDEA',\n            entityType: 'Vote',\n            entityId: vote.id,\n            actorId: user.id,\n            previousValues: { ideaId },\n        });\n        return { message: 'Vote removed successfully', voteCount: idea?.voteCount || 0 };\n    }\n    async getMyIdeas(user, searchDto) {\n        return this.findAll({ ...searchDto, submittedById: user.id });\n    }\n    async getIdeasForReview(searchDto) {\n        return this.findAll({ ...searchDto, status: enums_1.IdeaStatus.SUBMITTED });\n    }\n    async getCategories() {\n        return this.categoryRepository.find({\n            where: { isActive: true },\n            order: { name: 'ASC' },\n        });\n    }\n    async checkOriginality(title, description, excludeId) {\n        const queryBuilder = this.ideaRepository\n            .createQueryBuilder('idea')\n            .where('idea.title ILIKE :title', { title: `%${title.substring(0, 50)}%` });\n        if (excludeId) {\n            queryBuilder.andWhere('idea.id != :excludeId', { excludeId });\n        }\n        const similar = await queryBuilder.getMany();\n        if (similar.length === 0) {\n            return { originalityScore: 1.0, duplicateOfId: null };\n        }\n        const titleLower = title.toLowerCase();\n        for (const existing of similar) {\n            const existingTitleLower = existing.title.toLowerCase();\n            if (titleLower === existingTitleLower) {\n                return { originalityScore: 0, duplicateOfId: existing.id };\n            }\n            const similarity = this.calculateSimilarity(titleLower, existingTitleLower);\n            if (similarity > 0.8) {\n                return { originalityScore: 1 - similarity, duplicateOfId: existing.id };\n            }\n        }\n        return { originalityScore: 0.85, duplicateOfId: null };\n    }\n    calculateSimilarity(str1, str2) {\n        const words1 = new Set(str1.split(/\\s+/));\n        const words2 = new Set(str2.split(/\\s+/));\n        const intersection = new Set([...words1].filter((x) => words2.has(x)));\n        const union = new Set([...words1, ...words2]);\n        return intersection.size / union.size;\n    }\n};\nexports.IdeasService = IdeasService;\nexports.IdeasService = IdeasService = tslib_1.__decorate([\n    (0, common_1.Injectable)(),\n    tslib_1.__param(0, (0, typeorm_1.InjectRepository)(entities_1.Idea)),\n    tslib_1.__param(1, (0, typeorm_1.InjectRepository)(entities_1.Comment)),\n    tslib_1.__param(2, (0, typeorm_1.InjectRepository)(entities_1.Vote)),\n    tslib_1.__param(3, (0, typeorm_1.InjectRepository)(entities_1.Category)),\n    tslib_1.__param(4, (0, typeorm_1.InjectRepository)(entities_1.Attachment)),\n    tslib_1.__metadata(\"design:paramtypes\", [typeof (_a = typeof typeorm_2.Repository !== \"undefined\" && typeorm_2.Repository) === \"function\" ? _a : Object, typeof (_b = typeof typeorm_2.Repository !== \"undefined\" && typeorm_2.Repository) === \"function\" ? _b : Object, typeof (_c = typeof typeorm_2.Repository !== \"undefined\" && typeorm_2.Repository) === \"function\" ? _c : Object, typeof (_d = typeof typeorm_2.Repository !== \"undefined\" && typeorm_2.Repository) === \"function\" ? _d : Object, typeof (_e = typeof typeorm_2.Repository !== \"undefined\" && typeorm_2.Repository) === \"function\" ? _e : Object, typeof (_f = typeof audit_service_1.AuditService !== \"undefined\" && audit_service_1.AuditService) === \"function\" ? _f : Object])\n], IdeasService);\n","\"use strict\";\nvar _a, _b, _c, _d, _e, _f, _g, _h, _j, _k, _l, _m, _o, _p;\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.IdeasController = void 0;\nconst tslib_1 = require(\"tslib\");\nconst common_1 = require(\"@nestjs/common\");\nconst swagger_1 = require(\"@nestjs/swagger\");\nconst ideas_service_1 = require(\"./ideas.service\");\nconst dto_1 = require(\"./dto\");\nconst guards_1 = require(\"../../common/guards\");\nconst decorators_1 = require(\"../../common/decorators\");\nconst enums_1 = require(\"../../common/enums\");\nconst entities_1 = require(\"../../entities\");\nlet IdeasController = class IdeasController {\n    constructor(ideasService) {\n        this.ideasService = ideasService;\n    }\n    create(createIdeaDto, user) {\n        return this.ideasService.create(createIdeaDto, user);\n    }\n    getCategories() {\n        return this.ideasService.getCategories();\n    }\n    findAll(searchDto) {\n        return this.ideasService.findAll(searchDto);\n    }\n    getMyIdeas(searchDto, user) {\n        return this.ideasService.getMyIdeas(user, searchDto);\n    }\n    getIdeasForReview(searchDto) {\n        return this.ideasService.getIdeasForReview(searchDto);\n    }\n    findOne(id) {\n        return this.ideasService.findOne(id);\n    }\n    update(id, updateIdeaDto, user) {\n        return this.ideasService.update(id, updateIdeaDto, user);\n    }\n    addComment(id, createCommentDto, user) {\n        return this.ideasService.addComment(id, createCommentDto, user);\n    }\n    deleteComment(id, commentId, user) {\n        return this.ideasService.deleteComment(id, commentId, user);\n    }\n    vote(id, user) {\n        return this.ideasService.vote(id, user);\n    }\n    unvote(id, user) {\n        return this.ideasService.unvote(id, user);\n    }\n};\nexports.IdeasController = IdeasController;\ntslib_1.__decorate([\n    (0, common_1.Post)(),\n    (0, swagger_1.ApiOperation)({ summary: 'Submit a new idea' }),\n    (0, swagger_1.ApiResponse)({ status: 201, description: 'Idea submitted successfully' }),\n    tslib_1.__param(0, (0, common_1.Body)()),\n    tslib_1.__param(1, (0, decorators_1.CurrentUser)()),\n    tslib_1.__metadata(\"design:type\", Function),\n    tslib_1.__metadata(\"design:paramtypes\", [typeof (_b = typeof dto_1.CreateIdeaDto !== \"undefined\" && dto_1.CreateIdeaDto) === \"function\" ? _b : Object, typeof (_c = typeof entities_1.User !== \"undefined\" && entities_1.User) === \"function\" ? _c : Object]),\n    tslib_1.__metadata(\"design:returntype\", void 0)\n], IdeasController.prototype, \"create\", null);\ntslib_1.__decorate([\n    (0, common_1.Get)('categories'),\n    (0, swagger_1.ApiOperation)({ summary: 'Get all active categories' }),\n    (0, swagger_1.ApiResponse)({ status: 200, description: 'Categories retrieved successfully' }),\n    tslib_1.__metadata(\"design:type\", Function),\n    tslib_1.__metadata(\"design:paramtypes\", []),\n    tslib_1.__metadata(\"design:returntype\", void 0)\n], IdeasController.prototype, \"getCategories\", null);\ntslib_1.__decorate([\n    (0, common_1.Get)(),\n    (0, swagger_1.ApiOperation)({ summary: 'Search and list ideas' }),\n    (0, swagger_1.ApiResponse)({ status: 200, description: 'Ideas retrieved successfully' }),\n    tslib_1.__param(0, (0, common_1.Query)()),\n    tslib_1.__metadata(\"design:type\", Function),\n    tslib_1.__metadata(\"design:paramtypes\", [typeof (_d = typeof dto_1.SearchIdeasDto !== \"undefined\" && dto_1.SearchIdeasDto) === \"function\" ? _d : Object]),\n    tslib_1.__metadata(\"design:returntype\", void 0)\n], IdeasController.prototype, \"findAll\", null);\ntslib_1.__decorate([\n    (0, common_1.Get)('my-ideas'),\n    (0, swagger_1.ApiOperation)({ summary: 'Get current user ideas' }),\n    (0, swagger_1.ApiResponse)({ status: 200, description: 'Ideas retrieved successfully' }),\n    tslib_1.__param(0, (0, common_1.Query)()),\n    tslib_1.__param(1, (0, decorators_1.CurrentUser)()),\n    tslib_1.__metadata(\"design:type\", Function),\n    tslib_1.__metadata(\"design:paramtypes\", [typeof (_e = typeof dto_1.SearchIdeasDto !== \"undefined\" && dto_1.SearchIdeasDto) === \"function\" ? _e : Object, typeof (_f = typeof entities_1.User !== \"undefined\" && entities_1.User) === \"function\" ? _f : Object]),\n    tslib_1.__metadata(\"design:returntype\", void 0)\n], IdeasController.prototype, \"getMyIdeas\", null);\ntslib_1.__decorate([\n    (0, common_1.Get)('for-review'),\n    (0, decorators_1.Roles)(enums_1.SystemRole.KNOWLEDGE_CHAMPION, enums_1.SystemRole.INNOVATION_MANAGER, enums_1.SystemRole.SYSTEM_ADMIN),\n    (0, swagger_1.ApiOperation)({ summary: 'Get ideas pending review' }),\n    (0, swagger_1.ApiResponse)({ status: 200, description: 'Ideas retrieved successfully' }),\n    tslib_1.__param(0, (0, common_1.Query)()),\n    tslib_1.__metadata(\"design:type\", Function),\n    tslib_1.__metadata(\"design:paramtypes\", [typeof (_g = typeof dto_1.SearchIdeasDto !== \"undefined\" && dto_1.SearchIdeasDto) === \"function\" ? _g : Object]),\n    tslib_1.__metadata(\"design:returntype\", void 0)\n], IdeasController.prototype, \"getIdeasForReview\", null);\ntslib_1.__decorate([\n    (0, common_1.Get)(':id'),\n    (0, swagger_1.ApiOperation)({ summary: 'Get idea by ID' }),\n    (0, swagger_1.ApiResponse)({ status: 200, description: 'Idea retrieved successfully' }),\n    (0, swagger_1.ApiResponse)({ status: 404, description: 'Idea not found' }),\n    tslib_1.__param(0, (0, common_1.Param)('id', common_1.ParseUUIDPipe)),\n    tslib_1.__metadata(\"design:type\", Function),\n    tslib_1.__metadata(\"design:paramtypes\", [String]),\n    tslib_1.__metadata(\"design:returntype\", void 0)\n], IdeasController.prototype, \"findOne\", null);\ntslib_1.__decorate([\n    (0, common_1.Patch)(':id'),\n    (0, swagger_1.ApiOperation)({ summary: 'Update idea' }),\n    (0, swagger_1.ApiResponse)({ status: 200, description: 'Idea updated successfully' }),\n    (0, swagger_1.ApiResponse)({ status: 404, description: 'Idea not found' }),\n    tslib_1.__param(0, (0, common_1.Param)('id', common_1.ParseUUIDPipe)),\n    tslib_1.__param(1, (0, common_1.Body)()),\n    tslib_1.__param(2, (0, decorators_1.CurrentUser)()),\n    tslib_1.__metadata(\"design:type\", Function),\n    tslib_1.__metadata(\"design:paramtypes\", [String, typeof (_h = typeof dto_1.UpdateIdeaDto !== \"undefined\" && dto_1.UpdateIdeaDto) === \"function\" ? _h : Object, typeof (_j = typeof entities_1.User !== \"undefined\" && entities_1.User) === \"function\" ? _j : Object]),\n    tslib_1.__metadata(\"design:returntype\", void 0)\n], IdeasController.prototype, \"update\", null);\ntslib_1.__decorate([\n    (0, common_1.Post)(':id/comments'),\n    (0, swagger_1.ApiOperation)({ summary: 'Add comment to idea' }),\n    (0, swagger_1.ApiResponse)({ status: 201, description: 'Comment added successfully' }),\n    (0, swagger_1.ApiResponse)({ status: 404, description: 'Idea not found' }),\n    tslib_1.__param(0, (0, common_1.Param)('id', common_1.ParseUUIDPipe)),\n    tslib_1.__param(1, (0, common_1.Body)()),\n    tslib_1.__param(2, (0, decorators_1.CurrentUser)()),\n    tslib_1.__metadata(\"design:type\", Function),\n    tslib_1.__metadata(\"design:paramtypes\", [String, typeof (_k = typeof dto_1.CreateCommentDto !== \"undefined\" && dto_1.CreateCommentDto) === \"function\" ? _k : Object, typeof (_l = typeof entities_1.User !== \"undefined\" && entities_1.User) === \"function\" ? _l : Object]),\n    tslib_1.__metadata(\"design:returntype\", void 0)\n], IdeasController.prototype, \"addComment\", null);\ntslib_1.__decorate([\n    (0, common_1.Delete)(':id/comments/:commentId'),\n    (0, swagger_1.ApiOperation)({ summary: 'Delete comment from idea' }),\n    (0, swagger_1.ApiResponse)({ status: 200, description: 'Comment deleted successfully' }),\n    (0, swagger_1.ApiResponse)({ status: 404, description: 'Comment not found' }),\n    tslib_1.__param(0, (0, common_1.Param)('id', common_1.ParseUUIDPipe)),\n    tslib_1.__param(1, (0, common_1.Param)('commentId', common_1.ParseUUIDPipe)),\n    tslib_1.__param(2, (0, decorators_1.CurrentUser)()),\n    tslib_1.__metadata(\"design:type\", Function),\n    tslib_1.__metadata(\"design:paramtypes\", [String, String, typeof (_m = typeof entities_1.User !== \"undefined\" && entities_1.User) === \"function\" ? _m : Object]),\n    tslib_1.__metadata(\"design:returntype\", void 0)\n], IdeasController.prototype, \"deleteComment\", null);\ntslib_1.__decorate([\n    (0, common_1.Post)(':id/vote'),\n    (0, swagger_1.ApiOperation)({ summary: 'Vote for an idea' }),\n    (0, swagger_1.ApiResponse)({ status: 201, description: 'Vote recorded successfully' }),\n    (0, swagger_1.ApiResponse)({ status: 404, description: 'Idea not found' }),\n    (0, swagger_1.ApiResponse)({ status: 400, description: 'Already voted or voting on own idea' }),\n    tslib_1.__param(0, (0, common_1.Param)('id', common_1.ParseUUIDPipe)),\n    tslib_1.__param(1, (0, decorators_1.CurrentUser)()),\n    tslib_1.__metadata(\"design:type\", Function),\n    tslib_1.__metadata(\"design:paramtypes\", [String, typeof (_o = typeof entities_1.User !== \"undefined\" && entities_1.User) === \"function\" ? _o : Object]),\n    tslib_1.__metadata(\"design:returntype\", void 0)\n], IdeasController.prototype, \"vote\", null);\ntslib_1.__decorate([\n    (0, common_1.Delete)(':id/vote'),\n    (0, swagger_1.ApiOperation)({ summary: 'Remove vote from idea' }),\n    (0, swagger_1.ApiResponse)({ status: 200, description: 'Vote removed successfully' }),\n    (0, swagger_1.ApiResponse)({ status: 404, description: 'Vote not found' }),\n    tslib_1.__param(0, (0, common_1.Param)('id', common_1.ParseUUIDPipe)),\n    tslib_1.__param(1, (0, decorators_1.CurrentUser)()),\n    tslib_1.__metadata(\"design:type\", Function),\n    tslib_1.__metadata(\"design:paramtypes\", [String, typeof (_p = typeof entities_1.User !== \"undefined\" && entities_1.User) === \"function\" ? _p : Object]),\n    tslib_1.__metadata(\"design:returntype\", void 0)\n], IdeasController.prototype, \"unvote\", null);\nexports.IdeasController = IdeasController = tslib_1.__decorate([\n    (0, swagger_1.ApiTags)('ideas'),\n    (0, common_1.Controller)('ideas'),\n    (0, common_1.UseGuards)(guards_1.JwtAuthGuard, guards_1.RolesGuard),\n    (0, swagger_1.ApiBearerAuth)(),\n    tslib_1.__metadata(\"design:paramtypes\", [typeof (_a = typeof ideas_service_1.IdeasService !== \"undefined\" && ideas_service_1.IdeasService) === \"function\" ? _a : Object])\n], IdeasController);\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst tslib_1 = require(\"tslib\");\ntslib_1.__exportStar(require(\"./create-idea.dto\"), exports);\ntslib_1.__exportStar(require(\"./update-idea.dto\"), exports);\ntslib_1.__exportStar(require(\"./search-ideas.dto\"), exports);\ntslib_1.__exportStar(require(\"./create-comment.dto\"), exports);\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.CreateIdeaDto = void 0;\nconst tslib_1 = require(\"tslib\");\nconst class_validator_1 = require(\"class-validator\");\nconst swagger_1 = require(\"@nestjs/swagger\");\nclass CreateIdeaDto {\n}\nexports.CreateIdeaDto = CreateIdeaDto;\ntslib_1.__decorate([\n    (0, swagger_1.ApiProperty)(),\n    (0, class_validator_1.IsString)(),\n    (0, class_validator_1.MinLength)(5),\n    tslib_1.__metadata(\"design:type\", String)\n], CreateIdeaDto.prototype, \"title\", void 0);\ntslib_1.__decorate([\n    (0, swagger_1.ApiProperty)(),\n    (0, class_validator_1.IsString)(),\n    (0, class_validator_1.MinLength)(20),\n    tslib_1.__metadata(\"design:type\", String)\n], CreateIdeaDto.prototype, \"description\", void 0);\ntslib_1.__decorate([\n    (0, swagger_1.ApiPropertyOptional)(),\n    (0, class_validator_1.IsOptional)(),\n    tslib_1.__metadata(\"design:type\", String)\n], CreateIdeaDto.prototype, \"categoryId\", void 0);\ntslib_1.__decorate([\n    (0, swagger_1.ApiPropertyOptional)(),\n    (0, class_validator_1.IsOptional)(),\n    tslib_1.__metadata(\"design:type\", String)\n], CreateIdeaDto.prototype, \"officeId\", void 0);\ntslib_1.__decorate([\n    (0, swagger_1.ApiPropertyOptional)({ type: [String] }),\n    (0, class_validator_1.IsOptional)(),\n    (0, class_validator_1.IsArray)(),\n    (0, class_validator_1.IsString)({ each: true }),\n    tslib_1.__metadata(\"design:type\", Array)\n], CreateIdeaDto.prototype, \"attachmentUrls\", void 0);\n","\"use strict\";\nvar _a;\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.UpdateIdeaDto = void 0;\nconst tslib_1 = require(\"tslib\");\nconst class_validator_1 = require(\"class-validator\");\nconst swagger_1 = require(\"@nestjs/swagger\");\nconst enums_1 = require(\"../../../common/enums\");\nclass UpdateIdeaDto {\n}\nexports.UpdateIdeaDto = UpdateIdeaDto;\ntslib_1.__decorate([\n    (0, swagger_1.ApiPropertyOptional)(),\n    (0, class_validator_1.IsOptional)(),\n    (0, class_validator_1.IsString)(),\n    (0, class_validator_1.MinLength)(5),\n    tslib_1.__metadata(\"design:type\", String)\n], UpdateIdeaDto.prototype, \"title\", void 0);\ntslib_1.__decorate([\n    (0, swagger_1.ApiPropertyOptional)(),\n    (0, class_validator_1.IsOptional)(),\n    (0, class_validator_1.IsString)(),\n    (0, class_validator_1.MinLength)(20),\n    tslib_1.__metadata(\"design:type\", String)\n], UpdateIdeaDto.prototype, \"description\", void 0);\ntslib_1.__decorate([\n    (0, swagger_1.ApiPropertyOptional)(),\n    (0, class_validator_1.IsOptional)(),\n    (0, class_validator_1.IsUUID)(),\n    tslib_1.__metadata(\"design:type\", String)\n], UpdateIdeaDto.prototype, \"categoryId\", void 0);\ntslib_1.__decorate([\n    (0, swagger_1.ApiPropertyOptional)({ enum: enums_1.IdeaStatus }),\n    (0, class_validator_1.IsOptional)(),\n    (0, class_validator_1.IsEnum)(enums_1.IdeaStatus),\n    tslib_1.__metadata(\"design:type\", typeof (_a = typeof enums_1.IdeaStatus !== \"undefined\" && enums_1.IdeaStatus) === \"function\" ? _a : Object)\n], UpdateIdeaDto.prototype, \"status\", void 0);\ntslib_1.__decorate([\n    (0, swagger_1.ApiPropertyOptional)({ type: [String] }),\n    (0, class_validator_1.IsOptional)(),\n    (0, class_validator_1.IsArray)(),\n    (0, class_validator_1.IsString)({ each: true }),\n    tslib_1.__metadata(\"design:type\", Array)\n], UpdateIdeaDto.prototype, \"attachmentUrls\", void 0);\n","\"use strict\";\nvar _a;\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.SearchIdeasDto = void 0;\nconst tslib_1 = require(\"tslib\");\nconst class_validator_1 = require(\"class-validator\");\nconst swagger_1 = require(\"@nestjs/swagger\");\nconst class_transformer_1 = require(\"class-transformer\");\nconst enums_1 = require(\"../../../common/enums\");\nclass SearchIdeasDto {\n    constructor() {\n        this.page = 1;\n        this.limit = 20;\n        this.sortBy = 'submissionDate';\n        this.sortOrder = 'DESC';\n    }\n}\nexports.SearchIdeasDto = SearchIdeasDto;\ntslib_1.__decorate([\n    (0, swagger_1.ApiPropertyOptional)(),\n    (0, class_validator_1.IsOptional)(),\n    (0, class_validator_1.IsString)(),\n    tslib_1.__metadata(\"design:type\", String)\n], SearchIdeasDto.prototype, \"title\", void 0);\ntslib_1.__decorate([\n    (0, swagger_1.ApiPropertyOptional)(),\n    (0, class_validator_1.IsOptional)(),\n    (0, class_validator_1.IsString)(),\n    tslib_1.__metadata(\"design:type\", String)\n], SearchIdeasDto.prototype, \"keyword\", void 0);\ntslib_1.__decorate([\n    (0, swagger_1.ApiPropertyOptional)(),\n    (0, class_validator_1.IsOptional)(),\n    (0, class_validator_1.IsUUID)(),\n    tslib_1.__metadata(\"design:type\", String)\n], SearchIdeasDto.prototype, \"categoryId\", void 0);\ntslib_1.__decorate([\n    (0, swagger_1.ApiPropertyOptional)(),\n    (0, class_validator_1.IsOptional)(),\n    (0, class_validator_1.IsUUID)(),\n    tslib_1.__metadata(\"design:type\", String)\n], SearchIdeasDto.prototype, \"officeId\", void 0);\ntslib_1.__decorate([\n    (0, swagger_1.ApiPropertyOptional)(),\n    (0, class_validator_1.IsOptional)(),\n    (0, class_validator_1.IsUUID)(),\n    tslib_1.__metadata(\"design:type\", String)\n], SearchIdeasDto.prototype, \"submittedById\", void 0);\ntslib_1.__decorate([\n    (0, swagger_1.ApiPropertyOptional)({ enum: enums_1.IdeaStatus }),\n    (0, class_validator_1.IsOptional)(),\n    (0, class_validator_1.IsEnum)(enums_1.IdeaStatus),\n    tslib_1.__metadata(\"design:type\", typeof (_a = typeof enums_1.IdeaStatus !== \"undefined\" && enums_1.IdeaStatus) === \"function\" ? _a : Object)\n], SearchIdeasDto.prototype, \"status\", void 0);\ntslib_1.__decorate([\n    (0, swagger_1.ApiPropertyOptional)(),\n    (0, class_validator_1.IsOptional)(),\n    (0, class_transformer_1.Transform)(({ value }) => value === 'true' || value === true),\n    (0, class_validator_1.IsBoolean)(),\n    tslib_1.__metadata(\"design:type\", Boolean)\n], SearchIdeasDto.prototype, \"isOriginal\", void 0);\ntslib_1.__decorate([\n    (0, swagger_1.ApiPropertyOptional)({ default: 1 }),\n    (0, class_validator_1.IsOptional)(),\n    (0, class_transformer_1.Type)(() => Number),\n    (0, class_validator_1.IsNumber)(),\n    (0, class_validator_1.Min)(1),\n    tslib_1.__metadata(\"design:type\", Number)\n], SearchIdeasDto.prototype, \"page\", void 0);\ntslib_1.__decorate([\n    (0, swagger_1.ApiPropertyOptional)({ default: 20 }),\n    (0, class_validator_1.IsOptional)(),\n    (0, class_transformer_1.Type)(() => Number),\n    (0, class_validator_1.IsNumber)(),\n    (0, class_validator_1.Min)(1),\n    tslib_1.__metadata(\"design:type\", Number)\n], SearchIdeasDto.prototype, \"limit\", void 0);\ntslib_1.__decorate([\n    (0, swagger_1.ApiPropertyOptional)({ enum: ['submissionDate', 'voteCount', 'title'] }),\n    (0, class_validator_1.IsOptional)(),\n    (0, class_validator_1.IsString)(),\n    tslib_1.__metadata(\"design:type\", String)\n], SearchIdeasDto.prototype, \"sortBy\", void 0);\ntslib_1.__decorate([\n    (0, swagger_1.ApiPropertyOptional)({ enum: ['ASC', 'DESC'] }),\n    (0, class_validator_1.IsOptional)(),\n    (0, class_validator_1.IsString)(),\n    tslib_1.__metadata(\"design:type\", String)\n], SearchIdeasDto.prototype, \"sortOrder\", void 0);\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.CreateCommentDto = void 0;\nconst tslib_1 = require(\"tslib\");\nconst class_validator_1 = require(\"class-validator\");\nconst swagger_1 = require(\"@nestjs/swagger\");\nclass CreateCommentDto {\n}\nexports.CreateCommentDto = CreateCommentDto;\ntslib_1.__decorate([\n    (0, swagger_1.ApiProperty)(),\n    (0, class_validator_1.IsString)(),\n    (0, class_validator_1.MinLength)(1),\n    tslib_1.__metadata(\"design:type\", String)\n], CreateCommentDto.prototype, \"content\", void 0);\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.ReviewsModule = void 0;\nconst tslib_1 = require(\"tslib\");\nconst common_1 = require(\"@nestjs/common\");\nconst typeorm_1 = require(\"@nestjs/typeorm\");\nconst entities_1 = require(\"../../entities\");\nconst reviews_service_1 = require(\"./reviews.service\");\nconst reviews_controller_1 = require(\"./reviews.controller\");\nlet ReviewsModule = class ReviewsModule {\n};\nexports.ReviewsModule = ReviewsModule;\nexports.ReviewsModule = ReviewsModule = tslib_1.__decorate([\n    (0, common_1.Module)({\n        imports: [typeorm_1.TypeOrmModule.forFeature([entities_1.Review, entities_1.Idea])],\n        controllers: [reviews_controller_1.ReviewsController],\n        providers: [reviews_service_1.ReviewsService],\n        exports: [reviews_service_1.ReviewsService],\n    })\n], ReviewsModule);\n","\"use strict\";\nvar _a, _b, _c;\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.ReviewsService = void 0;\nconst tslib_1 = require(\"tslib\");\nconst common_1 = require(\"@nestjs/common\");\nconst typeorm_1 = require(\"@nestjs/typeorm\");\nconst typeorm_2 = require(\"typeorm\");\nconst entities_1 = require(\"../../entities\");\nconst audit_service_1 = require(\"../audit/audit.service\");\nconst enums_1 = require(\"../../common/enums\");\nlet ReviewsService = class ReviewsService {\n    constructor(reviewRepository, ideaRepository, auditService) {\n        this.reviewRepository = reviewRepository;\n        this.ideaRepository = ideaRepository;\n        this.auditService = auditService;\n    }\n    async create(createReviewDto, reviewer) {\n        const idea = await this.ideaRepository.findOne({\n            where: { id: createReviewDto.ideaId },\n        });\n        if (!idea) {\n            throw new common_1.NotFoundException('Idea not found');\n        }\n        if (idea.submittedById === reviewer.id) {\n            throw new common_1.BadRequestException('Cannot review your own idea');\n        }\n        if (idea.status !== enums_1.IdeaStatus.SUBMITTED && idea.status !== enums_1.IdeaStatus.UNDER_REVIEW) {\n            throw new common_1.BadRequestException('Idea is not available for review');\n        }\n        const review = this.reviewRepository.create({\n            ideaId: createReviewDto.ideaId,\n            decision: createReviewDto.decision,\n            comments: createReviewDto.comments,\n            reviewerId: reviewer.id,\n        });\n        const savedReview = await this.reviewRepository.save(review);\n        const newIdeaStatus = this.mapDecisionToIdeaStatus(createReviewDto.decision);\n        idea.status = newIdeaStatus;\n        await this.ideaRepository.save(idea);\n        await this.auditService.log({\n            action: 'CREATE_REVIEW',\n            entityType: 'Review',\n            entityId: savedReview.id,\n            actorId: reviewer.id,\n            newValues: {\n                ideaId: idea.id,\n                decision: createReviewDto.decision,\n                newIdeaStatus,\n            },\n        });\n        return this.findOne(savedReview.id);\n    }\n    async findAll(searchDto) {\n        const { ideaId, reviewerId, decision, page = 1, limit = 20 } = searchDto;\n        const queryBuilder = this.reviewRepository\n            .createQueryBuilder('review')\n            .leftJoinAndSelect('review.reviewer', 'reviewer')\n            .leftJoinAndSelect('review.idea', 'idea');\n        if (ideaId) {\n            queryBuilder.andWhere('review.ideaId = :ideaId', { ideaId });\n        }\n        if (reviewerId) {\n            queryBuilder.andWhere('review.reviewerId = :reviewerId', { reviewerId });\n        }\n        if (decision) {\n            queryBuilder.andWhere('review.decision = :decision', { decision });\n        }\n        queryBuilder.orderBy('review.reviewDate', 'DESC');\n        const [reviews, total] = await queryBuilder\n            .skip((page - 1) * limit)\n            .take(limit)\n            .getManyAndCount();\n        return {\n            items: reviews,\n            total,\n            page,\n            limit,\n            totalPages: Math.ceil(total / limit),\n        };\n    }\n    async findOne(id) {\n        const review = await this.reviewRepository.findOne({\n            where: { id },\n            relations: ['reviewer', 'idea', 'idea.submittedBy'],\n        });\n        if (!review) {\n            throw new common_1.NotFoundException('Review not found');\n        }\n        return review;\n    }\n    async getReviewsByIdea(ideaId) {\n        return this.reviewRepository.find({\n            where: { ideaId },\n            relations: ['reviewer'],\n            order: { reviewDate: 'DESC' },\n        });\n    }\n    async getMyReviews(reviewerId, searchDto) {\n        return this.findAll({ ...searchDto, reviewerId });\n    }\n    mapDecisionToIdeaStatus(decision) {\n        switch (decision) {\n            case enums_1.ReviewDecision.APPROVED:\n                return enums_1.IdeaStatus.APPROVED;\n            case enums_1.ReviewDecision.REJECTED:\n                return enums_1.IdeaStatus.REJECTED;\n            case enums_1.ReviewDecision.CHANGES_REQUESTED:\n                return enums_1.IdeaStatus.CHANGES_REQUESTED;\n            default:\n                return enums_1.IdeaStatus.UNDER_REVIEW;\n        }\n    }\n};\nexports.ReviewsService = ReviewsService;\nexports.ReviewsService = ReviewsService = tslib_1.__decorate([\n    (0, common_1.Injectable)(),\n    tslib_1.__param(0, (0, typeorm_1.InjectRepository)(entities_1.Review)),\n    tslib_1.__param(1, (0, typeorm_1.InjectRepository)(entities_1.Idea)),\n    tslib_1.__metadata(\"design:paramtypes\", [typeof (_a = typeof typeorm_2.Repository !== \"undefined\" && typeorm_2.Repository) === \"function\" ? _a : Object, typeof (_b = typeof typeorm_2.Repository !== \"undefined\" && typeorm_2.Repository) === \"function\" ? _b : Object, typeof (_c = typeof audit_service_1.AuditService !== \"undefined\" && audit_service_1.AuditService) === \"function\" ? _c : Object])\n], ReviewsService);\n","\"use strict\";\nvar _a, _b, _c, _d, _e, _f;\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.ReviewsController = void 0;\nconst tslib_1 = require(\"tslib\");\nconst common_1 = require(\"@nestjs/common\");\nconst swagger_1 = require(\"@nestjs/swagger\");\nconst reviews_service_1 = require(\"./reviews.service\");\nconst dto_1 = require(\"./dto\");\nconst guards_1 = require(\"../../common/guards\");\nconst decorators_1 = require(\"../../common/decorators\");\nconst enums_1 = require(\"../../common/enums\");\nconst entities_1 = require(\"../../entities\");\nlet ReviewsController = class ReviewsController {\n    constructor(reviewsService) {\n        this.reviewsService = reviewsService;\n    }\n    create(createReviewDto, user) {\n        return this.reviewsService.create(createReviewDto, user);\n    }\n    findAll(searchDto) {\n        return this.reviewsService.findAll(searchDto);\n    }\n    getMyReviews(searchDto, user) {\n        return this.reviewsService.getMyReviews(user.id, searchDto);\n    }\n    getReviewsByIdea(ideaId) {\n        return this.reviewsService.getReviewsByIdea(ideaId);\n    }\n    findOne(id) {\n        return this.reviewsService.findOne(id);\n    }\n};\nexports.ReviewsController = ReviewsController;\ntslib_1.__decorate([\n    (0, common_1.Post)(),\n    (0, decorators_1.Roles)(enums_1.SystemRole.KNOWLEDGE_CHAMPION, enums_1.SystemRole.INNOVATION_MANAGER, enums_1.SystemRole.SYSTEM_ADMIN),\n    (0, swagger_1.ApiOperation)({ summary: 'Submit a review for an idea' }),\n    (0, swagger_1.ApiResponse)({ status: 201, description: 'Review submitted successfully' }),\n    (0, swagger_1.ApiResponse)({ status: 404, description: 'Idea not found' }),\n    (0, swagger_1.ApiResponse)({ status: 400, description: 'Cannot review own idea or idea not available' }),\n    tslib_1.__param(0, (0, common_1.Body)()),\n    tslib_1.__param(1, (0, decorators_1.CurrentUser)()),\n    tslib_1.__metadata(\"design:type\", Function),\n    tslib_1.__metadata(\"design:paramtypes\", [typeof (_b = typeof dto_1.CreateReviewDto !== \"undefined\" && dto_1.CreateReviewDto) === \"function\" ? _b : Object, typeof (_c = typeof entities_1.User !== \"undefined\" && entities_1.User) === \"function\" ? _c : Object]),\n    tslib_1.__metadata(\"design:returntype\", void 0)\n], ReviewsController.prototype, \"create\", null);\ntslib_1.__decorate([\n    (0, common_1.Get)(),\n    (0, decorators_1.Roles)(enums_1.SystemRole.KNOWLEDGE_CHAMPION, enums_1.SystemRole.INNOVATION_MANAGER, enums_1.SystemRole.SYSTEM_ADMIN),\n    (0, swagger_1.ApiOperation)({ summary: 'Search and list reviews' }),\n    (0, swagger_1.ApiResponse)({ status: 200, description: 'Reviews retrieved successfully' }),\n    tslib_1.__param(0, (0, common_1.Query)()),\n    tslib_1.__metadata(\"design:type\", Function),\n    tslib_1.__metadata(\"design:paramtypes\", [typeof (_d = typeof dto_1.SearchReviewsDto !== \"undefined\" && dto_1.SearchReviewsDto) === \"function\" ? _d : Object]),\n    tslib_1.__metadata(\"design:returntype\", void 0)\n], ReviewsController.prototype, \"findAll\", null);\ntslib_1.__decorate([\n    (0, common_1.Get)('my-reviews'),\n    (0, decorators_1.Roles)(enums_1.SystemRole.KNOWLEDGE_CHAMPION, enums_1.SystemRole.INNOVATION_MANAGER, enums_1.SystemRole.SYSTEM_ADMIN),\n    (0, swagger_1.ApiOperation)({ summary: 'Get reviews by current user' }),\n    (0, swagger_1.ApiResponse)({ status: 200, description: 'Reviews retrieved successfully' }),\n    tslib_1.__param(0, (0, common_1.Query)()),\n    tslib_1.__param(1, (0, decorators_1.CurrentUser)()),\n    tslib_1.__metadata(\"design:type\", Function),\n    tslib_1.__metadata(\"design:paramtypes\", [typeof (_e = typeof dto_1.SearchReviewsDto !== \"undefined\" && dto_1.SearchReviewsDto) === \"function\" ? _e : Object, typeof (_f = typeof entities_1.User !== \"undefined\" && entities_1.User) === \"function\" ? _f : Object]),\n    tslib_1.__metadata(\"design:returntype\", void 0)\n], ReviewsController.prototype, \"getMyReviews\", null);\ntslib_1.__decorate([\n    (0, common_1.Get)('idea/:ideaId'),\n    (0, swagger_1.ApiOperation)({ summary: 'Get reviews for a specific idea' }),\n    (0, swagger_1.ApiResponse)({ status: 200, description: 'Reviews retrieved successfully' }),\n    tslib_1.__param(0, (0, common_1.Param)('ideaId', common_1.ParseUUIDPipe)),\n    tslib_1.__metadata(\"design:type\", Function),\n    tslib_1.__metadata(\"design:paramtypes\", [String]),\n    tslib_1.__metadata(\"design:returntype\", void 0)\n], ReviewsController.prototype, \"getReviewsByIdea\", null);\ntslib_1.__decorate([\n    (0, common_1.Get)(':id'),\n    (0, swagger_1.ApiOperation)({ summary: 'Get review by ID' }),\n    (0, swagger_1.ApiResponse)({ status: 200, description: 'Review retrieved successfully' }),\n    (0, swagger_1.ApiResponse)({ status: 404, description: 'Review not found' }),\n    tslib_1.__param(0, (0, common_1.Param)('id', common_1.ParseUUIDPipe)),\n    tslib_1.__metadata(\"design:type\", Function),\n    tslib_1.__metadata(\"design:paramtypes\", [String]),\n    tslib_1.__metadata(\"design:returntype\", void 0)\n], ReviewsController.prototype, \"findOne\", null);\nexports.ReviewsController = ReviewsController = tslib_1.__decorate([\n    (0, swagger_1.ApiTags)('reviews'),\n    (0, common_1.Controller)('reviews'),\n    (0, common_1.UseGuards)(guards_1.JwtAuthGuard, guards_1.RolesGuard),\n    (0, swagger_1.ApiBearerAuth)(),\n    tslib_1.__metadata(\"design:paramtypes\", [typeof (_a = typeof reviews_service_1.ReviewsService !== \"undefined\" && reviews_service_1.ReviewsService) === \"function\" ? _a : Object])\n], ReviewsController);\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst tslib_1 = require(\"tslib\");\ntslib_1.__exportStar(require(\"./create-review.dto\"), exports);\ntslib_1.__exportStar(require(\"./search-reviews.dto\"), exports);\n","\"use strict\";\nvar _a;\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.CreateReviewDto = void 0;\nconst tslib_1 = require(\"tslib\");\nconst class_validator_1 = require(\"class-validator\");\nconst swagger_1 = require(\"@nestjs/swagger\");\nconst enums_1 = require(\"../../../common/enums\");\nclass CreateReviewDto {\n}\nexports.CreateReviewDto = CreateReviewDto;\ntslib_1.__decorate([\n    (0, swagger_1.ApiProperty)(),\n    (0, class_validator_1.IsUUID)(),\n    tslib_1.__metadata(\"design:type\", String)\n], CreateReviewDto.prototype, \"ideaId\", void 0);\ntslib_1.__decorate([\n    (0, swagger_1.ApiProperty)({ enum: enums_1.ReviewDecision }),\n    (0, class_validator_1.IsEnum)(enums_1.ReviewDecision),\n    tslib_1.__metadata(\"design:type\", typeof (_a = typeof enums_1.ReviewDecision !== \"undefined\" && enums_1.ReviewDecision) === \"function\" ? _a : Object)\n], CreateReviewDto.prototype, \"decision\", void 0);\ntslib_1.__decorate([\n    (0, swagger_1.ApiPropertyOptional)(),\n    (0, class_validator_1.IsOptional)(),\n    (0, class_validator_1.IsString)(),\n    tslib_1.__metadata(\"design:type\", String)\n], CreateReviewDto.prototype, \"comments\", void 0);\n","\"use strict\";\nvar _a;\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.SearchReviewsDto = void 0;\nconst tslib_1 = require(\"tslib\");\nconst class_validator_1 = require(\"class-validator\");\nconst swagger_1 = require(\"@nestjs/swagger\");\nconst class_transformer_1 = require(\"class-transformer\");\nconst enums_1 = require(\"../../../common/enums\");\nclass SearchReviewsDto {\n    constructor() {\n        this.page = 1;\n        this.limit = 20;\n    }\n}\nexports.SearchReviewsDto = SearchReviewsDto;\ntslib_1.__decorate([\n    (0, swagger_1.ApiPropertyOptional)(),\n    (0, class_validator_1.IsOptional)(),\n    (0, class_validator_1.IsUUID)(),\n    tslib_1.__metadata(\"design:type\", String)\n], SearchReviewsDto.prototype, \"ideaId\", void 0);\ntslib_1.__decorate([\n    (0, swagger_1.ApiPropertyOptional)(),\n    (0, class_validator_1.IsOptional)(),\n    (0, class_validator_1.IsUUID)(),\n    tslib_1.__metadata(\"design:type\", String)\n], SearchReviewsDto.prototype, \"reviewerId\", void 0);\ntslib_1.__decorate([\n    (0, swagger_1.ApiPropertyOptional)({ enum: enums_1.ReviewDecision }),\n    (0, class_validator_1.IsOptional)(),\n    (0, class_validator_1.IsEnum)(enums_1.ReviewDecision),\n    tslib_1.__metadata(\"design:type\", typeof (_a = typeof enums_1.ReviewDecision !== \"undefined\" && enums_1.ReviewDecision) === \"function\" ? _a : Object)\n], SearchReviewsDto.prototype, \"decision\", void 0);\ntslib_1.__decorate([\n    (0, swagger_1.ApiPropertyOptional)({ default: 1 }),\n    (0, class_validator_1.IsOptional)(),\n    (0, class_transformer_1.Type)(() => Number),\n    (0, class_validator_1.IsNumber)(),\n    (0, class_validator_1.Min)(1),\n    tslib_1.__metadata(\"design:type\", Number)\n], SearchReviewsDto.prototype, \"page\", void 0);\ntslib_1.__decorate([\n    (0, swagger_1.ApiPropertyOptional)({ default: 20 }),\n    (0, class_validator_1.IsOptional)(),\n    (0, class_transformer_1.Type)(() => Number),\n    (0, class_validator_1.IsNumber)(),\n    (0, class_validator_1.Min)(1),\n    tslib_1.__metadata(\"design:type\", Number)\n], SearchReviewsDto.prototype, \"limit\", void 0);\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.ProjectsModule = void 0;\nconst tslib_1 = require(\"tslib\");\nconst common_1 = require(\"@nestjs/common\");\nconst typeorm_1 = require(\"@nestjs/typeorm\");\nconst entities_1 = require(\"../../entities\");\nconst projects_service_1 = require(\"./projects.service\");\nconst projects_controller_1 = require(\"./projects.controller\");\nlet ProjectsModule = class ProjectsModule {\n};\nexports.ProjectsModule = ProjectsModule;\nexports.ProjectsModule = ProjectsModule = tslib_1.__decorate([\n    (0, common_1.Module)({\n        imports: [typeorm_1.TypeOrmModule.forFeature([entities_1.Project, entities_1.Milestone, entities_1.ProgressUpdate, entities_1.Idea, entities_1.User])],\n        controllers: [projects_controller_1.ProjectsController],\n        providers: [projects_service_1.ProjectsService],\n        exports: [projects_service_1.ProjectsService],\n    })\n], ProjectsModule);\n","\"use strict\";\nvar _a, _b, _c, _d, _e, _f;\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.ProjectsService = void 0;\nconst tslib_1 = require(\"tslib\");\nconst common_1 = require(\"@nestjs/common\");\nconst typeorm_1 = require(\"@nestjs/typeorm\");\nconst typeorm_2 = require(\"typeorm\");\nconst entities_1 = require(\"../../entities\");\nconst audit_service_1 = require(\"../audit/audit.service\");\nconst enums_1 = require(\"../../common/enums\");\nlet ProjectsService = class ProjectsService {\n    constructor(projectRepository, milestoneRepository, progressUpdateRepository, ideaRepository, userRepository, auditService) {\n        this.projectRepository = projectRepository;\n        this.milestoneRepository = milestoneRepository;\n        this.progressUpdateRepository = progressUpdateRepository;\n        this.ideaRepository = ideaRepository;\n        this.userRepository = userRepository;\n        this.auditService = auditService;\n    }\n    async create(createProjectDto, creator) {\n        const idea = await this.ideaRepository.findOne({\n            where: { id: createProjectDto.basedOnIdeaId },\n        });\n        if (!idea) {\n            throw new common_1.NotFoundException('Idea not found');\n        }\n        if (idea.status !== enums_1.IdeaStatus.APPROVED) {\n            throw new common_1.BadRequestException('Can only create projects from approved ideas');\n        }\n        let teamMembers = [];\n        if (createProjectDto.teamMemberIds?.length) {\n            teamMembers = await this.userRepository.find({\n                where: { id: (0, typeorm_2.In)(createProjectDto.teamMemberIds) },\n            });\n        }\n        const project = this.projectRepository.create({\n            title: createProjectDto.title,\n            objective: createProjectDto.objective,\n            description: createProjectDto.description,\n            basedOnIdeaId: createProjectDto.basedOnIdeaId,\n            createdById: creator.id,\n            startDate: createProjectDto.startDate ? new Date(createProjectDto.startDate) : null,\n            endDate: createProjectDto.endDate ? new Date(createProjectDto.endDate) : null,\n            status: enums_1.ProjectStatus.ACTIVE,\n            teamMembers,\n        });\n        const savedProject = await this.projectRepository.save(project);\n        await this.auditService.log({\n            action: 'CREATE_PROJECT',\n            entityType: 'Project',\n            entityId: savedProject.id,\n            actorId: creator.id,\n            newValues: { title: savedProject.title, basedOnIdeaId: idea.id },\n        });\n        return this.findOne(savedProject.id);\n    }\n    async findAll(searchDto) {\n        const { title, basedOnIdeaId, createdById, status, page = 1, limit = 20 } = searchDto;\n        const queryBuilder = this.projectRepository\n            .createQueryBuilder('project')\n            .leftJoinAndSelect('project.createdBy', 'createdBy')\n            .leftJoinAndSelect('project.basedOnIdea', 'basedOnIdea')\n            .leftJoinAndSelect('project.teamMembers', 'teamMembers')\n            .loadRelationCountAndMap('project.milestoneCount', 'project.milestones');\n        if (title) {\n            queryBuilder.andWhere('project.title ILIKE :title', { title: `%${title}%` });\n        }\n        if (basedOnIdeaId) {\n            queryBuilder.andWhere('project.basedOnIdeaId = :basedOnIdeaId', { basedOnIdeaId });\n        }\n        if (createdById) {\n            queryBuilder.andWhere('project.createdById = :createdById', { createdById });\n        }\n        if (status) {\n            queryBuilder.andWhere('project.status = :status', { status });\n        }\n        queryBuilder.orderBy('project.createdAt', 'DESC');\n        const [projects, total] = await queryBuilder\n            .skip((page - 1) * limit)\n            .take(limit)\n            .getManyAndCount();\n        return {\n            items: projects,\n            total,\n            page,\n            limit,\n            totalPages: Math.ceil(total / limit),\n        };\n    }\n    async findOne(id) {\n        const project = await this.projectRepository.findOne({\n            where: { id },\n            relations: ['createdBy', 'basedOnIdea', 'teamMembers', 'milestones', 'progressUpdates', 'progressUpdates.updatedBy'],\n        });\n        if (!project) {\n            throw new common_1.NotFoundException('Project not found');\n        }\n        return project;\n    }\n    async update(id, updateProjectDto, user) {\n        const project = await this.projectRepository.findOne({\n            where: { id },\n            relations: ['teamMembers'],\n        });\n        if (!project) {\n            throw new common_1.NotFoundException('Project not found');\n        }\n        const canEdit = this.canEditProject(project, user);\n        if (!canEdit) {\n            throw new common_1.ForbiddenException('Not authorized to update this project');\n        }\n        const previousValues = {\n            title: project.title,\n            status: project.status,\n        };\n        if (updateProjectDto.teamMemberIds) {\n            const teamMembers = await this.userRepository.find({\n                where: { id: (0, typeorm_2.In)(updateProjectDto.teamMemberIds) },\n            });\n            project.teamMembers = teamMembers;\n        }\n        if (updateProjectDto.startDate) {\n            project.startDate = new Date(updateProjectDto.startDate);\n        }\n        if (updateProjectDto.endDate) {\n            project.endDate = new Date(updateProjectDto.endDate);\n        }\n        const { teamMemberIds, startDate, endDate, ...rest } = updateProjectDto;\n        Object.assign(project, rest);\n        const savedProject = await this.projectRepository.save(project);\n        await this.auditService.log({\n            action: 'UPDATE_PROJECT',\n            entityType: 'Project',\n            entityId: savedProject.id,\n            actorId: user.id,\n            previousValues,\n            newValues: updateProjectDto,\n        });\n        return this.findOne(savedProject.id);\n    }\n    async addMilestone(projectId, createMilestoneDto, user) {\n        const project = await this.projectRepository.findOne({\n            where: { id: projectId },\n            relations: ['milestones'],\n        });\n        if (!project) {\n            throw new common_1.NotFoundException('Project not found');\n        }\n        const canEdit = this.canEditProject(project, user);\n        if (!canEdit) {\n            throw new common_1.ForbiddenException('Not authorized to add milestones');\n        }\n        const orderIndex = createMilestoneDto.orderIndex ?? project.milestones?.length ?? 0;\n        const milestone = this.milestoneRepository.create({\n            title: createMilestoneDto.title,\n            description: createMilestoneDto.description,\n            dueDate: new Date(createMilestoneDto.dueDate),\n            projectId,\n            status: enums_1.MilestoneStatus.PENDING,\n            orderIndex,\n        });\n        const savedMilestone = await this.milestoneRepository.save(milestone);\n        await this.auditService.log({\n            action: 'ADD_MILESTONE',\n            entityType: 'Milestone',\n            entityId: savedMilestone.id,\n            actorId: user.id,\n            newValues: { projectId, title: savedMilestone.title },\n        });\n        return savedMilestone;\n    }\n    async updateMilestone(projectId, milestoneId, updateMilestoneDto, user) {\n        const milestone = await this.milestoneRepository.findOne({\n            where: { id: milestoneId, projectId },\n            relations: ['project'],\n        });\n        if (!milestone) {\n            throw new common_1.NotFoundException('Milestone not found');\n        }\n        const canEdit = this.canEditProject(milestone.project, user);\n        if (!canEdit) {\n            throw new common_1.ForbiddenException('Not authorized to update milestone');\n        }\n        const previousValues = {\n            title: milestone.title,\n            status: milestone.status,\n        };\n        if (updateMilestoneDto.dueDate) {\n            milestone.dueDate = new Date(updateMilestoneDto.dueDate);\n        }\n        const { dueDate, ...rest } = updateMilestoneDto;\n        Object.assign(milestone, rest);\n        const savedMilestone = await this.milestoneRepository.save(milestone);\n        await this.auditService.log({\n            action: 'UPDATE_MILESTONE',\n            entityType: 'Milestone',\n            entityId: savedMilestone.id,\n            actorId: user.id,\n            previousValues,\n            newValues: updateMilestoneDto,\n        });\n        return savedMilestone;\n    }\n    async deleteMilestone(projectId, milestoneId, user) {\n        const milestone = await this.milestoneRepository.findOne({\n            where: { id: milestoneId, projectId },\n            relations: ['project'],\n        });\n        if (!milestone) {\n            throw new common_1.NotFoundException('Milestone not found');\n        }\n        const canEdit = this.canEditProject(milestone.project, user);\n        if (!canEdit) {\n            throw new common_1.ForbiddenException('Not authorized to delete milestone');\n        }\n        await this.milestoneRepository.remove(milestone);\n        await this.auditService.log({\n            action: 'DELETE_MILESTONE',\n            entityType: 'Milestone',\n            entityId: milestoneId,\n            actorId: user.id,\n            previousValues: { title: milestone.title },\n        });\n        return { message: 'Milestone deleted successfully' };\n    }\n    async addProgressUpdate(projectId, createProgressUpdateDto, user) {\n        const project = await this.projectRepository.findOne({\n            where: { id: projectId },\n            relations: ['teamMembers'],\n        });\n        if (!project) {\n            throw new common_1.NotFoundException('Project not found');\n        }\n        const isTeamMember = project.teamMembers?.some((m) => m.id === user.id) || project.createdById === user.id;\n        const isAdmin = user.roles?.some((r) => [enums_1.SystemRole.SYSTEM_ADMIN, enums_1.SystemRole.INNOVATION_MANAGER].includes(r.name));\n        if (!isTeamMember && !isAdmin) {\n            throw new common_1.ForbiddenException('Only team members can add progress updates');\n        }\n        if (createProgressUpdateDto.milestoneId) {\n            const milestone = await this.milestoneRepository.findOne({\n                where: { id: createProgressUpdateDto.milestoneId, projectId },\n            });\n            if (!milestone) {\n                throw new common_1.NotFoundException('Milestone not found in this project');\n            }\n        }\n        const progressUpdate = this.progressUpdateRepository.create({\n            notes: createProgressUpdateDto.notes,\n            projectId,\n            milestoneId: createProgressUpdateDto.milestoneId,\n            attachmentPaths: createProgressUpdateDto.attachmentPaths,\n            updatedById: user.id,\n        });\n        const savedUpdate = await this.progressUpdateRepository.save(progressUpdate);\n        await this.auditService.log({\n            action: 'ADD_PROGRESS_UPDATE',\n            entityType: 'ProgressUpdate',\n            entityId: savedUpdate.id,\n            actorId: user.id,\n            newValues: { projectId, milestoneId: createProgressUpdateDto.milestoneId },\n        });\n        return this.progressUpdateRepository.findOne({\n            where: { id: savedUpdate.id },\n            relations: ['updatedBy', 'milestone'],\n        });\n    }\n    async getProjectProgress(projectId) {\n        const project = await this.projectRepository.findOne({\n            where: { id: projectId },\n            relations: ['milestones'],\n        });\n        if (!project) {\n            throw new common_1.NotFoundException('Project not found');\n        }\n        const totalMilestones = project.milestones?.length || 0;\n        const completedMilestones = project.milestones?.filter((m) => m.status === enums_1.MilestoneStatus.COMPLETED).length || 0;\n        const inProgressMilestones = project.milestones?.filter((m) => m.status === enums_1.MilestoneStatus.IN_PROGRESS).length || 0;\n        return {\n            projectId,\n            status: project.status,\n            totalMilestones,\n            completedMilestones,\n            inProgressMilestones,\n            pendingMilestones: totalMilestones - completedMilestones - inProgressMilestones,\n            progressPercentage: totalMilestones > 0 ? Math.round((completedMilestones / totalMilestones) * 100) : 0,\n        };\n    }\n    async getMyProjects(user, searchDto) {\n        const { title, status, page = 1, limit = 20 } = searchDto;\n        const queryBuilder = this.projectRepository\n            .createQueryBuilder('project')\n            .leftJoinAndSelect('project.createdBy', 'createdBy')\n            .leftJoinAndSelect('project.basedOnIdea', 'basedOnIdea')\n            .leftJoin('project.teamMembers', 'teamMember')\n            .where('(project.createdById = :userId OR teamMember.id = :userId)', { userId: user.id });\n        if (title) {\n            queryBuilder.andWhere('project.title ILIKE :title', { title: `%${title}%` });\n        }\n        if (status) {\n            queryBuilder.andWhere('project.status = :status', { status });\n        }\n        queryBuilder.orderBy('project.createdAt', 'DESC');\n        const [projects, total] = await queryBuilder\n            .skip((page - 1) * limit)\n            .take(limit)\n            .getManyAndCount();\n        return {\n            items: projects,\n            total,\n            page,\n            limit,\n            totalPages: Math.ceil(total / limit),\n        };\n    }\n    async addTeamMember(projectId, userId, currentUser) {\n        const project = await this.projectRepository.findOne({\n            where: { id: projectId },\n            relations: ['teamMembers'],\n        });\n        if (!project) {\n            throw new common_1.NotFoundException('Project not found');\n        }\n        if (!this.canEditProject(project, currentUser)) {\n            throw new common_1.ForbiddenException('Not authorized to manage team members');\n        }\n        const userToAdd = await this.userRepository.findOne({ where: { id: userId } });\n        if (!userToAdd) {\n            throw new common_1.NotFoundException('User not found');\n        }\n        const alreadyMember = project.teamMembers?.some((m) => m.id === userId);\n        if (alreadyMember) {\n            throw new common_1.ForbiddenException('User is already a team member');\n        }\n        project.teamMembers = [...(project.teamMembers || []), userToAdd];\n        await this.projectRepository.save(project);\n        await this.auditService.log({\n            action: 'ADD_TEAM_MEMBER',\n            entityType: 'Project',\n            entityId: project.id,\n            actorId: currentUser.id,\n            newValues: { userId, userName: userToAdd.name },\n        });\n        return this.findOne(projectId);\n    }\n    async removeTeamMember(projectId, userId, currentUser) {\n        const project = await this.projectRepository.findOne({\n            where: { id: projectId },\n            relations: ['teamMembers'],\n        });\n        if (!project) {\n            throw new common_1.NotFoundException('Project not found');\n        }\n        if (!this.canEditProject(project, currentUser)) {\n            throw new common_1.ForbiddenException('Not authorized to manage team members');\n        }\n        const memberIndex = project.teamMembers?.findIndex((m) => m.id === userId);\n        if (memberIndex === undefined || memberIndex === -1) {\n            throw new common_1.NotFoundException('User is not a team member');\n        }\n        const removedUser = project.teamMembers[memberIndex];\n        project.teamMembers = project.teamMembers.filter((m) => m.id !== userId);\n        await this.projectRepository.save(project);\n        await this.auditService.log({\n            action: 'REMOVE_TEAM_MEMBER',\n            entityType: 'Project',\n            entityId: project.id,\n            actorId: currentUser.id,\n            previousValues: { userId, userName: removedUser.name },\n        });\n        return this.findOne(projectId);\n    }\n    canEditProject(project, user) {\n        const isCreator = project.createdById === user.id;\n        const isTeamMember = project.teamMembers?.some((m) => m.id === user.id);\n        const isAdmin = user.roles?.some((r) => [enums_1.SystemRole.SYSTEM_ADMIN, enums_1.SystemRole.INNOVATION_MANAGER].includes(r.name));\n        return isCreator || isTeamMember || isAdmin;\n    }\n};\nexports.ProjectsService = ProjectsService;\nexports.ProjectsService = ProjectsService = tslib_1.__decorate([\n    (0, common_1.Injectable)(),\n    tslib_1.__param(0, (0, typeorm_1.InjectRepository)(entities_1.Project)),\n    tslib_1.__param(1, (0, typeorm_1.InjectRepository)(entities_1.Milestone)),\n    tslib_1.__param(2, (0, typeorm_1.InjectRepository)(entities_1.ProgressUpdate)),\n    tslib_1.__param(3, (0, typeorm_1.InjectRepository)(entities_1.Idea)),\n    tslib_1.__param(4, (0, typeorm_1.InjectRepository)(entities_1.User)),\n    tslib_1.__metadata(\"design:paramtypes\", [typeof (_a = typeof typeorm_2.Repository !== \"undefined\" && typeorm_2.Repository) === \"function\" ? _a : Object, typeof (_b = typeof typeorm_2.Repository !== \"undefined\" && typeorm_2.Repository) === \"function\" ? _b : Object, typeof (_c = typeof typeorm_2.Repository !== \"undefined\" && typeorm_2.Repository) === \"function\" ? _c : Object, typeof (_d = typeof typeorm_2.Repository !== \"undefined\" && typeorm_2.Repository) === \"function\" ? _d : Object, typeof (_e = typeof typeorm_2.Repository !== \"undefined\" && typeorm_2.Repository) === \"function\" ? _e : Object, typeof (_f = typeof audit_service_1.AuditService !== \"undefined\" && audit_service_1.AuditService) === \"function\" ? _f : Object])\n], ProjectsService);\n","\"use strict\";\nvar _a, _b, _c, _d, _e, _f, _g, _h, _j, _k, _l, _m, _o, _p, _q, _r, _s;\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.ProjectsController = void 0;\nconst tslib_1 = require(\"tslib\");\nconst common_1 = require(\"@nestjs/common\");\nconst swagger_1 = require(\"@nestjs/swagger\");\nconst projects_service_1 = require(\"./projects.service\");\nconst dto_1 = require(\"./dto\");\nconst guards_1 = require(\"../../common/guards\");\nconst decorators_1 = require(\"../../common/decorators\");\nconst enums_1 = require(\"../../common/enums\");\nconst entities_1 = require(\"../../entities\");\nlet ProjectsController = class ProjectsController {\n    constructor(projectsService) {\n        this.projectsService = projectsService;\n    }\n    create(createProjectDto, user) {\n        return this.projectsService.create(createProjectDto, user);\n    }\n    findAll(searchDto) {\n        return this.projectsService.findAll(searchDto);\n    }\n    getMyProjects(searchDto, user) {\n        return this.projectsService.getMyProjects(user, searchDto);\n    }\n    findOne(id) {\n        return this.projectsService.findOne(id);\n    }\n    getProgress(id) {\n        return this.projectsService.getProjectProgress(id);\n    }\n    update(id, updateProjectDto, user) {\n        return this.projectsService.update(id, updateProjectDto, user);\n    }\n    addMilestone(id, createMilestoneDto, user) {\n        return this.projectsService.addMilestone(id, createMilestoneDto, user);\n    }\n    updateMilestone(id, milestoneId, updateMilestoneDto, user) {\n        return this.projectsService.updateMilestone(id, milestoneId, updateMilestoneDto, user);\n    }\n    deleteMilestone(id, milestoneId, user) {\n        return this.projectsService.deleteMilestone(id, milestoneId, user);\n    }\n    addProgressUpdate(id, createProgressUpdateDto, user) {\n        return this.projectsService.addProgressUpdate(id, createProgressUpdateDto, user);\n    }\n    addTeamMember(id, body, user) {\n        return this.projectsService.addTeamMember(id, body.userId, user);\n    }\n    removeTeamMember(id, userId, user) {\n        return this.projectsService.removeTeamMember(id, userId, user);\n    }\n};\nexports.ProjectsController = ProjectsController;\ntslib_1.__decorate([\n    (0, common_1.Post)(),\n    (0, decorators_1.Roles)(enums_1.SystemRole.INNOVATION_MANAGER, enums_1.SystemRole.SYSTEM_ADMIN),\n    (0, swagger_1.ApiOperation)({ summary: 'Create a new project from approved idea' }),\n    (0, swagger_1.ApiResponse)({ status: 201, description: 'Project created successfully' }),\n    tslib_1.__param(0, (0, common_1.Body)()),\n    tslib_1.__param(1, (0, decorators_1.CurrentUser)()),\n    tslib_1.__metadata(\"design:type\", Function),\n    tslib_1.__metadata(\"design:paramtypes\", [typeof (_b = typeof dto_1.CreateProjectDto !== \"undefined\" && dto_1.CreateProjectDto) === \"function\" ? _b : Object, typeof (_c = typeof entities_1.User !== \"undefined\" && entities_1.User) === \"function\" ? _c : Object]),\n    tslib_1.__metadata(\"design:returntype\", void 0)\n], ProjectsController.prototype, \"create\", null);\ntslib_1.__decorate([\n    (0, common_1.Get)(),\n    (0, swagger_1.ApiOperation)({ summary: 'Search and list projects' }),\n    (0, swagger_1.ApiResponse)({ status: 200, description: 'Projects retrieved successfully' }),\n    tslib_1.__param(0, (0, common_1.Query)()),\n    tslib_1.__metadata(\"design:type\", Function),\n    tslib_1.__metadata(\"design:paramtypes\", [typeof (_d = typeof dto_1.SearchProjectsDto !== \"undefined\" && dto_1.SearchProjectsDto) === \"function\" ? _d : Object]),\n    tslib_1.__metadata(\"design:returntype\", void 0)\n], ProjectsController.prototype, \"findAll\", null);\ntslib_1.__decorate([\n    (0, common_1.Get)('my-projects'),\n    (0, swagger_1.ApiOperation)({ summary: 'Get projects where user is creator or team member' }),\n    (0, swagger_1.ApiResponse)({ status: 200, description: 'Projects retrieved successfully' }),\n    tslib_1.__param(0, (0, common_1.Query)()),\n    tslib_1.__param(1, (0, decorators_1.CurrentUser)()),\n    tslib_1.__metadata(\"design:type\", Function),\n    tslib_1.__metadata(\"design:paramtypes\", [typeof (_e = typeof dto_1.SearchProjectsDto !== \"undefined\" && dto_1.SearchProjectsDto) === \"function\" ? _e : Object, typeof (_f = typeof entities_1.User !== \"undefined\" && entities_1.User) === \"function\" ? _f : Object]),\n    tslib_1.__metadata(\"design:returntype\", void 0)\n], ProjectsController.prototype, \"getMyProjects\", null);\ntslib_1.__decorate([\n    (0, common_1.Get)(':id'),\n    (0, swagger_1.ApiOperation)({ summary: 'Get project by ID' }),\n    (0, swagger_1.ApiResponse)({ status: 200, description: 'Project retrieved successfully' }),\n    (0, swagger_1.ApiResponse)({ status: 404, description: 'Project not found' }),\n    tslib_1.__param(0, (0, common_1.Param)('id', common_1.ParseUUIDPipe)),\n    tslib_1.__metadata(\"design:type\", Function),\n    tslib_1.__metadata(\"design:paramtypes\", [String]),\n    tslib_1.__metadata(\"design:returntype\", void 0)\n], ProjectsController.prototype, \"findOne\", null);\ntslib_1.__decorate([\n    (0, common_1.Get)(':id/progress'),\n    (0, swagger_1.ApiOperation)({ summary: 'Get project progress summary' }),\n    (0, swagger_1.ApiResponse)({ status: 200, description: 'Progress retrieved successfully' }),\n    tslib_1.__param(0, (0, common_1.Param)('id', common_1.ParseUUIDPipe)),\n    tslib_1.__metadata(\"design:type\", Function),\n    tslib_1.__metadata(\"design:paramtypes\", [String]),\n    tslib_1.__metadata(\"design:returntype\", void 0)\n], ProjectsController.prototype, \"getProgress\", null);\ntslib_1.__decorate([\n    (0, common_1.Patch)(':id'),\n    (0, swagger_1.ApiOperation)({ summary: 'Update project' }),\n    (0, swagger_1.ApiResponse)({ status: 200, description: 'Project updated successfully' }),\n    (0, swagger_1.ApiResponse)({ status: 404, description: 'Project not found' }),\n    tslib_1.__param(0, (0, common_1.Param)('id', common_1.ParseUUIDPipe)),\n    tslib_1.__param(1, (0, common_1.Body)()),\n    tslib_1.__param(2, (0, decorators_1.CurrentUser)()),\n    tslib_1.__metadata(\"design:type\", Function),\n    tslib_1.__metadata(\"design:paramtypes\", [String, typeof (_g = typeof dto_1.UpdateProjectDto !== \"undefined\" && dto_1.UpdateProjectDto) === \"function\" ? _g : Object, typeof (_h = typeof entities_1.User !== \"undefined\" && entities_1.User) === \"function\" ? _h : Object]),\n    tslib_1.__metadata(\"design:returntype\", void 0)\n], ProjectsController.prototype, \"update\", null);\ntslib_1.__decorate([\n    (0, common_1.Post)(':id/milestones'),\n    (0, swagger_1.ApiOperation)({ summary: 'Add milestone to project' }),\n    (0, swagger_1.ApiResponse)({ status: 201, description: 'Milestone added successfully' }),\n    tslib_1.__param(0, (0, common_1.Param)('id', common_1.ParseUUIDPipe)),\n    tslib_1.__param(1, (0, common_1.Body)()),\n    tslib_1.__param(2, (0, decorators_1.CurrentUser)()),\n    tslib_1.__metadata(\"design:type\", Function),\n    tslib_1.__metadata(\"design:paramtypes\", [String, typeof (_j = typeof dto_1.CreateMilestoneDto !== \"undefined\" && dto_1.CreateMilestoneDto) === \"function\" ? _j : Object, typeof (_k = typeof entities_1.User !== \"undefined\" && entities_1.User) === \"function\" ? _k : Object]),\n    tslib_1.__metadata(\"design:returntype\", void 0)\n], ProjectsController.prototype, \"addMilestone\", null);\ntslib_1.__decorate([\n    (0, common_1.Patch)(':id/milestones/:milestoneId'),\n    (0, swagger_1.ApiOperation)({ summary: 'Update milestone' }),\n    (0, swagger_1.ApiResponse)({ status: 200, description: 'Milestone updated successfully' }),\n    tslib_1.__param(0, (0, common_1.Param)('id', common_1.ParseUUIDPipe)),\n    tslib_1.__param(1, (0, common_1.Param)('milestoneId', common_1.ParseUUIDPipe)),\n    tslib_1.__param(2, (0, common_1.Body)()),\n    tslib_1.__param(3, (0, decorators_1.CurrentUser)()),\n    tslib_1.__metadata(\"design:type\", Function),\n    tslib_1.__metadata(\"design:paramtypes\", [String, String, typeof (_l = typeof dto_1.UpdateMilestoneDto !== \"undefined\" && dto_1.UpdateMilestoneDto) === \"function\" ? _l : Object, typeof (_m = typeof entities_1.User !== \"undefined\" && entities_1.User) === \"function\" ? _m : Object]),\n    tslib_1.__metadata(\"design:returntype\", void 0)\n], ProjectsController.prototype, \"updateMilestone\", null);\ntslib_1.__decorate([\n    (0, common_1.Delete)(':id/milestones/:milestoneId'),\n    (0, swagger_1.ApiOperation)({ summary: 'Delete milestone' }),\n    (0, swagger_1.ApiResponse)({ status: 200, description: 'Milestone deleted successfully' }),\n    tslib_1.__param(0, (0, common_1.Param)('id', common_1.ParseUUIDPipe)),\n    tslib_1.__param(1, (0, common_1.Param)('milestoneId', common_1.ParseUUIDPipe)),\n    tslib_1.__param(2, (0, decorators_1.CurrentUser)()),\n    tslib_1.__metadata(\"design:type\", Function),\n    tslib_1.__metadata(\"design:paramtypes\", [String, String, typeof (_o = typeof entities_1.User !== \"undefined\" && entities_1.User) === \"function\" ? _o : Object]),\n    tslib_1.__metadata(\"design:returntype\", void 0)\n], ProjectsController.prototype, \"deleteMilestone\", null);\ntslib_1.__decorate([\n    (0, common_1.Post)(':id/progress-updates'),\n    (0, swagger_1.ApiOperation)({ summary: 'Add progress update to project' }),\n    (0, swagger_1.ApiResponse)({ status: 201, description: 'Progress update added successfully' }),\n    tslib_1.__param(0, (0, common_1.Param)('id', common_1.ParseUUIDPipe)),\n    tslib_1.__param(1, (0, common_1.Body)()),\n    tslib_1.__param(2, (0, decorators_1.CurrentUser)()),\n    tslib_1.__metadata(\"design:type\", Function),\n    tslib_1.__metadata(\"design:paramtypes\", [String, typeof (_p = typeof dto_1.CreateProgressUpdateDto !== \"undefined\" && dto_1.CreateProgressUpdateDto) === \"function\" ? _p : Object, typeof (_q = typeof entities_1.User !== \"undefined\" && entities_1.User) === \"function\" ? _q : Object]),\n    tslib_1.__metadata(\"design:returntype\", void 0)\n], ProjectsController.prototype, \"addProgressUpdate\", null);\ntslib_1.__decorate([\n    (0, common_1.Post)(':id/team'),\n    (0, swagger_1.ApiOperation)({ summary: 'Add team member to project' }),\n    (0, swagger_1.ApiResponse)({ status: 201, description: 'Team member added successfully' }),\n    tslib_1.__param(0, (0, common_1.Param)('id', new common_1.ParseUUIDPipe({ version: undefined }))),\n    tslib_1.__param(1, (0, common_1.Body)()),\n    tslib_1.__param(2, (0, decorators_1.CurrentUser)()),\n    tslib_1.__metadata(\"design:type\", Function),\n    tslib_1.__metadata(\"design:paramtypes\", [String, Object, typeof (_r = typeof entities_1.User !== \"undefined\" && entities_1.User) === \"function\" ? _r : Object]),\n    tslib_1.__metadata(\"design:returntype\", void 0)\n], ProjectsController.prototype, \"addTeamMember\", null);\ntslib_1.__decorate([\n    (0, common_1.Delete)(':id/team/:userId'),\n    (0, swagger_1.ApiOperation)({ summary: 'Remove team member from project' }),\n    (0, swagger_1.ApiResponse)({ status: 200, description: 'Team member removed successfully' }),\n    tslib_1.__param(0, (0, common_1.Param)('id', new common_1.ParseUUIDPipe({ version: undefined }))),\n    tslib_1.__param(1, (0, common_1.Param)('userId', new common_1.ParseUUIDPipe({ version: undefined }))),\n    tslib_1.__param(2, (0, decorators_1.CurrentUser)()),\n    tslib_1.__metadata(\"design:type\", Function),\n    tslib_1.__metadata(\"design:paramtypes\", [String, String, typeof (_s = typeof entities_1.User !== \"undefined\" && entities_1.User) === \"function\" ? _s : Object]),\n    tslib_1.__metadata(\"design:returntype\", void 0)\n], ProjectsController.prototype, \"removeTeamMember\", null);\nexports.ProjectsController = ProjectsController = tslib_1.__decorate([\n    (0, swagger_1.ApiTags)('projects'),\n    (0, common_1.Controller)('projects'),\n    (0, common_1.UseGuards)(guards_1.JwtAuthGuard, guards_1.RolesGuard),\n    (0, swagger_1.ApiBearerAuth)(),\n    tslib_1.__metadata(\"design:paramtypes\", [typeof (_a = typeof projects_service_1.ProjectsService !== \"undefined\" && projects_service_1.ProjectsService) === \"function\" ? _a : Object])\n], ProjectsController);\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst tslib_1 = require(\"tslib\");\ntslib_1.__exportStar(require(\"./create-project.dto\"), exports);\ntslib_1.__exportStar(require(\"./update-project.dto\"), exports);\ntslib_1.__exportStar(require(\"./create-milestone.dto\"), exports);\ntslib_1.__exportStar(require(\"./update-milestone.dto\"), exports);\ntslib_1.__exportStar(require(\"./create-progress-update.dto\"), exports);\ntslib_1.__exportStar(require(\"./search-projects.dto\"), exports);\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.CreateProjectDto = void 0;\nconst tslib_1 = require(\"tslib\");\nconst class_validator_1 = require(\"class-validator\");\nconst swagger_1 = require(\"@nestjs/swagger\");\nclass CreateProjectDto {\n}\nexports.CreateProjectDto = CreateProjectDto;\ntslib_1.__decorate([\n    (0, swagger_1.ApiProperty)(),\n    (0, class_validator_1.IsString)(),\n    (0, class_validator_1.MinLength)(5),\n    tslib_1.__metadata(\"design:type\", String)\n], CreateProjectDto.prototype, \"title\", void 0);\ntslib_1.__decorate([\n    (0, swagger_1.ApiProperty)(),\n    (0, class_validator_1.IsUUID)(),\n    tslib_1.__metadata(\"design:type\", String)\n], CreateProjectDto.prototype, \"basedOnIdeaId\", void 0);\ntslib_1.__decorate([\n    (0, swagger_1.ApiPropertyOptional)(),\n    (0, class_validator_1.IsOptional)(),\n    (0, class_validator_1.IsString)(),\n    tslib_1.__metadata(\"design:type\", String)\n], CreateProjectDto.prototype, \"objective\", void 0);\ntslib_1.__decorate([\n    (0, swagger_1.ApiPropertyOptional)(),\n    (0, class_validator_1.IsOptional)(),\n    (0, class_validator_1.IsString)(),\n    tslib_1.__metadata(\"design:type\", String)\n], CreateProjectDto.prototype, \"description\", void 0);\ntslib_1.__decorate([\n    (0, swagger_1.ApiPropertyOptional)(),\n    (0, class_validator_1.IsOptional)(),\n    (0, class_validator_1.IsDateString)(),\n    tslib_1.__metadata(\"design:type\", String)\n], CreateProjectDto.prototype, \"startDate\", void 0);\ntslib_1.__decorate([\n    (0, swagger_1.ApiPropertyOptional)(),\n    (0, class_validator_1.IsOptional)(),\n    (0, class_validator_1.IsDateString)(),\n    tslib_1.__metadata(\"design:type\", String)\n], CreateProjectDto.prototype, \"endDate\", void 0);\ntslib_1.__decorate([\n    (0, swagger_1.ApiPropertyOptional)({ type: [String] }),\n    (0, class_validator_1.IsOptional)(),\n    (0, class_validator_1.IsArray)(),\n    (0, class_validator_1.IsUUID)('4', { each: true }),\n    tslib_1.__metadata(\"design:type\", Array)\n], CreateProjectDto.prototype, \"teamMemberIds\", void 0);\n","\"use strict\";\nvar _a;\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.UpdateProjectDto = void 0;\nconst tslib_1 = require(\"tslib\");\nconst class_validator_1 = require(\"class-validator\");\nconst swagger_1 = require(\"@nestjs/swagger\");\nconst enums_1 = require(\"../../../common/enums\");\nclass UpdateProjectDto {\n}\nexports.UpdateProjectDto = UpdateProjectDto;\ntslib_1.__decorate([\n    (0, swagger_1.ApiPropertyOptional)(),\n    (0, class_validator_1.IsOptional)(),\n    (0, class_validator_1.IsString)(),\n    (0, class_validator_1.MinLength)(5),\n    tslib_1.__metadata(\"design:type\", String)\n], UpdateProjectDto.prototype, \"title\", void 0);\ntslib_1.__decorate([\n    (0, swagger_1.ApiPropertyOptional)(),\n    (0, class_validator_1.IsOptional)(),\n    (0, class_validator_1.IsString)(),\n    tslib_1.__metadata(\"design:type\", String)\n], UpdateProjectDto.prototype, \"objective\", void 0);\ntslib_1.__decorate([\n    (0, swagger_1.ApiPropertyOptional)(),\n    (0, class_validator_1.IsOptional)(),\n    (0, class_validator_1.IsString)(),\n    tslib_1.__metadata(\"design:type\", String)\n], UpdateProjectDto.prototype, \"description\", void 0);\ntslib_1.__decorate([\n    (0, swagger_1.ApiPropertyOptional)({ enum: enums_1.ProjectStatus }),\n    (0, class_validator_1.IsOptional)(),\n    (0, class_validator_1.IsEnum)(enums_1.ProjectStatus),\n    tslib_1.__metadata(\"design:type\", typeof (_a = typeof enums_1.ProjectStatus !== \"undefined\" && enums_1.ProjectStatus) === \"function\" ? _a : Object)\n], UpdateProjectDto.prototype, \"status\", void 0);\ntslib_1.__decorate([\n    (0, swagger_1.ApiPropertyOptional)(),\n    (0, class_validator_1.IsOptional)(),\n    (0, class_validator_1.IsDateString)(),\n    tslib_1.__metadata(\"design:type\", String)\n], UpdateProjectDto.prototype, \"startDate\", void 0);\ntslib_1.__decorate([\n    (0, swagger_1.ApiPropertyOptional)(),\n    (0, class_validator_1.IsOptional)(),\n    (0, class_validator_1.IsDateString)(),\n    tslib_1.__metadata(\"design:type\", String)\n], UpdateProjectDto.prototype, \"endDate\", void 0);\ntslib_1.__decorate([\n    (0, swagger_1.ApiPropertyOptional)({ type: [String] }),\n    (0, class_validator_1.IsOptional)(),\n    (0, class_validator_1.IsArray)(),\n    (0, class_validator_1.IsUUID)('4', { each: true }),\n    tslib_1.__metadata(\"design:type\", Array)\n], UpdateProjectDto.prototype, \"teamMemberIds\", void 0);\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.CreateMilestoneDto = void 0;\nconst tslib_1 = require(\"tslib\");\nconst class_validator_1 = require(\"class-validator\");\nconst swagger_1 = require(\"@nestjs/swagger\");\nclass CreateMilestoneDto {\n}\nexports.CreateMilestoneDto = CreateMilestoneDto;\ntslib_1.__decorate([\n    (0, swagger_1.ApiProperty)(),\n    (0, class_validator_1.IsString)(),\n    (0, class_validator_1.MinLength)(3),\n    tslib_1.__metadata(\"design:type\", String)\n], CreateMilestoneDto.prototype, \"title\", void 0);\ntslib_1.__decorate([\n    (0, swagger_1.ApiPropertyOptional)(),\n    (0, class_validator_1.IsOptional)(),\n    (0, class_validator_1.IsString)(),\n    tslib_1.__metadata(\"design:type\", String)\n], CreateMilestoneDto.prototype, \"description\", void 0);\ntslib_1.__decorate([\n    (0, swagger_1.ApiProperty)(),\n    (0, class_validator_1.IsDateString)(),\n    tslib_1.__metadata(\"design:type\", String)\n], CreateMilestoneDto.prototype, \"dueDate\", void 0);\ntslib_1.__decorate([\n    (0, swagger_1.ApiPropertyOptional)(),\n    (0, class_validator_1.IsOptional)(),\n    (0, class_validator_1.IsNumber)(),\n    (0, class_validator_1.Min)(0),\n    tslib_1.__metadata(\"design:type\", Number)\n], CreateMilestoneDto.prototype, \"orderIndex\", void 0);\n","\"use strict\";\nvar _a;\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.UpdateMilestoneDto = void 0;\nconst tslib_1 = require(\"tslib\");\nconst class_validator_1 = require(\"class-validator\");\nconst swagger_1 = require(\"@nestjs/swagger\");\nconst enums_1 = require(\"../../../common/enums\");\nclass UpdateMilestoneDto {\n}\nexports.UpdateMilestoneDto = UpdateMilestoneDto;\ntslib_1.__decorate([\n    (0, swagger_1.ApiPropertyOptional)(),\n    (0, class_validator_1.IsOptional)(),\n    (0, class_validator_1.IsString)(),\n    (0, class_validator_1.MinLength)(3),\n    tslib_1.__metadata(\"design:type\", String)\n], UpdateMilestoneDto.prototype, \"title\", void 0);\ntslib_1.__decorate([\n    (0, swagger_1.ApiPropertyOptional)(),\n    (0, class_validator_1.IsOptional)(),\n    (0, class_validator_1.IsString)(),\n    tslib_1.__metadata(\"design:type\", String)\n], UpdateMilestoneDto.prototype, \"description\", void 0);\ntslib_1.__decorate([\n    (0, swagger_1.ApiPropertyOptional)(),\n    (0, class_validator_1.IsOptional)(),\n    (0, class_validator_1.IsDateString)(),\n    tslib_1.__metadata(\"design:type\", String)\n], UpdateMilestoneDto.prototype, \"dueDate\", void 0);\ntslib_1.__decorate([\n    (0, swagger_1.ApiPropertyOptional)({ enum: enums_1.MilestoneStatus }),\n    (0, class_validator_1.IsOptional)(),\n    (0, class_validator_1.IsEnum)(enums_1.MilestoneStatus),\n    tslib_1.__metadata(\"design:type\", typeof (_a = typeof enums_1.MilestoneStatus !== \"undefined\" && enums_1.MilestoneStatus) === \"function\" ? _a : Object)\n], UpdateMilestoneDto.prototype, \"status\", void 0);\ntslib_1.__decorate([\n    (0, swagger_1.ApiPropertyOptional)(),\n    (0, class_validator_1.IsOptional)(),\n    (0, class_validator_1.IsNumber)(),\n    (0, class_validator_1.Min)(0),\n    tslib_1.__metadata(\"design:type\", Number)\n], UpdateMilestoneDto.prototype, \"orderIndex\", void 0);\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.CreateProgressUpdateDto = void 0;\nconst tslib_1 = require(\"tslib\");\nconst class_validator_1 = require(\"class-validator\");\nconst swagger_1 = require(\"@nestjs/swagger\");\nclass CreateProgressUpdateDto {\n}\nexports.CreateProgressUpdateDto = CreateProgressUpdateDto;\ntslib_1.__decorate([\n    (0, swagger_1.ApiProperty)(),\n    (0, class_validator_1.IsString)(),\n    (0, class_validator_1.MinLength)(10),\n    tslib_1.__metadata(\"design:type\", String)\n], CreateProgressUpdateDto.prototype, \"notes\", void 0);\ntslib_1.__decorate([\n    (0, swagger_1.ApiPropertyOptional)(),\n    (0, class_validator_1.IsOptional)(),\n    (0, class_validator_1.IsUUID)(),\n    tslib_1.__metadata(\"design:type\", String)\n], CreateProgressUpdateDto.prototype, \"milestoneId\", void 0);\ntslib_1.__decorate([\n    (0, swagger_1.ApiPropertyOptional)({ type: [String] }),\n    (0, class_validator_1.IsOptional)(),\n    (0, class_validator_1.IsArray)(),\n    (0, class_validator_1.IsString)({ each: true }),\n    tslib_1.__metadata(\"design:type\", Array)\n], CreateProgressUpdateDto.prototype, \"attachmentPaths\", void 0);\n","\"use strict\";\nvar _a;\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.SearchProjectsDto = void 0;\nconst tslib_1 = require(\"tslib\");\nconst class_validator_1 = require(\"class-validator\");\nconst swagger_1 = require(\"@nestjs/swagger\");\nconst class_transformer_1 = require(\"class-transformer\");\nconst enums_1 = require(\"../../../common/enums\");\nclass SearchProjectsDto {\n    constructor() {\n        this.page = 1;\n        this.limit = 20;\n    }\n}\nexports.SearchProjectsDto = SearchProjectsDto;\ntslib_1.__decorate([\n    (0, swagger_1.ApiPropertyOptional)(),\n    (0, class_validator_1.IsOptional)(),\n    (0, class_validator_1.IsString)(),\n    tslib_1.__metadata(\"design:type\", String)\n], SearchProjectsDto.prototype, \"title\", void 0);\ntslib_1.__decorate([\n    (0, swagger_1.ApiPropertyOptional)(),\n    (0, class_validator_1.IsOptional)(),\n    (0, class_validator_1.IsUUID)(),\n    tslib_1.__metadata(\"design:type\", String)\n], SearchProjectsDto.prototype, \"basedOnIdeaId\", void 0);\ntslib_1.__decorate([\n    (0, swagger_1.ApiPropertyOptional)(),\n    (0, class_validator_1.IsOptional)(),\n    (0, class_validator_1.IsUUID)(),\n    tslib_1.__metadata(\"design:type\", String)\n], SearchProjectsDto.prototype, \"createdById\", void 0);\ntslib_1.__decorate([\n    (0, swagger_1.ApiPropertyOptional)({ enum: enums_1.ProjectStatus }),\n    (0, class_validator_1.IsOptional)(),\n    (0, class_validator_1.IsEnum)(enums_1.ProjectStatus),\n    tslib_1.__metadata(\"design:type\", typeof (_a = typeof enums_1.ProjectStatus !== \"undefined\" && enums_1.ProjectStatus) === \"function\" ? _a : Object)\n], SearchProjectsDto.prototype, \"status\", void 0);\ntslib_1.__decorate([\n    (0, swagger_1.ApiPropertyOptional)({ default: 1 }),\n    (0, class_validator_1.IsOptional)(),\n    (0, class_transformer_1.Type)(() => Number),\n    (0, class_validator_1.IsNumber)(),\n    (0, class_validator_1.Min)(1),\n    tslib_1.__metadata(\"design:type\", Number)\n], SearchProjectsDto.prototype, \"page\", void 0);\ntslib_1.__decorate([\n    (0, swagger_1.ApiPropertyOptional)({ default: 20 }),\n    (0, class_validator_1.IsOptional)(),\n    (0, class_transformer_1.Type)(() => Number),\n    (0, class_validator_1.IsNumber)(),\n    (0, class_validator_1.Min)(1),\n    tslib_1.__metadata(\"design:type\", Number)\n], SearchProjectsDto.prototype, \"limit\", void 0);\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.RewardsModule = void 0;\nconst tslib_1 = require(\"tslib\");\nconst common_1 = require(\"@nestjs/common\");\nconst typeorm_1 = require(\"@nestjs/typeorm\");\nconst entities_1 = require(\"../../entities\");\nconst rewards_service_1 = require(\"./rewards.service\");\nconst rewards_controller_1 = require(\"./rewards.controller\");\nlet RewardsModule = class RewardsModule {\n};\nexports.RewardsModule = RewardsModule;\nexports.RewardsModule = RewardsModule = tslib_1.__decorate([\n    (0, common_1.Module)({\n        imports: [typeorm_1.TypeOrmModule.forFeature([entities_1.Reward, entities_1.Nomination, entities_1.Project, entities_1.User])],\n        controllers: [rewards_controller_1.RewardsController],\n        providers: [rewards_service_1.RewardsService],\n        exports: [rewards_service_1.RewardsService],\n    })\n], RewardsModule);\n","\"use strict\";\nvar _a, _b, _c, _d, _e;\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.RewardsService = void 0;\nconst tslib_1 = require(\"tslib\");\nconst common_1 = require(\"@nestjs/common\");\nconst typeorm_1 = require(\"@nestjs/typeorm\");\nconst typeorm_2 = require(\"typeorm\");\nconst entities_1 = require(\"../../entities\");\nconst audit_service_1 = require(\"../audit/audit.service\");\nconst enums_1 = require(\"../../common/enums\");\nlet RewardsService = class RewardsService {\n    constructor(rewardRepository, nominationRepository, projectRepository, userRepository, auditService) {\n        this.rewardRepository = rewardRepository;\n        this.nominationRepository = nominationRepository;\n        this.projectRepository = projectRepository;\n        this.userRepository = userRepository;\n        this.auditService = auditService;\n    }\n    async createNomination(createNominationDto, nominatorId) {\n        const project = await this.projectRepository.findOne({\n            where: { id: createNominationDto.projectId },\n            relations: ['teamMembers'],\n        });\n        if (!project) {\n            throw new common_1.NotFoundException('Project not found');\n        }\n        const nominatedUser = await this.userRepository.findOne({\n            where: { id: createNominationDto.nominatedUserId },\n        });\n        if (!nominatedUser) {\n            throw new common_1.NotFoundException('Nominated user not found');\n        }\n        const isTeamMember = project.teamMembers?.some((m) => m.id === createNominationDto.nominatedUserId);\n        if (!isTeamMember && project.createdById !== createNominationDto.nominatedUserId) {\n            throw new common_1.BadRequestException('Nominated user must be a team member of the project');\n        }\n        if (createNominationDto.nominatedUserId === nominatorId) {\n            throw new common_1.BadRequestException('Cannot nominate yourself');\n        }\n        const existingNomination = await this.nominationRepository.findOne({\n            where: {\n                projectId: createNominationDto.projectId,\n                nominatedUserId: createNominationDto.nominatedUserId,\n                nominatedById: nominatorId,\n            },\n        });\n        if (existingNomination) {\n            throw new common_1.BadRequestException('You have already nominated this user for this project');\n        }\n        const nomination = this.nominationRepository.create({\n            ...createNominationDto,\n            nominatedById: nominatorId,\n            status: enums_1.NominationStatus.PENDING,\n        });\n        const savedNomination = await this.nominationRepository.save(nomination);\n        await this.auditService.log({\n            action: 'CREATE_NOMINATION',\n            entityType: 'Nomination',\n            entityId: savedNomination.id,\n            actorId: nominatorId,\n            newValues: {\n                projectId: createNominationDto.projectId,\n                nominatedUserId: createNominationDto.nominatedUserId,\n            },\n        });\n        return this.getNomination(savedNomination.id);\n    }\n    async getNomination(id) {\n        const nomination = await this.nominationRepository.findOne({\n            where: { id },\n            relations: ['project', 'nominatedUser', 'nominatedBy'],\n        });\n        if (!nomination) {\n            throw new common_1.NotFoundException('Nomination not found');\n        }\n        return nomination;\n    }\n    async getPendingNominations(page = 1, limit = 20) {\n        const [nominations, total] = await this.nominationRepository.findAndCount({\n            where: { status: enums_1.NominationStatus.PENDING },\n            relations: ['project', 'nominatedUser', 'nominatedBy'],\n            order: { createdAt: 'DESC' },\n            skip: (page - 1) * limit,\n            take: limit,\n        });\n        return {\n            items: nominations,\n            total,\n            page,\n            limit,\n            totalPages: Math.ceil(total / limit),\n        };\n    }\n    async updateNomination(id, updateNominationDto, actorId) {\n        const nomination = await this.nominationRepository.findOne({\n            where: { id },\n            relations: ['nominatedUser'],\n        });\n        if (!nomination) {\n            throw new common_1.NotFoundException('Nomination not found');\n        }\n        const previousStatus = nomination.status;\n        nomination.status = updateNominationDto.status;\n        await this.nominationRepository.save(nomination);\n        if (updateNominationDto.status === enums_1.NominationStatus.APPROVED) {\n            await this.createReward({\n                recipientId: nomination.nominatedUserId,\n                rewardType: enums_1.RewardType.BADGE,\n                badgeName: 'Team Excellence',\n                points: 50,\n                description: `Nominated for excellent contribution to project`,\n                projectId: nomination.projectId,\n            }, actorId);\n        }\n        await this.auditService.log({\n            action: 'UPDATE_NOMINATION',\n            entityType: 'Nomination',\n            entityId: id,\n            actorId,\n            previousValues: { status: previousStatus },\n            newValues: { status: updateNominationDto.status },\n        });\n        return this.getNomination(id);\n    }\n    async createReward(createRewardDto, awarderId) {\n        const recipient = await this.userRepository.findOne({\n            where: { id: createRewardDto.recipientId },\n        });\n        if (!recipient) {\n            throw new common_1.NotFoundException('Recipient not found');\n        }\n        if (createRewardDto.projectId) {\n            const project = await this.projectRepository.findOne({\n                where: { id: createRewardDto.projectId },\n            });\n            if (!project) {\n                throw new common_1.NotFoundException('Project not found');\n            }\n        }\n        const reward = this.rewardRepository.create({\n            ...createRewardDto,\n            awardedById: awarderId,\n        });\n        const savedReward = await this.rewardRepository.save(reward);\n        await this.auditService.log({\n            action: 'CREATE_REWARD',\n            entityType: 'Reward',\n            entityId: savedReward.id,\n            actorId: awarderId,\n            newValues: {\n                recipientId: createRewardDto.recipientId,\n                rewardType: createRewardDto.rewardType,\n                points: createRewardDto.points,\n            },\n        });\n        return this.rewardRepository.findOne({\n            where: { id: savedReward.id },\n            relations: ['recipient', 'awardedBy', 'project'],\n        });\n    }\n    async findAllRewards(searchDto) {\n        const { recipientId, rewardType, projectId, page = 1, limit = 20 } = searchDto;\n        const queryBuilder = this.rewardRepository\n            .createQueryBuilder('reward')\n            .leftJoinAndSelect('reward.recipient', 'recipient')\n            .leftJoinAndSelect('reward.awardedBy', 'awardedBy')\n            .leftJoinAndSelect('reward.project', 'project');\n        if (recipientId) {\n            queryBuilder.andWhere('reward.recipientId = :recipientId', { recipientId });\n        }\n        if (rewardType) {\n            queryBuilder.andWhere('reward.rewardType = :rewardType', { rewardType });\n        }\n        if (projectId) {\n            queryBuilder.andWhere('reward.projectId = :projectId', { projectId });\n        }\n        queryBuilder.orderBy('reward.awardedAt', 'DESC');\n        const [rewards, total] = await queryBuilder\n            .skip((page - 1) * limit)\n            .take(limit)\n            .getManyAndCount();\n        return {\n            items: rewards,\n            total,\n            page,\n            limit,\n            totalPages: Math.ceil(total / limit),\n        };\n    }\n    async getMyRewards(userId, searchDto) {\n        return this.findAllRewards({ ...searchDto, recipientId: userId });\n    }\n    async getLeaderboard(limit = 10) {\n        const leaderboard = await this.rewardRepository\n            .createQueryBuilder('reward')\n            .select('reward.recipientId', 'userId')\n            .addSelect('user.id', 'id')\n            .addSelect('user.name', 'name')\n            .addSelect('user.email', 'email')\n            .addSelect('user.totalPoints', 'userTotalPoints')\n            .addSelect('user.officeId', 'officeId')\n            .addSelect('SUM(reward.points)', 'totalPoints')\n            .addSelect('COUNT(DISTINCT CASE WHEN reward.rewardType = :badgeType THEN reward.id END)', 'badgeCount')\n            .addSelect('COUNT(DISTINCT CASE WHEN reward.rewardType = :certType THEN reward.id END)', 'certificateCount')\n            .innerJoin('reward.recipient', 'user')\n            .leftJoin('user.office', 'office')\n            .addSelect('office.name', 'officeName')\n            .setParameter('badgeType', enums_1.RewardType.BADGE)\n            .setParameter('certType', enums_1.RewardType.CERTIFICATE)\n            .groupBy('reward.recipientId')\n            .addGroupBy('user.id')\n            .addGroupBy('user.name')\n            .addGroupBy('user.email')\n            .addGroupBy('user.totalPoints')\n            .addGroupBy('user.officeId')\n            .addGroupBy('office.name')\n            .orderBy('SUM(reward.points)', 'DESC')\n            .limit(limit)\n            .getRawMany();\n        return leaderboard.map((entry, index) => ({\n            rank: index + 1,\n            id: entry.id,\n            userId: entry.userId,\n            name: entry.name,\n            email: entry.email,\n            totalPoints: parseInt(entry.totalPoints, 10) || 0,\n            badgeCount: parseInt(entry.badgeCount, 10) || 0,\n            badgesEarned: parseInt(entry.badgeCount, 10) || 0,\n            certificateCount: parseInt(entry.certificateCount, 10) || 0,\n            office: entry.officeName ? { name: entry.officeName } : null,\n            ideasSubmitted: 0,\n            ideasApproved: 0,\n        }));\n    }\n    async getUserStats(userId) {\n        const rewards = await this.rewardRepository.find({\n            where: { recipientId: userId },\n        });\n        const totalPoints = rewards.reduce((sum, r) => sum + (r.points || 0), 0);\n        const badges = rewards.filter((r) => r.rewardType === enums_1.RewardType.BADGE);\n        const certificates = rewards.filter((r) => r.rewardType === enums_1.RewardType.CERTIFICATE);\n        const rank = await this.rewardRepository\n            .createQueryBuilder('reward')\n            .select('reward.recipientId')\n            .addSelect('SUM(reward.points)', 'totalPoints')\n            .groupBy('reward.recipientId')\n            .having('SUM(reward.points) > :userPoints', { userPoints: totalPoints })\n            .getCount();\n        return {\n            userId,\n            totalPoints,\n            badgeCount: badges.length,\n            certificateCount: certificates.length,\n            rank: rank + 1,\n            recentRewards: rewards.slice(0, 5),\n        };\n    }\n};\nexports.RewardsService = RewardsService;\nexports.RewardsService = RewardsService = tslib_1.__decorate([\n    (0, common_1.Injectable)(),\n    tslib_1.__param(0, (0, typeorm_1.InjectRepository)(entities_1.Reward)),\n    tslib_1.__param(1, (0, typeorm_1.InjectRepository)(entities_1.Nomination)),\n    tslib_1.__param(2, (0, typeorm_1.InjectRepository)(entities_1.Project)),\n    tslib_1.__param(3, (0, typeorm_1.InjectRepository)(entities_1.User)),\n    tslib_1.__metadata(\"design:paramtypes\", [typeof (_a = typeof typeorm_2.Repository !== \"undefined\" && typeorm_2.Repository) === \"function\" ? _a : Object, typeof (_b = typeof typeorm_2.Repository !== \"undefined\" && typeorm_2.Repository) === \"function\" ? _b : Object, typeof (_c = typeof typeorm_2.Repository !== \"undefined\" && typeorm_2.Repository) === \"function\" ? _c : Object, typeof (_d = typeof typeorm_2.Repository !== \"undefined\" && typeorm_2.Repository) === \"function\" ? _d : Object, typeof (_e = typeof audit_service_1.AuditService !== \"undefined\" && audit_service_1.AuditService) === \"function\" ? _e : Object])\n], RewardsService);\n","\"use strict\";\nvar _a, _b, _c, _d, _e, _f, _g, _h, _j, _k, _l;\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.RewardsController = void 0;\nconst tslib_1 = require(\"tslib\");\nconst common_1 = require(\"@nestjs/common\");\nconst swagger_1 = require(\"@nestjs/swagger\");\nconst rewards_service_1 = require(\"./rewards.service\");\nconst dto_1 = require(\"./dto\");\nconst guards_1 = require(\"../../common/guards\");\nconst decorators_1 = require(\"../../common/decorators\");\nconst enums_1 = require(\"../../common/enums\");\nconst entities_1 = require(\"../../entities\");\nlet RewardsController = class RewardsController {\n    constructor(rewardsService) {\n        this.rewardsService = rewardsService;\n    }\n    createNomination(createNominationDto, user) {\n        return this.rewardsService.createNomination(createNominationDto, user.id);\n    }\n    getPendingNominations(page, limit) {\n        return this.rewardsService.getPendingNominations(page, limit);\n    }\n    getNomination(id) {\n        return this.rewardsService.getNomination(id);\n    }\n    updateNomination(id, updateNominationDto, user) {\n        return this.rewardsService.updateNomination(id, updateNominationDto, user.id);\n    }\n    createReward(createRewardDto, user) {\n        return this.rewardsService.createReward(createRewardDto, user.id);\n    }\n    findAll(searchDto) {\n        return this.rewardsService.findAllRewards(searchDto);\n    }\n    getMyRewards(searchDto, user) {\n        return this.rewardsService.getMyRewards(user.id, searchDto);\n    }\n    getLeaderboard(limit) {\n        return this.rewardsService.getLeaderboard(limit);\n    }\n    getUserStats(userId) {\n        return this.rewardsService.getUserStats(userId);\n    }\n    getMyStats(user) {\n        return this.rewardsService.getUserStats(user.id);\n    }\n};\nexports.RewardsController = RewardsController;\ntslib_1.__decorate([\n    (0, common_1.Post)('nominations'),\n    (0, swagger_1.ApiOperation)({ summary: 'Nominate a team member for recognition' }),\n    (0, swagger_1.ApiResponse)({ status: 201, description: 'Nomination created successfully' }),\n    tslib_1.__param(0, (0, common_1.Body)()),\n    tslib_1.__param(1, (0, decorators_1.CurrentUser)()),\n    tslib_1.__metadata(\"design:type\", Function),\n    tslib_1.__metadata(\"design:paramtypes\", [typeof (_b = typeof dto_1.CreateNominationDto !== \"undefined\" && dto_1.CreateNominationDto) === \"function\" ? _b : Object, typeof (_c = typeof entities_1.User !== \"undefined\" && entities_1.User) === \"function\" ? _c : Object]),\n    tslib_1.__metadata(\"design:returntype\", void 0)\n], RewardsController.prototype, \"createNomination\", null);\ntslib_1.__decorate([\n    (0, common_1.Get)('nominations/pending'),\n    (0, decorators_1.Roles)(enums_1.SystemRole.INNOVATION_MANAGER, enums_1.SystemRole.SYSTEM_ADMIN),\n    (0, swagger_1.ApiOperation)({ summary: 'Get pending nominations for review' }),\n    (0, swagger_1.ApiResponse)({ status: 200, description: 'Nominations retrieved successfully' }),\n    tslib_1.__param(0, (0, common_1.Query)('page')),\n    tslib_1.__param(1, (0, common_1.Query)('limit')),\n    tslib_1.__metadata(\"design:type\", Function),\n    tslib_1.__metadata(\"design:paramtypes\", [Number, Number]),\n    tslib_1.__metadata(\"design:returntype\", void 0)\n], RewardsController.prototype, \"getPendingNominations\", null);\ntslib_1.__decorate([\n    (0, common_1.Get)('nominations/:id'),\n    (0, swagger_1.ApiOperation)({ summary: 'Get nomination by ID' }),\n    (0, swagger_1.ApiResponse)({ status: 200, description: 'Nomination retrieved successfully' }),\n    tslib_1.__param(0, (0, common_1.Param)('id', common_1.ParseUUIDPipe)),\n    tslib_1.__metadata(\"design:type\", Function),\n    tslib_1.__metadata(\"design:paramtypes\", [String]),\n    tslib_1.__metadata(\"design:returntype\", void 0)\n], RewardsController.prototype, \"getNomination\", null);\ntslib_1.__decorate([\n    (0, common_1.Patch)('nominations/:id'),\n    (0, decorators_1.Roles)(enums_1.SystemRole.INNOVATION_MANAGER, enums_1.SystemRole.SYSTEM_ADMIN),\n    (0, swagger_1.ApiOperation)({ summary: 'Approve or reject a nomination' }),\n    (0, swagger_1.ApiResponse)({ status: 200, description: 'Nomination updated successfully' }),\n    tslib_1.__param(0, (0, common_1.Param)('id', common_1.ParseUUIDPipe)),\n    tslib_1.__param(1, (0, common_1.Body)()),\n    tslib_1.__param(2, (0, decorators_1.CurrentUser)()),\n    tslib_1.__metadata(\"design:type\", Function),\n    tslib_1.__metadata(\"design:paramtypes\", [String, typeof (_d = typeof dto_1.UpdateNominationDto !== \"undefined\" && dto_1.UpdateNominationDto) === \"function\" ? _d : Object, typeof (_e = typeof entities_1.User !== \"undefined\" && entities_1.User) === \"function\" ? _e : Object]),\n    tslib_1.__metadata(\"design:returntype\", void 0)\n], RewardsController.prototype, \"updateNomination\", null);\ntslib_1.__decorate([\n    (0, common_1.Post)(),\n    (0, decorators_1.Roles)(enums_1.SystemRole.INNOVATION_MANAGER, enums_1.SystemRole.SYSTEM_ADMIN),\n    (0, swagger_1.ApiOperation)({ summary: 'Award a reward to a user' }),\n    (0, swagger_1.ApiResponse)({ status: 201, description: 'Reward created successfully' }),\n    tslib_1.__param(0, (0, common_1.Body)()),\n    tslib_1.__param(1, (0, decorators_1.CurrentUser)()),\n    tslib_1.__metadata(\"design:type\", Function),\n    tslib_1.__metadata(\"design:paramtypes\", [typeof (_f = typeof dto_1.CreateRewardDto !== \"undefined\" && dto_1.CreateRewardDto) === \"function\" ? _f : Object, typeof (_g = typeof entities_1.User !== \"undefined\" && entities_1.User) === \"function\" ? _g : Object]),\n    tslib_1.__metadata(\"design:returntype\", void 0)\n], RewardsController.prototype, \"createReward\", null);\ntslib_1.__decorate([\n    (0, common_1.Get)(),\n    (0, swagger_1.ApiOperation)({ summary: 'Search and list rewards' }),\n    (0, swagger_1.ApiResponse)({ status: 200, description: 'Rewards retrieved successfully' }),\n    tslib_1.__param(0, (0, common_1.Query)()),\n    tslib_1.__metadata(\"design:type\", Function),\n    tslib_1.__metadata(\"design:paramtypes\", [typeof (_h = typeof dto_1.SearchRewardsDto !== \"undefined\" && dto_1.SearchRewardsDto) === \"function\" ? _h : Object]),\n    tslib_1.__metadata(\"design:returntype\", void 0)\n], RewardsController.prototype, \"findAll\", null);\ntslib_1.__decorate([\n    (0, common_1.Get)('my-rewards'),\n    (0, swagger_1.ApiOperation)({ summary: 'Get current user rewards' }),\n    (0, swagger_1.ApiResponse)({ status: 200, description: 'Rewards retrieved successfully' }),\n    tslib_1.__param(0, (0, common_1.Query)()),\n    tslib_1.__param(1, (0, decorators_1.CurrentUser)()),\n    tslib_1.__metadata(\"design:type\", Function),\n    tslib_1.__metadata(\"design:paramtypes\", [typeof (_j = typeof dto_1.SearchRewardsDto !== \"undefined\" && dto_1.SearchRewardsDto) === \"function\" ? _j : Object, typeof (_k = typeof entities_1.User !== \"undefined\" && entities_1.User) === \"function\" ? _k : Object]),\n    tslib_1.__metadata(\"design:returntype\", void 0)\n], RewardsController.prototype, \"getMyRewards\", null);\ntslib_1.__decorate([\n    (0, common_1.Get)('leaderboard'),\n    (0, swagger_1.ApiOperation)({ summary: 'Get rewards leaderboard' }),\n    (0, swagger_1.ApiResponse)({ status: 200, description: 'Leaderboard retrieved successfully' }),\n    tslib_1.__param(0, (0, common_1.Query)('limit')),\n    tslib_1.__metadata(\"design:type\", Function),\n    tslib_1.__metadata(\"design:paramtypes\", [Number]),\n    tslib_1.__metadata(\"design:returntype\", void 0)\n], RewardsController.prototype, \"getLeaderboard\", null);\ntslib_1.__decorate([\n    (0, common_1.Get)('stats/:userId'),\n    (0, swagger_1.ApiOperation)({ summary: 'Get user reward statistics' }),\n    (0, swagger_1.ApiResponse)({ status: 200, description: 'Stats retrieved successfully' }),\n    tslib_1.__param(0, (0, common_1.Param)('userId', common_1.ParseUUIDPipe)),\n    tslib_1.__metadata(\"design:type\", Function),\n    tslib_1.__metadata(\"design:paramtypes\", [String]),\n    tslib_1.__metadata(\"design:returntype\", void 0)\n], RewardsController.prototype, \"getUserStats\", null);\ntslib_1.__decorate([\n    (0, common_1.Get)('my-stats'),\n    (0, swagger_1.ApiOperation)({ summary: 'Get current user reward statistics' }),\n    (0, swagger_1.ApiResponse)({ status: 200, description: 'Stats retrieved successfully' }),\n    tslib_1.__param(0, (0, decorators_1.CurrentUser)()),\n    tslib_1.__metadata(\"design:type\", Function),\n    tslib_1.__metadata(\"design:paramtypes\", [typeof (_l = typeof entities_1.User !== \"undefined\" && entities_1.User) === \"function\" ? _l : Object]),\n    tslib_1.__metadata(\"design:returntype\", void 0)\n], RewardsController.prototype, \"getMyStats\", null);\nexports.RewardsController = RewardsController = tslib_1.__decorate([\n    (0, swagger_1.ApiTags)('rewards'),\n    (0, common_1.Controller)('rewards'),\n    (0, common_1.UseGuards)(guards_1.JwtAuthGuard, guards_1.RolesGuard),\n    (0, swagger_1.ApiBearerAuth)(),\n    tslib_1.__metadata(\"design:paramtypes\", [typeof (_a = typeof rewards_service_1.RewardsService !== \"undefined\" && rewards_service_1.RewardsService) === \"function\" ? _a : Object])\n], RewardsController);\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst tslib_1 = require(\"tslib\");\ntslib_1.__exportStar(require(\"./create-nomination.dto\"), exports);\ntslib_1.__exportStar(require(\"./update-nomination.dto\"), exports);\ntslib_1.__exportStar(require(\"./create-reward.dto\"), exports);\ntslib_1.__exportStar(require(\"./search-rewards.dto\"), exports);\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.CreateNominationDto = void 0;\nconst tslib_1 = require(\"tslib\");\nconst class_validator_1 = require(\"class-validator\");\nconst swagger_1 = require(\"@nestjs/swagger\");\nclass CreateNominationDto {\n}\nexports.CreateNominationDto = CreateNominationDto;\ntslib_1.__decorate([\n    (0, swagger_1.ApiProperty)(),\n    (0, class_validator_1.IsUUID)('all'),\n    tslib_1.__metadata(\"design:type\", String)\n], CreateNominationDto.prototype, \"projectId\", void 0);\ntslib_1.__decorate([\n    (0, swagger_1.ApiProperty)(),\n    (0, class_validator_1.IsUUID)('all'),\n    tslib_1.__metadata(\"design:type\", String)\n], CreateNominationDto.prototype, \"nominatedUserId\", void 0);\ntslib_1.__decorate([\n    (0, swagger_1.ApiProperty)(),\n    (0, class_validator_1.IsString)(),\n    (0, class_validator_1.MinLength)(20),\n    tslib_1.__metadata(\"design:type\", String)\n], CreateNominationDto.prototype, \"justification\", void 0);\n","\"use strict\";\nvar _a;\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.UpdateNominationDto = void 0;\nconst tslib_1 = require(\"tslib\");\nconst class_validator_1 = require(\"class-validator\");\nconst swagger_1 = require(\"@nestjs/swagger\");\nconst enums_1 = require(\"../../../common/enums\");\nclass UpdateNominationDto {\n}\nexports.UpdateNominationDto = UpdateNominationDto;\ntslib_1.__decorate([\n    (0, swagger_1.ApiProperty)({ enum: enums_1.NominationStatus }),\n    (0, class_validator_1.IsEnum)(enums_1.NominationStatus),\n    tslib_1.__metadata(\"design:type\", typeof (_a = typeof enums_1.NominationStatus !== \"undefined\" && enums_1.NominationStatus) === \"function\" ? _a : Object)\n], UpdateNominationDto.prototype, \"status\", void 0);\n","\"use strict\";\nvar _a;\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.CreateRewardDto = void 0;\nconst tslib_1 = require(\"tslib\");\nconst class_validator_1 = require(\"class-validator\");\nconst swagger_1 = require(\"@nestjs/swagger\");\nconst enums_1 = require(\"../../../common/enums\");\nclass CreateRewardDto {\n}\nexports.CreateRewardDto = CreateRewardDto;\ntslib_1.__decorate([\n    (0, swagger_1.ApiProperty)(),\n    (0, class_validator_1.IsUUID)(),\n    tslib_1.__metadata(\"design:type\", String)\n], CreateRewardDto.prototype, \"recipientId\", void 0);\ntslib_1.__decorate([\n    (0, swagger_1.ApiProperty)({ enum: enums_1.RewardType }),\n    (0, class_validator_1.IsEnum)(enums_1.RewardType),\n    tslib_1.__metadata(\"design:type\", typeof (_a = typeof enums_1.RewardType !== \"undefined\" && enums_1.RewardType) === \"function\" ? _a : Object)\n], CreateRewardDto.prototype, \"rewardType\", void 0);\ntslib_1.__decorate([\n    (0, swagger_1.ApiPropertyOptional)(),\n    (0, class_validator_1.IsOptional)(),\n    (0, class_validator_1.IsNumber)(),\n    (0, class_validator_1.Min)(0),\n    tslib_1.__metadata(\"design:type\", Number)\n], CreateRewardDto.prototype, \"points\", void 0);\ntslib_1.__decorate([\n    (0, swagger_1.ApiPropertyOptional)(),\n    (0, class_validator_1.IsOptional)(),\n    (0, class_validator_1.IsString)(),\n    tslib_1.__metadata(\"design:type\", String)\n], CreateRewardDto.prototype, \"badgeName\", void 0);\ntslib_1.__decorate([\n    (0, swagger_1.ApiPropertyOptional)(),\n    (0, class_validator_1.IsOptional)(),\n    (0, class_validator_1.IsString)(),\n    tslib_1.__metadata(\"design:type\", String)\n], CreateRewardDto.prototype, \"certificateTitle\", void 0);\ntslib_1.__decorate([\n    (0, swagger_1.ApiPropertyOptional)(),\n    (0, class_validator_1.IsOptional)(),\n    (0, class_validator_1.IsString)(),\n    tslib_1.__metadata(\"design:type\", String)\n], CreateRewardDto.prototype, \"description\", void 0);\ntslib_1.__decorate([\n    (0, swagger_1.ApiPropertyOptional)(),\n    (0, class_validator_1.IsOptional)(),\n    (0, class_validator_1.IsUUID)(),\n    tslib_1.__metadata(\"design:type\", String)\n], CreateRewardDto.prototype, \"projectId\", void 0);\n","\"use strict\";\nvar _a;\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.SearchRewardsDto = void 0;\nconst tslib_1 = require(\"tslib\");\nconst class_validator_1 = require(\"class-validator\");\nconst swagger_1 = require(\"@nestjs/swagger\");\nconst class_transformer_1 = require(\"class-transformer\");\nconst enums_1 = require(\"../../../common/enums\");\nclass SearchRewardsDto {\n    constructor() {\n        this.page = 1;\n        this.limit = 20;\n    }\n}\nexports.SearchRewardsDto = SearchRewardsDto;\ntslib_1.__decorate([\n    (0, swagger_1.ApiPropertyOptional)(),\n    (0, class_validator_1.IsOptional)(),\n    (0, class_validator_1.IsUUID)(),\n    tslib_1.__metadata(\"design:type\", String)\n], SearchRewardsDto.prototype, \"recipientId\", void 0);\ntslib_1.__decorate([\n    (0, swagger_1.ApiPropertyOptional)({ enum: enums_1.RewardType }),\n    (0, class_validator_1.IsOptional)(),\n    (0, class_validator_1.IsEnum)(enums_1.RewardType),\n    tslib_1.__metadata(\"design:type\", typeof (_a = typeof enums_1.RewardType !== \"undefined\" && enums_1.RewardType) === \"function\" ? _a : Object)\n], SearchRewardsDto.prototype, \"rewardType\", void 0);\ntslib_1.__decorate([\n    (0, swagger_1.ApiPropertyOptional)(),\n    (0, class_validator_1.IsOptional)(),\n    (0, class_validator_1.IsUUID)(),\n    tslib_1.__metadata(\"design:type\", String)\n], SearchRewardsDto.prototype, \"projectId\", void 0);\ntslib_1.__decorate([\n    (0, swagger_1.ApiPropertyOptional)({ default: 1 }),\n    (0, class_validator_1.IsOptional)(),\n    (0, class_transformer_1.Type)(() => Number),\n    (0, class_validator_1.IsNumber)(),\n    (0, class_validator_1.Min)(1),\n    tslib_1.__metadata(\"design:type\", Number)\n], SearchRewardsDto.prototype, \"page\", void 0);\ntslib_1.__decorate([\n    (0, swagger_1.ApiPropertyOptional)({ default: 20 }),\n    (0, class_validator_1.IsOptional)(),\n    (0, class_transformer_1.Type)(() => Number),\n    (0, class_validator_1.IsNumber)(),\n    (0, class_validator_1.Min)(1),\n    tslib_1.__metadata(\"design:type\", Number)\n], SearchRewardsDto.prototype, \"limit\", void 0);\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.AuditModule = void 0;\nconst tslib_1 = require(\"tslib\");\nconst common_1 = require(\"@nestjs/common\");\nconst typeorm_1 = require(\"@nestjs/typeorm\");\nconst entities_1 = require(\"../../entities\");\nconst audit_service_1 = require(\"./audit.service\");\nconst audit_controller_1 = require(\"./audit.controller\");\nlet AuditModule = class AuditModule {\n};\nexports.AuditModule = AuditModule;\nexports.AuditModule = AuditModule = tslib_1.__decorate([\n    (0, common_1.Global)(),\n    (0, common_1.Module)({\n        imports: [typeorm_1.TypeOrmModule.forFeature([entities_1.AuditLog])],\n        controllers: [audit_controller_1.AuditController],\n        providers: [audit_service_1.AuditService],\n        exports: [audit_service_1.AuditService],\n    })\n], AuditModule);\n","\"use strict\";\nvar _a;\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.AuditController = void 0;\nconst tslib_1 = require(\"tslib\");\nconst common_1 = require(\"@nestjs/common\");\nconst swagger_1 = require(\"@nestjs/swagger\");\nconst audit_service_1 = require(\"./audit.service\");\nconst guards_1 = require(\"../../common/guards\");\nconst decorators_1 = require(\"../../common/decorators\");\nconst enums_1 = require(\"../../common/enums\");\nlet AuditController = class AuditController {\n    constructor(auditService) {\n        this.auditService = auditService;\n    }\n    async findAll(page, limit, entityType, action, actorId, search) {\n        return this.auditService.findAll({\n            page: page ? Number(page) : undefined,\n            limit: limit ? Number(limit) : undefined,\n            entityType,\n            action,\n            actorId,\n            search,\n        });\n    }\n    async findByEntity(entityType, entityId) {\n        return this.auditService.findByEntityId(entityType, entityId);\n    }\n};\nexports.AuditController = AuditController;\ntslib_1.__decorate([\n    (0, common_1.Get)(),\n    (0, decorators_1.Roles)(enums_1.SystemRole.SYSTEM_ADMIN, enums_1.SystemRole.INNOVATION_MANAGER),\n    (0, swagger_1.ApiOperation)({ summary: 'Get audit logs (admin only)' }),\n    (0, swagger_1.ApiResponse)({ status: 200, description: 'Audit logs retrieved successfully' }),\n    (0, swagger_1.ApiQuery)({ name: 'page', required: false, type: Number }),\n    (0, swagger_1.ApiQuery)({ name: 'limit', required: false, type: Number }),\n    (0, swagger_1.ApiQuery)({ name: 'entityType', required: false, type: String }),\n    (0, swagger_1.ApiQuery)({ name: 'action', required: false, type: String }),\n    (0, swagger_1.ApiQuery)({ name: 'actorId', required: false, type: String }),\n    (0, swagger_1.ApiQuery)({ name: 'search', required: false, type: String }),\n    tslib_1.__param(0, (0, common_1.Query)('page')),\n    tslib_1.__param(1, (0, common_1.Query)('limit')),\n    tslib_1.__param(2, (0, common_1.Query)('entityType')),\n    tslib_1.__param(3, (0, common_1.Query)('action')),\n    tslib_1.__param(4, (0, common_1.Query)('actorId')),\n    tslib_1.__param(5, (0, common_1.Query)('search')),\n    tslib_1.__metadata(\"design:type\", Function),\n    tslib_1.__metadata(\"design:paramtypes\", [Number, Number, String, String, String, String]),\n    tslib_1.__metadata(\"design:returntype\", Promise)\n], AuditController.prototype, \"findAll\", null);\ntslib_1.__decorate([\n    (0, common_1.Get)('entity/:entityType/:entityId'),\n    (0, decorators_1.Roles)(enums_1.SystemRole.SYSTEM_ADMIN, enums_1.SystemRole.INNOVATION_MANAGER),\n    (0, swagger_1.ApiOperation)({ summary: 'Get audit logs for specific entity' }),\n    (0, swagger_1.ApiResponse)({ status: 200, description: 'Audit logs retrieved successfully' }),\n    tslib_1.__param(0, (0, common_1.Param)('entityType')),\n    tslib_1.__param(1, (0, common_1.Param)('entityId')),\n    tslib_1.__metadata(\"design:type\", Function),\n    tslib_1.__metadata(\"design:paramtypes\", [String, String]),\n    tslib_1.__metadata(\"design:returntype\", Promise)\n], AuditController.prototype, \"findByEntity\", null);\nexports.AuditController = AuditController = tslib_1.__decorate([\n    (0, swagger_1.ApiTags)('audit'),\n    (0, common_1.Controller)('audit'),\n    (0, common_1.UseGuards)(guards_1.JwtAuthGuard, guards_1.RolesGuard),\n    (0, swagger_1.ApiBearerAuth)(),\n    tslib_1.__metadata(\"design:paramtypes\", [typeof (_a = typeof audit_service_1.AuditService !== \"undefined\" && audit_service_1.AuditService) === \"function\" ? _a : Object])\n], AuditController);\n","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId](module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst common_1 = require(\"@nestjs/common\");\nconst core_1 = require(\"@nestjs/core\");\nconst swagger_1 = require(\"@nestjs/swagger\");\nconst app_module_1 = require(\"./app/app.module\");\nasync function bootstrap() {\n    const app = await core_1.NestFactory.create(app_module_1.AppModule);\n    const globalPrefix = 'api';\n    app.setGlobalPrefix(globalPrefix);\n    app.useGlobalPipes(new common_1.ValidationPipe({\n        whitelist: true,\n        forbidNonWhitelisted: true,\n        transform: true,\n        transformOptions: {\n            enableImplicitConversion: true,\n        },\n    }));\n    app.enableCors({\n        origin: process.env.CORS_ORIGIN || '*',\n        credentials: true,\n    });\n    const config = new swagger_1.DocumentBuilder()\n        .setTitle('DKN API')\n        .setDescription('Digital Knowledge Network API for Velion Dynamics')\n        .setVersion('1.0')\n        .addBearerAuth()\n        .addTag('auth', 'Authentication endpoints')\n        .addTag('users', 'User management endpoints')\n        .addTag('offices', 'Office management endpoints')\n        .addTag('ideas', 'Idea submission and crowdsourcing endpoints')\n        .addTag('reviews', 'Idea review endpoints')\n        .addTag('projects', 'Innovation project management endpoints')\n        .addTag('rewards', 'Recognition and rewards endpoints')\n        .addTag('audit', 'Audit log endpoints')\n        .build();\n    const document = swagger_1.SwaggerModule.createDocument(app, config);\n    swagger_1.SwaggerModule.setup('api/docs', app, document);\n    const port = process.env.PORT || 3000;\n    await app.listen(port);\n    common_1.Logger.log(` Application is running on: http://localhost:${port}/${globalPrefix}`);\n    common_1.Logger.log(` Swagger docs available at: http://localhost:${port}/api/docs`);\n}\nbootstrap();\n"],"names":[],"ignoreList":[],"sourceRoot":""}